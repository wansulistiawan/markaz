<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modul KTR-104: Dasar Pemecahan Masalah & Perawatan Aset</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8fafc; /* slate-50 */
        }
        .tab-btn {
            transition: all 0.3s ease;
        }
        .tab-btn.active {
            background-color: #0d9488; /* teal-600 */
            color: white;
            border-color: #0d9488;
        }
        .content-section {
            display: none;
        }
        .content-section.active {
            display: block;
        }
        .card {
            background-color: white;
            border-radius: 0.75rem;
            padding: 1.5rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            margin-bottom: 1.5rem;
        }
        .quiz-option {
            transition: all 0.2s ease;
        }
        .quiz-option:hover {
            background-color: #f1f5f9; /* slate-100 */
        }
        .quiz-option.correct {
            background-color: #dcfce7; /* green-100 */
            border-color: #22c55e; /* green-500 */
        }
        .quiz-option.incorrect {
            background-color: #fee2e2; /* red-100 */
            border-color: #ef4444; /* red-500 */
        }
        .teacher-note {
            background-color: #fefce8; /* yellow-50 */
            border-left: 4px solid #eab308; /* yellow-500 */
            padding: 1rem;
            margin-top: 1.5rem;
            border-radius: 0 0.5rem 0.5rem 0;
        }
    </style>
</head>
<body class="text-slate-800">

    <div class="container mx-auto p-4 md:p-8">
        <!-- Judul Utama -->
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-teal-700">Modul Pembelajaran Interaktif</h1>
            <p class="text-xl text-slate-600 mt-2">KTR-104: Dasar Pemecahan Masalah & Perawatan Aset</p>
        </header>

        <!-- Navigasi Tab -->
        <nav class="mb-8 flex flex-wrap justify-center gap-2 md:gap-4">
            <button class="tab-btn active w-full md:w-auto font-semibold py-2 px-4 border-2 border-slate-300 rounded-full" data-target="pertemuan1">Pertemuan 1: Pentingnya Amanah</button>
            <button class="tab-btn w-full md:w-auto font-semibold py-2 px-4 border-2 border-slate-300 rounded-full" data-target="pertemuan2">Pertemuan 2: Metode Pemecahan Masalah</button>
            <button class="tab-btn w-full md:w-auto font-semibold py-2 px-4 border-2 border-slate-300 rounded-full" data-target="pertemuan3">Pertemuan 3: Jenis Perawatan Aset</button>
            <button class="tab-btn w-full md:w-auto font-semibold py-2 px-4 border-2 border-slate-300 rounded-full" data-target="pertemuan4">Pertemuan 4: Rencana Perawatan</button>
            <button class="tab-btn w-full md:w-auto font-semibold py-2 px-4 border-2 border-slate-300 rounded-full" data-target="sumatif">Tes Sumatif</button>
        </nav>

        <main>
            <!-- Pertemuan 1 -->
            <section id="pertemuan1" class="content-section active">
                <div class="card">
                     <h2 class="text-2xl font-bold text-teal-700 mb-1">Pertemuan 1 dari 4</h2>
                     <p class="text-lg text-slate-600 mb-4 border-b pb-4">Topik: Aset adalah Amanah</p>
                    
                    <div class="space-y-6">
                        <div>
                            <h3 class="text-xl font-semibold text-teal-800 mb-2">A. Tujuan Pembelajaran</h3>
                            <ol class="list-decimal list-inside space-y-1">
                                <li>Menjelaskan makna aset dalam lingkup pesantren/RTQ.</li>
                                <li>Menghubungkan konsep merawat aset dengan akhlak amanah dan syukur.</li>
                                <li>Mengidentifikasi tahapan dalam siklus hidup sebuah aset.</li>
                            </ol>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-teal-800 mb-2">B. Keterkaitan Nilai Islam</h3>
                            <p>Pertemuan ini menekankan pada konsep fundamental <strong>Amanah</strong>. Santri diajak untuk memahami bahwa semua fasilitas yang mereka nikmati adalah titipan dari Allah ﷻ yang harus dipertanggungjawabkan. Merawatnya adalah ibadah, melalaikannya adalah pengkhianatan. Ini juga merupakan wujud <strong>Syukur</strong> secara perbuatan, bukan hanya lisan.</p>
                        </div>
                         <div>
                            <h3 class="text-xl font-semibold text-teal-800 mb-2">C. Skenario Pembelajaran (90 Menit)</h3>
                            <div class="space-y-4">
                                <div class="p-4 bg-slate-50 rounded-lg">
                                    <h4 class="font-semibold">1. Kegiatan Pembukaan (15 Menit)</h4>
                                    <ul class="list-disc list-inside ml-4">
                                        <li>Guru membuka dengan salam, doa, dan mengabsen.</li>
                                        <li><strong>Apersepsi:</strong> Guru bertanya, "Apa benda di ruangan ini yang paling membantu antum dalam belajar? Bagaimana kondisinya sekarang?"</li>
                                        <li>Guru menyampaikan tujuan dan mengaitkan pentingnya merawat barang sebagai cerminan keshalihan seseorang.</li>
                                    </ul>
                                </div>
                                <div class="p-4 bg-slate-50 rounded-lg">
                                    <h4 class="font-semibold">2. Kegiatan Inti (60 Menit)</h4>
                                    <div>
                                        <p class="mb-4"><strong>Langkah 1: Memahami Makna Aset dan Urgensinya (20 Menit)</strong></p>
                                        <p class="mb-4">Bismillah. Mari kita mulai dengan memahami apa itu aset. Dalam kehidupan sehari-hari, <strong>Aset</strong> adalah segala sesuatu yang memiliki nilai guna dan dimiliki oleh perorangan atau lembaga. Di lingkungan kita tercinta, Rumah Tahfidz Qur'an, contoh aset sangatlah banyak dan vital bagi kegiatan kita. Coba kita sebutkan bersama: gedung asrama tempat kita beristirahat, ruang kelas tempat kita belajar, masjid tempat kita shalat dan `muroja'ah`, ranjang, lemari, Al-Qur'an dan kitab-kitab, komputer, proyektor, kipas angin, lampu, dispenser, bahkan hingga keran air di tempat wudhu. </p>
                                        <p class="mb-4">Setiap aset ini diadakan bukan tanpa tujuan. Mereka adalah sarana, wasilah yang Allah ﷻ sediakan melalui para muhsinin dan pengurus untuk memberikan kita manfaat dan kemudahan dalam menuntut ilmu dan beribadah. Bayangkan sejenak jika salah satu aset ini bermasalah. Kipas angin di kamar rusak, tentu kenyamanan kita untuk beristirahat dan menghafal akan terganggu, terutama saat cuaca panas. Jika keran wudhu bocor, air yang merupakan nikmat besar dari Allah akan terbuang sia-sia (mubazir), dan perbuatan mubazir sangat dibenci oleh Allah.</p>

                                        <p class="mb-4"><strong>Langkah 2: Aset sebagai Cerminan Syukur dan Amanah (20 Menit)</strong></p>
                                        <p class="mb-4">Perspektif seorang muslim terhadap aset lebih dalam dari sekadar 'barang'. Semua fasilitas ini pada hakikatnya adalah titipan (amanah) yang Allah ﷻ percayakan kepada kita. Cara kita memperlakukannya adalah cerminan langsung dari rasa syukur dan tingkat tanggung jawab kita. Menjaganya hingga awet dan berfungsi baik adalah ibadah yang mendatangkan pahala, karena kita telah menunaikan amanah. Sebaliknya, merusaknya dengan sengaja atau membiarkannya rusak karena lalai adalah bentuk pengkhianatan terhadap amanah dan kufur nikmat.</p>
                                        <div class="teacher-note">
                                            <p class="font-semibold">Poin Diskusi Guru:</p>
                                            <p>Ajak santri berdiskusi: "Sebutkan satu aset di asrama yang paling sering kalian gunakan. Bagaimana kondisi aset tersebut sekarang? Apa yang bisa kita lakukan sebagai bentuk syukur atas adanya aset tersebut?"</p>
                                        </div>

                                        <p class="mb-4 mt-4"><strong>Langkah 3: Studi Kasus - Siklus Hidup Aset (20 Menit)</strong></p>
                                        <p class="mb-2">Setiap aset, seperti makhluk hidup, memiliki siklus hidup. Ia lahir (baru), ia produktif (dipakai), ia menua (butuh perawatan), ia sakit (mulai rusak), dan akhirnya ia mati (rusak total). Tugas kita adalah menjadi "perawat" yang baik agar usianya panjang dan manfaatnya maksimal.</p>
                                        <div class="p-4 bg-slate-100 rounded-lg flex justify-center items-center my-4">
                                            <svg width="400" height="150" viewBox="0 0 400 150" xmlns="http://www.w3.org/2000/svg" class="w-full h-auto max-w-lg mx-auto">
                                                <text x="200" y="20" text-anchor="middle" font-weight="bold">Siklus Aset Kipas Angin</text>
                                                <circle cx="50" cy="70" r="25" fill="#a7f3d0"/><text x="50" y="75" text-anchor="middle" font-size="12">Baru</text><text x="50" y="115" text-anchor="middle" font-size="12">Baik</text>
                                                <line x1="80" y1="70" x2="120" y2="70" stroke="#9ca3af" stroke-width="2"/><polygon points="120,65 130,70 120,75" fill="#9ca3af"/>
                                                <circle cx="160" cy="70" r="25" fill="#fde68a"/><text x="160" y="75" text-anchor="middle" font-size="12">Dipakai</text><text x="160" y="115" text-anchor="middle" font-size="12">Butuh Rawat</text>
                                                <line x1="190" y1="70" x2="230" y2="70" stroke="#9ca3af" stroke-width="2"/><polygon points="230,65 240,70 230,75" fill="#9ca3af"/>
                                                <circle cx="270" cy="70" r="25" fill="#fecaca"/><text x="270" y="75" text-anchor="middle" font-size="12">Mulai Rusak</text><text x="270" y="115" text-anchor="middle" font-size="12">Perbaiki?</text>
                                                <line x1="300" y1="70" x2="340" y2="70" stroke="#9ca3af" stroke-width="2"/><polygon points="340,65 350,70 340,75" fill="#9ca3af"/>
                                                <circle cx="380" cy="70" r="25" fill="#e5e7eb"/><text x="380" y="75" text-anchor="middle" font-size="12">Rusak Total</text><text x="380" y="115" text-anchor="middle" font-size="12">Dibuang</text>
                                            </svg>
                                        </div>
                                        <ul class="list-disc list-inside mt-4 space-y-2">
                                            <li><strong>Tahap 1 (Hijau - Sehat):</strong> Saat baru, semua berfungsi sempurna. Tugas kita adalah menggunakan sesuai aturan. Jangan menekan tombol kipas dengan kasar, jangan membiarkannya menyala 24 jam non-stop.</li>
                                            <li><strong>Tahap 2 (Kuning - Mulai Lelah):</strong> Setelah dipakai beberapa lama, mulai muncul tanda-tanda kecil (misal: debu menumpuk di baling-baling, suara sedikit lebih berisik). Di sinilah perawatan rutin (membersihkan debu) menjadi sangat penting untuk mencegahnya masuk ke tahap berikutnya. Inilah titik krusial kepedulian kita.</li>
                                            <li><strong>Tahap 3 (Merah - Sakit):</strong> Jika diabaikan, debu yang menumpuk membuat putaran melambat, suara semakin kasar, bahkan bisa macet. Perbaikan di tahap ini lebih sulit dan mahal, bahkan mungkin butuh bantuan teknisi.</li>
                                            <li><strong>Tahap 4 (Abu-abu - Wafat):</strong> Aset rusak total dan tidak bisa diperbaiki. Ini adalah kegagalan kita dalam menjaga amanah, yang berujung pada hilangnya manfaat dan pemborosan.</li>
                                        </ul>
                                    </div>
                                </div>
                                <div class="p-4 bg-slate-50 rounded-lg">
                                    <h4 class="font-semibold">3. Kegiatan Penutup (15 Menit)</h4>
                                    <ul class="list-disc list-inside ml-4">
                                        <li><strong>Kesimpulan:</strong> Guru bersama santri menyimpulkan bahwa merawat aset adalah bagian dari amanah dan syukur.</li>
                                        <li><strong>Refleksi:</strong> Santri mengerjakan Latihan Formatif 1.</li>
                                        <li>Guru menutup dengan doa <i>kafaratul majlis</i> dan salam.</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                 <div class="card">
                    <h3 class="text-xl font-semibold mb-3 mt-4">Simulasi Interaktif</h3>
                     <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                        <div>
                            <p class="font-semibold mb-2">1. Identifikasi Aset di Sekitarmu</p>
                            <div class="p-4 border rounded-lg bg-slate-50 h-full">
                                <p class="mb-2">Manakah di bawah ini yang merupakan aset di lingkungan RTQ?</p>
                                <div class="space-y-2" id="asset-quiz">
                                    <button class="asset-option w-full text-left p-2 border rounded" data-correct="true">Al-Qur'an dan buku-buku</button>
                                    <button class="asset-option w-full text-left p-2 border rounded" data-correct="false">Niat yang ikhlas</button>
                                    <button class="asset-option w-full text-left p-2 border rounded" data-correct="true">Lampu dan Kipas Angin</button>
                                    <button class="asset-option w-full text-left p-2 border rounded" data-correct="false">Hafalan Qur'an</button>
                                </div>
                                <p class="mt-2 text-sm text-slate-500">Aset adalah benda fisik yang bernilai. Niat dan hafalan adalah hal yang jauh lebih berharga, namun bukan 'aset' dalam konteks materi ini.</p>
                            </div>
                        </div>
                        <div>
                            <p class="font-semibold mb-2">2. Dampak Penelantaran Aset</p>
                            <div class="p-4 border rounded-lg bg-slate-50 h-full">
                                <label for="asset-age" class="block font-medium mb-2">Usia Pakai AC (Tahun): <span id="asset-age-val" class="font-bold text-teal-600">0</span></label>
                                <input type="range" id="asset-age" min="0" max="10" value="0" step="1" class="w-full">
                                <p class="mt-4 text-center text-lg">Kondisi: <strong id="asset-condition" class="text-green-600">Sangat Baik</strong></p>
                                <p class="mt-1 text-center text-sm">Biaya Perbaikan: <strong id="asset-cost" class="text-red-600">Rp 0</strong></p>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="card">
                    <h2 class="text-2xl font-bold text-teal-700 mb-4">Latihan Formatif 1</h2>
                    <div id="quiz1"></div>
                </div>
            </section>

            <!-- Pertemuan 2 -->
            <section id="pertemuan2" class="content-section">
                <div class="card">
                     <h2 class="text-2xl font-bold text-teal-700 mb-1">Pertemuan 2 dari 4</h2>
                     <p class="text-lg text-slate-600 mb-4 border-b pb-4">Topik: Metode Pemecahan Masalah</p>

                    <div class="space-y-6">
                        <div>
                            <h3 class="text-xl font-semibold text-teal-800 mb-2">A. Tujuan Pembelajaran</h3>
                            <ol class="list-decimal list-inside space-y-1">
                                <li>Menjelaskan 4 langkah sistematis dalam pemecahan masalah.</li>
                                <li>Menerapkan teknik "5 Whys" untuk menemukan akar penyebab masalah.</li>
                                <li>Membedakan antara gejala masalah dan akar masalah.</li>
                            </ol>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-teal-800 mb-2">B. Keterkaitan Nilai Islam</h3>
                            <p>Pertemuan ini menekankan pada sifat <strong>`Itqan`</strong> (profesional, teliti, tuntas) dan <strong>`Hikmah`</strong> (kebijaksanaan). Seorang muslim tidak gegabah dalam bertindak, melainkan melakukan diagnosis (tabayyun) untuk menemukan akar masalah sebelum bertindak. Ini adalah cerminan dari pola pikir yang terstruktur dan mendalam.</p>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-teal-800 mb-2">C. Skenario Pembelajaran (90 Menit)</h3>
                            <div class="p-4 bg-slate-50 rounded-lg">
                                <h4 class="font-semibold mb-2">Kegiatan Inti (60 Menit)</h4>
                                <div>
                                    <p class="mb-4"><strong>Langkah 1: Pengantar - Menjadi "Dokter" bagi Aset (15 Menit)</strong></p>
                                    <p class="mb-4">Ketika sebuah aset rusak, seringkali reaksi pertama kita adalah panik, saling menyalahkan, atau mencoba memperbaiki secara asal-asalan. Seorang muslim yang `itqan` akan menghadapi masalah dengan tenang, kepala dingin, dan mencari solusi secara sistematis. Bayangkan antum adalah seorang dokter. Ada "pasien" (aset yang rusak) datang. Tentu tidak langsung memberikan obat, bukan? Antum akan memeriksa dulu dengan seksama. Inilah prosesnya:</p>
                                     <div class="p-4 bg-white rounded-lg flex justify-center items-center my-4">
                                        <svg width="500" height="150" viewBox="0 0 500 150" xmlns="http://www.w3.org/2000/svg" class="w-full h-auto max-w-xl mx-auto">
                                            <g fill="#334155" font-size="12" text-anchor="middle">
                                                <rect x="10" y="40" width="100" height="60" rx="5" fill="#e0f2fe"/><text x="60" y="70">1. Identifikasi</text><text x="60" y="85">(Anamnesis)</text>
                                                <line x1="115" y1="75" x2="145" y2="75" stroke="#64748b" stroke-width="2"/><polygon points="145,70 155,75 145,80" fill="#64748b"/>
                                                <rect x="160" y="40" width="100" height="60" rx="5" fill="#fef3c7"/><text x="210" y="70">2. Analisis Akar</text><text x="210" y="85">(Diagnosis)</text>
                                                <line x1="265" y1="75" x2="295" y2="75" stroke="#64748b" stroke-width="2"/><polygon points="295,70 305,75 295,80" fill="#64748b"/>
                                                <rect x="310" y="40" width="80" height="60" rx="5" fill="#dcfce7"/><text x="350" y="70">3. Solusi</text><text x="350" y="85">(Resep)</text>
                                                <line x1="395" y1="75" x2="405" y2="75" stroke="#64748b" stroke-width="2"/><polygon points="405,70 415,75 405,80" fill="#64748b"/>
                                                <rect x="420" y="40" width="80" height="60" rx="5" fill="#f1f5f9"/><text x="460" y="70">4. Evaluasi</text><text x="460" y="85">(Kontrol)</text>
                                            </g>
                                        </svg>
                                    </div>

                                    <p class="mb-4"><strong>Langkah 2: Mendalami 4 Langkah Sistematis (25 Menit)</strong></p>
                                    <ul class="list-decimal list-inside mt-4 space-y-3">
                                        <li><strong>Identifikasi Masalah (Anamnesis):</strong> Ini adalah saat "dokter" bertanya pada "pasien". Apa keluhannya? Kapan mulainya? Bagaimana rasanya? Kita harus mendefinisikan masalah dengan spesifik. Jangan katakan, "Dispenser rusak." Katakan, "Dispenser menyala, air galon penuh, tapi air tidak mau keluar saat tombol ditekan."</li>
                                        <li><strong>Analisis Akar Masalah (Diagnosis):</strong> Setelah tahu gejalanya, dokter akan memeriksa lebih dalam untuk mencari penyakitnya. Apakah karena sumbatannya, pompanya, atau kelistrikannya? Di sinilah kita menggunakan teknik "5 Whys" untuk menemukan sumber penyakitnya, bukan hanya mengobati gejalanya.</li>
                                        <li><strong>Terapkan Solusi (Memberi Resep):</strong> Setelah diagnosis ditegakkan, barulah dokter memberikan resep obat yang tepat. Jika akar masalahnya adalah selang tersumbat lumut, maka solusinya adalah membersihkan selang, bukan memukul-mukul dispenser.</li>
                                        <li><strong>Evaluasi & Standarisasi (Jadwal Kontrol):</strong> Setelah pasien minum obat, dokter akan meminta kontrol untuk memastikan ia sembuh total. Kita juga harus begitu. Setelah dispenser dibersihkan, apakah sudah normal? Jika ya, kita buat standar baru: "Wajib kuras dispenser setiap 2 pekan sekali agar tidak berlumut lagi."</li>
                                    </ul>
                                    
                                    <p class="mb-4 mt-4"><strong>Langkah 3: Studi Kasus Analisis - Teknik 5 Whys (20 Menit)</strong></p>
                                    <p class="mb-4">Teknik ini sederhana namun sangat ampuh untuk mengupas masalah hingga ke akarnya. Mari kita lihat contoh yang sering terjadi di asrama.</p>
                                    <div class="p-4 bg-white rounded-lg">
                                        <p><strong>Masalah:</strong> Lantai kamar mandi sering becek dan licin.</p>
                                        <ul class="list-decimal list-inside ml-4 mt-2 space-y-1">
                                            <li><strong>Mengapa 1 (Gejala)?</strong> Karena keran air di tempat wudhu menetes terus.</li>
                                            <li><strong>Mengapa 2?</strong> Karena putaran keran sudah aus (dol) dan tidak bisa menutup rapat.</li>
                                            <li><strong>Mengapa 3?</strong> Karena keran sering diputar melebihi batas (terlalu keras).</li>
                                            <li><strong>Mengapa 4?</strong> Karena sebagian santri terburu-buru saat berwudhu dan tidak peduli.</li>
                                            <li><strong>Mengapa 5 (Akar Masalah)?</strong> Karena kurangnya pemahaman tentang adab menggunakan air dan fasilitas bersama, serta tidak adanya pengingat.</li>
                                        </ul>
                                        <div class="teacher-note">
                                            <p class="font-semibold">Poin Diskusi Guru:</p>
                                            <p>Tanyakan pada santri: "Jika kita hanya fokus pada 'Mengapa 2' dan solusinya hanya mengganti keran, apa yang akan terjadi sebulan kemudian? Lalu, apa solusi yang paling tuntas (`itqan`) menurut kalian berdasarkan 'Mengapa 5'?"</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3 class="text-xl font-semibold mb-3 mt-4">Simulasi Interaktif: 5 Whys</h3>
                     <div class="p-4 border rounded-lg bg-slate-50">
                        <label for="problem-input-2" class="block font-medium mb-2">Masukkan Masalah Awal:</label>
                        <input type="text" id="problem-input-2" class="w-full p-2 border rounded" value="Tumpukan sampah sering ada di depan kamar">
                        <div id="whys-container" class="mt-4 space-y-2"></div>
                        <button id="add-why-btn" class="mt-4 bg-teal-500 text-white font-bold py-2 px-4 rounded hover:bg-teal-600">Tanyakan "Mengapa?"</button>
                     </div>
                </div>
                <div class="card">
                    <h2 class="text-2xl font-bold text-teal-700 mb-4">Latihan Formatif 2</h2>
                    <div id="quiz2"></div>
                </div>
            </section>
            
            <!-- Pertemuan 3 -->
            <section id="pertemuan3" class="content-section">
                 <div class="card">
                     <h2 class="text-2xl font-bold text-teal-700 mb-1">Pertemuan 3 dari 4</h2>
                     <p class="text-lg text-slate-600 mb-4 border-b pb-4">Topik: Jenis-Jenis Perawatan Aset</p>
                     
                    <div class="space-y-6">
                        <div>
                            <h3 class="text-xl font-semibold text-teal-800 mb-2">A. Tujuan Pembelajaran</h3>
                            <ol class="list-decimal list-inside space-y-1">
                                <li>Menjelaskan perbedaan mendasar antara perawatan reaktif, preventif, dan prediktif.</li>
                                <li>Menganalisis keuntungan dan kerugian dari setiap jenis perawatan.</li>
                                <li>Menentukan jenis perawatan yang paling sesuai dengan akhlak seorang muslim.</li>
                            </ol>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-teal-800 mb-2">B. Keterkaitan Nilai Islam</h3>
                            <p>Pertemuan ini menekankan sikap <strong>Proaktif vs Reaktif</strong>. Islam mengajarkan umatnya untuk menjadi proaktif, melakukan persiapan, dan tidak menunggu masalah datang (seperti dalam perintah mempersiapkan kekuatan di QS. Al-Anfal: 60). Perawatan preventif adalah wujud sikap proaktif dalam menjaga amanah.</p>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-teal-800 mb-2">C. Skenario Pembelajaran (90 Menit)</h3>
                             <div class="p-4 bg-slate-50 rounded-lg">
                                <p class="mb-4"><strong>Langkah 1: Pengantar - Tiga Tipe Orang (15 Menit)</strong></p>
                                <p>Guru memberi analogi: "Ada tiga tipe orang saat menghadapi ujian. Tipe A (Reaktif) baru belajar panik semalam sebelum ujian. Tipe B (Preventif) belajar sedikit demi sedikit setiap hari sesuai jadwal. Tipe C (Prediktif) tahu kelemahannya di bab tertentu, lalu fokus belajar di bab itu sebelum ujian. Tipe manakah yang paling baik? Begitu pula dalam merawat aset."</p>

                                <p class="mb-4 mt-4"><strong>Langkah 2: Mendalami Tiga Jenis Perawatan (30 Menit)</strong></p>
                                <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
                                    <div class="border-4 border-red-400 p-4 rounded-lg bg-red-50 flex flex-col">
                                        <h3 class="text-lg font-bold text-red-700">1. Reaktif (Menunggu Musibah)</h3>
                                        <p class="mt-2 flex-grow">Ini adalah level terendah dan mencerminkan sikap lalai. Kita baru bertindak panik <strong>SETELAH</strong> aset rusak parah. Mindsetnya: "Selama masih bisa dipakai, biarkan saja."</p>
                                        <p class="mt-2 font-semibold">Analogi: Menunggu sakit parah hingga masuk UGD baru berobat.</p>
                                        <p class="mt-2 font-semibold">Contoh: Memanggil tukang AC setelah AC mati total dan mengeluarkan asap.</p>
                                    </div>
                                    <div class="border-4 border-green-500 p-4 rounded-lg bg-green-50 flex flex-col">
                                        <h3 class="text-lg font-bold text-green-700">2. Preventif (Mencegah Musibah)</h3>
                                        <p class="mt-2 flex-grow">Ini adalah standar muslim yang `itqan`. Perawatan dilakukan <strong>TERJADWAL</strong> untuk mencegah kerusakan. Mindsetnya: "Lebih baik mencegah daripada mengobati."</p>
                                        <p class="mt-2 font-semibold">Analogi: Rutin berolahraga dan makan sehat untuk mencegah penyakit.</p>
                                        <p class="mt-2 font-semibold">Contoh: Melaksanakan piket kebersihan kamar setiap hari sesuai jadwal.</p>
                                    </div>
                                    <div class="border-4 border-sky-500 p-4 rounded-lg bg-sky-50 flex flex-col">
                                        <h3 class="text-lg font-bold text-sky-700">3. Prediktif (Memprediksi Musibah)</h3>
                                        <p class="mt-2 flex-grow">Level `itqan` yang lebih tinggi. Tujuannya <strong>MEMPREDIKSI</strong> kapan kerusakan akan terjadi berdasarkan tanda-tanda. Mindsetnya: "Aku melihat ada gejala, lebih baik aku bertindak sekarang."</p>
                                        <p class="mt-2 font-semibold">Analogi: Merasa badan mulai tidak enak, lalu segera istirahat sebelum benar-benar sakit.</p>
                                        <p class="mt-2 font-semibold">Contoh: Santri mendengar suara kipas angin lebih berisik, lalu segera melapor sebelum macet total.</p>
                                    </div>
                                </div>
                                <div class="teacher-note">
                                    <p class="font-semibold">Poin Diskusi Guru:</p>
                                    <p>Gunakan Tabel Perbandingan di bawah untuk memicu diskusi. Tanyakan, "Dari segi biaya, mana yang lebih hemat dalam jangka panjang? Dari segi akhlak, mana yang lebih mencerminkan tanggung jawab?"</p>
                                </div>
                                
                                <p class="mb-4 mt-4"><strong>Langkah 3: Analisis Perbandingan (15 Menit)</strong></p>
                                <div class="overflow-x-auto">
                                    <table class="min-w-full bg-white border">
                                        <thead><tr class="bg-slate-200"><th class="py-2 px-3 border">Aspek</th><th class="py-2 px-3 border text-red-600">Reaktif</th><th class="py-2 px-3 border text-green-600">Preventif</th></tr></thead>
                                        <tbody>
                                            <tr><td class="py-2 px-3 border font-semibold">Waktu Tindakan</td><td class="py-2 px-3 border">Setelah rusak</td><td class="py-2 px-3 border">Sebelum rusak (terjadwal)</td></tr>
                                            <tr><td class="py-2 px-3 border font-semibold">Biaya</td><td class="py-2 px-3 border">Sangat Tinggi & Tidak Terduga</td><td class="py-2 px-3 border">Rendah & Terencana</td></tr>
                                            <tr><td class="py-2 px-3 border font-semibold">Dampak</td><td class="py-2 px-3 border">Mengganggu aktivitas, berbahaya</td><td class="py-2 px-3 border">Aktivitas lancar, aman</td></tr>
                                            <tr><td class="py-2 px-3 border font-semibold">Usia Aset</td><td class="py-2 px-3 border">Menjadi lebih pendek</td><td class="py-2 px-3 border">Menjadi lebih panjang (awet)</td></tr>
                                            <tr><td class="py-2 px-3 border font-semibold">Cerminan Akhlak</td><td class="py-2 px-3 border">Lalai, tidak peduli, reaktif</td><td class="py-2 px-3 border">Amanah, `Itqan`, Tanggung Jawab, Proaktif</td></tr>
                                        </tbody>
                                    </table>
                                </div>
                             </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3 class="text-xl font-semibold mb-3 mt-4">Simulasi Interaktif: Pilih Jenis Perawatan</h3>
                    <div class="p-4 border rounded-lg bg-slate-50">
                        <p id="scenario-text-3" class="font-semibold text-lg text-center mb-4">Membersihkan kipas angin dari debu setiap hari Sabtu.</p>
                        <div class="flex justify-center gap-4">
                            <button class="maintenance-choice bg-red-500 text-white font-bold py-2 px-6 rounded hover:bg-red-600" data-type="Reaktif">Reaktif</button>
                            <button class="maintenance-choice bg-green-500 text-white font-bold py-2 px-6 rounded hover:bg-green-600" data-type="Preventif">Preventif</button>
                            <button class="maintenance-choice bg-sky-500 text-white font-bold py-2 px-6 rounded hover:bg-sky-600" data-type="Prediktif">Prediktif</button>
                        </div>
                        <p id="scenario-feedback-3" class="text-center mt-4 font-semibold"></p>
                    </div>
                </div>
                <div class="card">
                    <h2 class="text-2xl font-bold text-teal-700 mb-4">Latihan Formatif 3</h2>
                    <div id="quiz3"></div>
                </div>
            </section>
            
             <!-- Pertemuan 4 -->
            <section id="pertemuan4" class="content-section">
                <div class="card">
                     <h2 class="text-2xl font-bold text-teal-700 mb-1">Pertemuan 4 dari 4</h2>
                     <p class="text-lg text-slate-600 mb-4 border-b pb-4">Topik: Menyusun Rencana Perawatan Sederhana</p>
                    
                    <div class="space-y-6">
                        <div>
                            <h3 class="text-xl font-semibold text-teal-800 mb-2">A. Tujuan Pembelajaran</h3>
                            <ol class="list-decimal list-inside space-y-1">
                                <li>Menjelaskan fungsi dan pentingnya Checklist dan Jadwal dalam perawatan.</li>
                                <li>Membuat checklist perawatan sederhana untuk sebuah aset.</li>
                                <li>Merancang jadwal perawatan sederhana dengan frekuensi yang tepat.</li>
                            </ol>
                        </div>
                        <div>
                            <h3 class="text-xl font-semibold text-teal-800 mb-2">B. Keterkaitan Nilai Islam</h3>
                            <p>Pertemuan ini adalah puncak dari `itqan`, yaitu mengubah ilmu menjadi amal yang terencana. Perencanaan adalah bagian dari kesungguhan. Selain itu, jadwal yang konsisten adalah wujud dari <strong>`Istiqomah`</strong>. Amalan yang paling dicintai Allah adalah yang rutin meskipun sedikit. Begitu pula dengan perawatan.</p>
                        </div>
                        <div>
                             <h3 class="text-xl font-semibold text-teal-800 mb-2">C. Skenario Pembelajaran (90 Menit)</h3>
                             <div class="p-4 bg-slate-50 rounded-lg">
                                <p class="mb-4"><strong>Langkah 1: Pentingnya Perencanaan (15 Menit)</strong></p>
                                <p class="mb-4">Guru memulai dengan analogi: "Seorang penghafal Al-Qur'an yang sukses pasti punya rencana. Ada target harian (jadwal) dan ada metode `muroja'ah` (checklist) agar hafalannya kuat. Tanpa rencana, niat hanya akan menjadi angan-angan. Begitu pula dalam merawat aset. Kita butuh dua alat: Jadwal dan Checklist."</p>
                                <div class="flex justify-center my-6">
                                    <svg width="300" height="150" viewBox="0 0 300 150" xmlns="http://www.w3.org/2000/svg">
                                        <g><rect x="30" y="30" width="100" height="90" rx="10" fill="#e0f2fe" stroke="#38bdf8" stroke-width="2"/><rect x="30" y="30" width="100" height="20" rx="10" ry="10" fill="#38bdf8"/><text x="80" y="80" text-anchor="middle" font-size="14" font-weight="bold">JADWAL</text><text x="80" y="100" text-anchor="middle" font-size="12">(Kapan?)</text></g>
                                        <g><rect x="170" y="30" width="100" height="90" rx="10" fill="#dcfce7" stroke="#4ade80" stroke-width="2"/><line x1="185" y1="55" x2="205" y2="75" stroke="#22c55e" stroke-width="3"/><line x1="205" y1="75" x2="225" y2="45" stroke="#22c55e" stroke-width="3"/><line x1="240" y1="50" x2="255" y2="50" stroke="#22c55e" stroke-width="3"/><line x1="240" y1="70" x2="255" y2="70" stroke="#22c55e" stroke-width="3"/><text x="220" y="100" text-anchor="middle" font-size="14" font-weight="bold">CHECKLIST</text><text x="220" y="120" text-anchor="middle" font-size="12">(Apa & Bagaimana?)</text></g>
                                    </svg>
                                </div>

                                 <p class="mb-4 mt-4"><strong>Langkah 2: Membedah Checklist dan Jadwal (20 Menit)</strong></p>
                                 <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                    <div>
                                        <h3 class="text-md font-semibold mb-2">1. Checklist: Panduan untuk `Itqan`</h3>
                                        <p class="mb-2">Checklist adalah daftar semua tugas spesifik yang harus dilakukan. Tujuannya adalah untuk menstandarisasi pekerjaan. Siapapun yang piket, hasilnya akan sama baiknya karena mengikuti panduan. Ini memastikan tidak ada langkah penting yang terlewat.</p>
                                        <div class="p-2 bg-white rounded-lg"><p class="font-bold text-xs">Contoh: Checklist Kebersihan Kamar Mandi</p><ul class="list-disc list-inside ml-2 mt-1 text-xs"><li>[ ] Sikat lantai hingga bersih</li><li>[ ] Bersihkan dinding keramik</li><li>[ ] Kuras dan sikat bak mandi</li><li>[ ] Buang semua sampah</li><li>[ ] Periksa keran bocor</li></ul></div>
                                    </div>
                                    <div>
                                        <h3 class="text-md font-semibold mb-2">2. Jadwal: Jalan Menuju `Istiqomah`</h3>
                                        <p class="mb-2">Jadwal memastikan perawatan dilakukan secara konsisten pada interval waktu yang tepat, bukan hanya saat rajin. Jadwal membangun kebiasaan baik dan disiplin.</p>
                                        <div class="p-2 bg-white rounded-lg"><p class="font-bold text-xs">Contoh: Jadwal Perawatan AC Kelas</p><ul class="list-disc list-inside ml-2 mt-1 text-xs"><li><strong>Harian:</strong> Matikan jika kelas kosong.</li><li><strong>Bulanan:</strong> Bersihkan filter udara.</li><li><strong>3 Bulanan:</strong> Panggil teknisi untuk cuci besar.</li></ul></div>
                                    </div>
                                </div>

                                <p class="mb-4 mt-4"><strong>Langkah 3: Aktivitas Kelompok - Merancang Rencana Perawatan (25 Menit)</strong></p>
                                <div class="teacher-note">
                                    <p class="font-semibold">Aktivitas Kelas:</p>
                                    <p>Bagi santri menjadi beberapa kelompok. Setiap kelompok memilih satu aset di asrama (misal: dispenser, rak sepatu, mading). Minta mereka untuk membuat checklist dan jadwal perawatan sederhana untuk aset tersebut di papan tulis atau kertas besar, lalu presentasikan. Gunakan simulasi di bawah ini sebagai panduan.</p>
                                </div>
                             </div>
                        </div>
                    </div>
                </div>

                <div class="card">
                    <h3 class="text-xl font-semibold mb-3 mt-4">Simulasi Interaktif: Buat Rencana Perawatanmu!</h3>
                    <div class="p-4 border rounded-lg bg-slate-50">
                        <h4 class="font-semibold text-lg mb-2">Pembangun Jadwal Perawatan</h4>
                        <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                            <div>
                                <label for="asset-name" class="block font-medium">Pilih Aset:</label>
                                <select id="asset-name" class="w-full p-2 border rounded mt-1">
                                    <option>Lemari Pakaian</option>
                                    <option>Komputer Markaz</option>
                                    <option>Sepeda Inventaris</option>
                                </select>
                            </div>
                             <div>
                                <label for="task-input" class="block font-medium">Tugas Perawatan:</label>
                                <input type="text" id="task-input" placeholder="cth: Cek tekanan ban" class="w-full p-2 border rounded mt-1">
                            </div>
                            <div>
                                <label for="frequency-select" class="block font-medium">Frekuensi:</label>
                                <select id="frequency-select" class="w-full p-2 border rounded mt-1">
                                    <option>Harian</option>
                                    <option>Mingguan</option>
                                    <option>Bulanan</option>
                                </select>
                            </div>
                        </div>
                        <button id="add-task-btn" class="mt-4 w-full bg-teal-500 text-white font-bold py-2 px-4 rounded hover:bg-teal-600">Tambahkan ke Rencana</button>
                        
                        <div id="maintenance-plan" class="mt-6">
                             <h4 class="font-semibold text-lg mb-2">Rencana Perawatan yang Dihasilkan:</h4>
                             <p class="text-sm text-slate-500">Belum ada tugas yang ditambahkan.</p>
                        </div>
                    </div>
                </div>
                 <div class="card">
                    <h2 class="text-2xl font-bold text-teal-700 mb-4">Latihan Formatif 4</h2>
                    <div id="quiz4"></div>
                </div>
            </section>
            
            <!-- Tes Sumatif -->
            <section id="sumatif" class="content-section">
                <div class="card">
                    <h2 class="text-2xl font-bold text-teal-700 mb-4">Tes Sumatif</h2>
                    <p class="mb-4">Bismillah. Kerjakan soal-soal berikut untuk menguji pemahaman antum terhadap seluruh materi. Semoga Allah ﷻ berikan kemudahan.</p>
                </div>
                <div class="card">
                    <div id="quiz-sumatif"></div>
                    <div id="sumatif-result" class="mt-6 text-center hidden">
                        <h3 class="text-xl font-bold">Hasil Tes Sumatif</h3>
                        <p class="text-2xl mt-2">Skor Anda: <span id="sumatif-score" class="font-bold text-teal-600">0</span> / <span id="sumatif-total" class="font-bold">0</span></p>
                        <button id="sumatif-retry-btn" class="mt-4 bg-teal-500 text-white font-bold py-2 px-4 rounded hover:bg-teal-600">Ulangi Tes</button>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
    document.addEventListener('DOMContentLoaded', function() {
        const quizzes = {
            quiz1: [
                { q: "Manakah definisi 'aset' yang paling tepat dalam konteks modul ini?", a: ["Semua hafalan Al-Qur'an", "Benda fisik yang memiliki nilai dan fungsi", "Niat ikhlas dalam beramal", "Semua jawaban benar"], correct: 1, explanation: "Dalam konteks perawatan, aset merujuk pada benda fisik. Meskipun hafalan dan niat jauh lebih berharga, keduanya bukan aset fisik yang butuh perawatan teknis." },
                { q: "Menjaga fasilitas bersama seperti lampu dan keran air adalah wujud dari sikap...", a: ["Riya'", "Amanah", "Boros", "Takabur"], correct: 1, explanation: "Menjaga titipan atau fasilitas yang dipercayakan kepada kita adalah bentuk amanah." },
                { q: "Apa tujuan utama merawat aset menurut pandangan Islam?", a: ["Agar dipuji oleh pengurus", "Agar terlihat rajin", "Sebagai wujud syukur dan tanggung jawab atas amanah", "Agar bisa dijual dengan harga mahal"], correct: 2, explanation: "Tujuan utamanya adalah menjalankan amanah dari Allah dan mensyukuri nikmat-Nya." },
                { q: "Tahapan siklus hidup aset dimana kita harus mulai waspada dan melakukan perawatan rutin adalah...", a: ["Tahap Baru", "Tahap Dipakai/Butuh Rawat", "Tahap Rusak Total", "Semua tahap sama saja"], correct: 1, explanation: "Perawatan harus dimulai sejak aset mulai dipakai secara rutin untuk memperpanjang usianya." },
                { q: "Membiarkan kipas angin berdebu hingga macet adalah contoh...", a: ["Sikap qana'ah", "Pengkhianatan terhadap amanah", "Sikap zuhud", "Kepasrahan pada takdir"], correct: 1, explanation: "Membiarkan aset rusak karena kelalaian adalah bentuk menyia-nyiakan amanah." }
            ],
            quiz2: [
                { q: "Langkah pertama dalam metode pemecahan masalah adalah...", a: ["Mencari siapa yang salah", "Langsung memperbaiki", "Identifikasi masalah secara spesifik", "Membeli aset baru"], correct: 2, explanation: "Kita harus tahu dulu apa masalahnya dengan jelas sebelum melangkah lebih jauh." },
                { q: "Teknik '5 Whys' digunakan untuk...", a: ["Menentukan solusi tercepat", "Mencari akar penyebab masalah", "Menghitung biaya perbaikan", "Melaporkan masalah ke atasan"], correct: 1, explanation: "Dengan terus bertanya 'Mengapa?', kita bisa menemukan penyebab paling dasar dari sebuah masalah." },
                { q: "Masalah: 'Proyektor di kelas sering tidak bisa menyala'. Manakah yang merupakan contoh analisis akar masalah?", a: ["'Proyektornya jelek'", "'Mungkin kabelnya kendor'", "'Mengapa kabelnya kendor? Karena sering dicabut sembarangan. Mengapa? Karena tidak ada tempat penyimpanan khusus.'", "'Beli saja yang baru'"], correct: 2, explanation: "Analisis akar masalah mencari sebab-musabab yang paling dalam, bukan hanya gejalanya." },
                { q: "Langkah terakhir setelah solusi diterapkan adalah...", a: ["Melupakan masalah tersebut", "Mencari masalah baru", "Evaluasi & Standarisasi", "Istirahat"], correct: 2, explanation: "Kita perlu mengevaluasi apakah solusi berhasil dan membuat standar agar masalah tidak terulang." },
                { q: "Mengapa penting untuk mencari akar masalah, bukan hanya memperbaiki gejalanya?", a: ["Agar terlihat pintar", "Agar masalah tidak muncul lagi di kemudian hari", "Agar biayanya lebih mahal", "Agar perbaikannya lebih lama"], correct: 1, explanation: "Memperbaiki gejala (misal: mengencangkan kabel) hanya bersifat sementara. Mengatasi akar masalah (membuat tempat penyimpanan kabel) akan mencegah masalah terulang." }
            ],
            quiz3: [
                { q: "Memanggil teknisi untuk memperbaiki AC yang sudah mati total adalah contoh perawatan...", a: ["Reaktif", "Preventif", "Prediktif", "Proaktif"], correct: 0, explanation: "Perawatan reaktif adalah tindakan yang diambil SETELAH kerusakan terjadi." },
                { q: "Membersihkan filter AC setiap bulan sesuai jadwal adalah contoh perawatan...", a: ["Reaktif", "Preventif", "Prediktif", "Imajinatif"], correct: 1, explanation: "Perawatan preventif bersifat rutin dan terjadwal untuk MENCEGAH kerusakan." },
                { q: "Manakah jenis perawatan yang paling mencerminkan sikap `itqan` dan tanggung jawab?", a: ["Reaktif", "Preventif", "Membiarkannya saja", "Menunggu rusak dulu"], correct: 1, explanation: "Preventif menunjukkan sikap proaktif dan teliti dalam menjaga amanah sebelum terjadi kerusakan." },
                { q: "Apa kerugian terbesar dari perawatan reaktif?", a: ["Biaya perbaikan cenderung lebih besar dan mengganggu aktivitas", "Terlalu sering membersihkan", "Membutuhkan banyak alat canggih", "Membuat aset cepat aus"], correct: 0, explanation: "Menunggu rusak parah biasanya lebih mahal dan seringkali terjadi di waktu yang tidak tepat." },
                { q: "Seorang santri melihat ada suara aneh pada kipas angin dan segera melaporkannya sebelum macet. Ini adalah langkah awal menuju perawatan...", a: ["Reaktif", "Prediktif/Preventif", "Pasif", "Destruktif"], correct: 1, explanation: "Mendeteksi gejala awal adalah kunci dari perawatan preventif dan prediktif untuk mencegah kerusakan fatal." }
            ],
            quiz4: [
                { q: "Dua alat utama untuk merencanakan perawatan preventif adalah...", a: ["Obeng dan Tang", "Checklist dan Jadwal", "Uang dan Waktu", "Niat dan Doa"], correct: 1, explanation: "Checklist untuk memastikan kelengkapan tugas, dan Jadwal untuk memastikan keteraturan waktu." },
                { q: "Tujuan dibuatnya checklist perawatan adalah...", a: ["Agar pekerjaan terlihat rumit", "Memastikan tidak ada langkah penting yang terlewat", "Sebagai laporan ke pengurus", "Untuk menambah pekerjaan"], correct: 1, explanation: "Checklist berfungsi sebagai panduan standar agar semua aspek penting diperiksa." },
                { q: "'Menguras bak mandi' adalah contoh item yang cocok dimasukkan ke dalam jadwal perawatan dengan frekuensi...", a: ["Tahunan", "Bulanan", "Mingguan", "Harian"], correct: 2, explanation: "Menguras bak mandi idealnya dilakukan secara rutin setiap pekan untuk menjaga kebersihan." },
                { q: "Manakah yang merupakan langkah pertama dalam membuat rencana perawatan untuk sebuah aset?", a: ["Menentukan anggaran", "Mengidentifikasi tugas-tugas perawatan yang diperlukan", "Mencari teknisi", "Membeli suku cadang"], correct: 1, explanation: "Kita harus tahu dulu apa saja yang perlu dirawat dari aset tersebut sebelum membuat jadwal atau anggaran." },
                { q: "Membuat jadwal piket kebersihan kamar adalah bentuk penerapan dari...", a: ["Perawatan Reaktif", "Perencanaan Perawatan Preventif", "Analisis Akar Masalah", "Perawatan Prediktif"], correct: 1, explanation: "Jadwal piket adalah bentuk perawatan preventif yang terencana untuk menjaga kebersihan (aset)." }
            ],
            'quiz-sumatif': [
                { q: "Semua fasilitas yang kita gunakan di Markaz Qur'an adalah...", a: ["Beban", "Amanah dari Allah ﷻ", "Milik pribadi", "Tidak perlu dipikirkan"], correct: 1 },
                { q: "Teknik bertanya 'Mengapa?' berulang kali untuk menemukan sumber masalah disebut...", a: ["Teknik 5 Whys", "Teknik Analogi", "Teknik Curah Pendapat", "Teknik Debat"], correct: 0 },
                { q: "Mengganti oli motor setiap 2 bulan sekali adalah contoh perawatan...", a: ["Reaktif", "Preventif", "Prediktif", "Korektif"], correct: 1 },
                { q: "Seorang muslim yang profesional, teliti, dan tuntas dalam bekerja disebut memiliki sifat...", a: ["Qana'ah", "Itqan", "Tawadhu", "Zuhud"], correct: 1 },
                { q: "Alat yang digunakan untuk memastikan semua langkah perawatan dilakukan tanpa ada yang terlewat adalah...", a: ["Jadwal", "Anggaran", "Checklist", "Laporan"], correct: 2 }
            ]
        };
        
        // Fungsi untuk membuat kuis
        function createQuiz(quizId, quizData) {
            const quizContainer = document.getElementById(quizId);
            if(!quizContainer) return;
            quizContainer.innerHTML = '';
            let questionNumber = 0;
            
            quizData.forEach((item, index) => {
                questionNumber++;
                const questionDiv = document.createElement('div');
                questionDiv.classList.add('mb-6');
                questionDiv.innerHTML = `<p class="font-semibold mb-3">${questionNumber}. ${item.q}</p>`;

                const optionsDiv = document.createElement('div');
                optionsDiv.classList.add('space-y-2');

                item.a.forEach((option, optionIndex) => {
                    const optionBtn = document.createElement('button');
                    optionBtn.classList.add('quiz-option', 'w-full', 'text-left', 'p-3', 'border-2', 'rounded-lg');
                    optionBtn.textContent = option;
                    optionBtn.dataset.index = optionIndex;
                    optionsDiv.appendChild(optionBtn);
                });
                
                const explanationDiv = document.createElement('div');
                explanationDiv.classList.add('mt-2', 'p-3', 'rounded-lg', 'text-sm', 'hidden', 'bg-yellow-50', 'border', 'border-yellow-200');
                if(item.explanation) {
                    explanationDiv.innerHTML = `<strong>Penjelasan:</strong> ${item.explanation}`;
                }

                questionDiv.appendChild(optionsDiv);
                questionDiv.appendChild(explanationDiv);
                quizContainer.appendChild(questionDiv);
            });
        }
        
        // Generate semua kuis
        Object.keys(quizzes).forEach(quizId => {
            createQuiz(quizId, quizzes[quizId]);
        });
        
        // Logic untuk kuis interaktif
        function handleQuizInteraction(containerId, quizData, isSumatif = false) {
            const quizContainer = document.getElementById(containerId);
             if(!quizContainer) return;
            let score = 0;
            
            quizContainer.addEventListener('click', function(e) {
                if (e.target.matches('.quiz-option')) {
                    const questionDiv = e.target.closest('.mb-6');
                    const options = questionDiv.querySelectorAll('.quiz-option');
                    const questionIndex = Array.from(quizContainer.children).indexOf(questionDiv);
                    const questionData = quizData[questionIndex];
                    const selectedOptionIndex = parseInt(e.target.dataset.index);

                    if (e.target.disabled) return;
                    
                    options.forEach(opt => opt.disabled = true);

                    if (selectedOptionIndex === questionData.correct) {
                        e.target.classList.add('correct');
                        if(isSumatif) score++;
                    } else {
                        e.target.classList.add('incorrect');
                        options[questionData.correct].classList.add('correct');
                    }
                    
                    const explanation = questionDiv.querySelector('.bg-yellow-50');
                    if (questionData.explanation) {
                        explanation.classList.remove('hidden');
                    } else if (isSumatif) {
                        const correctText = questionData.a[questionData.correct];
                        explanation.innerHTML = `<strong>Jawaban Benar:</strong> ${correctText}`;
                        explanation.classList.remove('hidden');
                    }


                    if (isSumatif) {
                       const allQuestions = Array.from(quizContainer.children).filter(el => el.classList.contains('mb-6'));
                       const answeredQuestions = quizContainer.querySelectorAll('.quiz-option.correct, .quiz-option.incorrect');
                       const answeredCount = Math.ceil(answeredQuestions.length / quizData[0].a.length);
                       
                       if (answeredCount === allQuestions.length) {
                            showSumatifResult(score, quizData.length);
                       }
                    }
                }
            });
        }

        handleQuizInteraction('quiz1', quizzes.quiz1);
        handleQuizInteraction('quiz2', quizzes.quiz2);
        handleQuizInteraction('quiz3', quizzes.quiz3);
        handleQuizInteraction('quiz4', quizzes.quiz4);
        handleQuizInteraction('quiz-sumatif', quizzes['quiz-sumatif'], true);

        function showSumatifResult(score, total) {
            document.getElementById('sumatif-score').textContent = score;
            document.getElementById('sumatif-total').textContent = total;
            document.getElementById('sumatif-result').classList.remove('hidden');
        }

        document.getElementById('sumatif-retry-btn').addEventListener('click', () => {
            createQuiz('quiz-sumatif', quizzes['quiz-sumatif']);
            document.getElementById('sumatif-result').classList.add('hidden');
        });
        
        // Navigasi Tab
        const tabButtons = document.querySelectorAll('.tab-btn');
        const contentSections = document.querySelectorAll('.content-section');
        tabButtons.forEach(button => {
            button.addEventListener('click', () => {
                const target = button.dataset.target;
                
                tabButtons.forEach(btn => btn.classList.remove('active'));
                button.classList.add('active');
                
                contentSections.forEach(section => {
                    if (section.id === target) {
                        section.classList.add('active');
                    } else {
                        section.classList.remove('active');
                    }
                });
            });
        });
        
        // P1 Simulations
        const assetQuiz = document.getElementById('asset-quiz');
        if (assetQuiz) {
            assetQuiz.addEventListener('click', e => {
                if(e.target.matches('.asset-option')){
                    const isCorrect = e.target.dataset.correct === 'true';
                    e.target.classList.remove('correct', 'incorrect');
                    e.target.classList.add(isCorrect ? 'correct' : 'incorrect');
                }
            });
        }

        const assetAge = document.getElementById('asset-age');
        if (assetAge) {
            assetAge.addEventListener('input', e => {
                const age = parseInt(e.target.value);
                const valEl = document.getElementById('asset-age-val');
                const condEl = document.getElementById('asset-condition');
                const costEl = document.getElementById('asset-cost');
                valEl.textContent = age;
                if(age <= 2) {
                    condEl.textContent = "Sangat Baik";
                    condEl.className = "text-green-600 font-bold";
                    costEl.textContent = "Rp 0";
                } else if (age <= 5) {
                    condEl.textContent = "Baik (Perlu Perawatan Rutin)";
                    condEl.className = "text-yellow-600 font-bold";
                    costEl.textContent = "Rp 50.000 (Pembersihan)";
                } else if (age <= 8) {
                    condEl.textContent = "Mulai Menurun (Risiko Rusak)";
                    condEl.className = "text-orange-600 font-bold";
                    costEl.textContent = "Rp 250.000 (Servis)";
                } else {
                    condEl.textContent = "Kondisi Kritis (Segera Ganti)";
                    condEl.className = "text-red-600 font-bold";
                    costEl.textContent = "Rp 1.000.000 (Perbaikan Besar)";
                }
            });
        }
        

        // P2 Simulation
        const addWhyBtn = document.getElementById('add-why-btn');
        if(addWhyBtn) {
            addWhyBtn.addEventListener('click', () => {
                const container = document.getElementById('whys-container');
                const whyCount = container.children.length + 1;
                if (whyCount > 5) return;

                const div = document.createElement('div');
                div.innerHTML = `<label for="why${whyCount}" class="block font-medium mb-1">Mengapa ${whyCount}?</label>
                                 <input type="text" id="why${whyCount}" class="w-full p-2 border rounded" placeholder="Karena...">`;
                container.appendChild(div);
                if (whyCount === 5) addWhyBtn.disabled = true;
            });
        }


        // P3 Simulation
        const scenarios = [
            { text: "Membersihkan kipas angin dari debu setiap hari Sabtu.", correct: "Preventif" },
            { text: "Mengganti bohlam lampu setelah putus.", correct: "Reaktif" },
            { text: "Sensor mobil memberitahu bahwa kampas rem akan habis.", correct: "Prediktif" },
            { text: "Memanggil tukang ledeng karena pipa pecah dan banjir.", correct: "Reaktif" }
        ];
        let currentScenario = 0;
        const scenarioText3 = document.getElementById('scenario-text-3');
        const scenarioFeedback3 = document.getElementById('scenario-feedback-3');
        const maintenanceChoiceContainer = document.querySelector('.maintenance-choice');
        if(maintenanceChoiceContainer) {
            maintenanceChoiceContainer.parentElement.addEventListener('click', e => {
                if (e.target.matches('.maintenance-choice')) {
                    const choice = e.target.dataset.type;
                    if (choice === scenarios[currentScenario].correct) {
                        scenarioFeedback3.textContent = "Benar! Ini adalah tindakan " + choice.toLowerCase() + ".";
                        scenarioFeedback3.className = "text-center mt-4 font-semibold text-green-600";
                    } else {
                        scenarioFeedback3.textContent = "Kurang tepat. Ini seharusnya " + scenarios[currentScenario].correct + ".";
                        scenarioFeedback3.className = "text-center mt-4 font-semibold text-red-600";
                    }
                    currentScenario = (currentScenario + 1) % scenarios.length;
                    setTimeout(() => {
                        scenarioText3.textContent = scenarios[currentScenario].text;
                        scenarioFeedback3.textContent = "";
                    }, 2000);
                }
            });
        }

        // P4 Simulation
        const planContainer = document.getElementById('maintenance-plan');
        const addTaskBtn = document.getElementById('add-task-btn');
        if(addTaskBtn) {
            addTaskBtn.addEventListener('click', () => {
                const asset = document.getElementById('asset-name').value;
                const task = document.getElementById('task-input').value;
                const freq = document.getElementById('frequency-select').value;
                if (!task) return;

                if (planContainer.querySelector('p')) {
                    planContainer.innerHTML = `<h4 class="font-semibold text-lg mb-2">Rencana Perawatan untuk ${asset}:</h4><ul class="list-disc list-inside"></ul>`;
                } else {
                    planContainer.querySelector('h4').textContent = `Rencana Perawatan untuk ${asset}:`
                }
                
                const list = planContainer.querySelector('ul');
                const li = document.createElement('li');
                li.textContent = `${task} (${freq})`;
                list.appendChild(li);
                document.getElementById('task-input').value = '';
            });
        }


    });
    </script>
</body>
</html>

