<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HAD-203: Studi Kitab Umdatul Ahkam 2 (80 Soal)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&family=Amiri:wght@400;700&display=swap');
        
        :root {
            --primary: #065f46;
            --secondary: #b45309;
            --bg-main: #f8fafc;
        }

        body {
            font-family: 'Inter', sans-serif;
            background-color: var(--bg-main);
        }

        .arabic {
            font-family: 'Amiri', serif;
            font-size: 1.8rem;
            line-height: 3rem;
            direction: rtl;
        }

        .tab-active {
            border-bottom: 4px solid var(--primary);
            color: var(--primary);
            background-color: #f1f5f9;
        }

        .teacher-note {
            border-left: 5px solid var(--secondary);
            background-color: #fffbeb;
        }

        .correct-ans { background-color: #dcfce7 !important; border-color: #22c55e !important; }
        .wrong-ans { background-color: #fee2e2 !important; border-color: #ef4444 !important; }

        .nav-scroll::-webkit-scrollbar { height: 4px; }
        .nav-scroll::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 4px; }
    </style>
</head>
<body class="text-slate-800">

    <header class="bg-emerald-900 text-white py-10 px-6 shadow-xl text-center md:text-left">
        <div class="max-w-7xl mx-auto flex flex-col md:flex-row justify-between items-center">
            <div>
                <h1 class="text-3xl font-extrabold tracking-tight">HAD-203: Studi Kitab Umdatul Ahkam 2</h1>
                <p class="text-emerald-200 mt-2 italic">8 Sesi Pembelajaran: Siwak, Tempat Shalat, & Sutrah</p>
            </div>
            <div class="mt-4 md:mt-0">
                <span class="bg-emerald-800 border border-emerald-700 px-4 py-2 rounded-full text-xs font-mono uppercase tracking-widest">Kurikulum Perfeksionis</span>
            </div>
        </div>
    </header>

    <nav class="bg-white sticky top-0 z-50 shadow-md border-b overflow-x-auto nav-scroll">
        <div class="max-w-7xl mx-auto flex whitespace-nowrap" id="tab-nav"></div>
    </nav>

    <main class="max-w-6xl mx-auto p-4 md:p-10" id="main-content"></main>

    <footer class="bg-slate-900 text-slate-400 py-12 px-6 text-center border-t-8 border-emerald-800">
        <div class="max-w-4xl mx-auto text-sm">
            <p class="mb-2 uppercase tracking-widest font-bold text-slate-200">Pesantren & Rumah Tahfidz Digital</p>
            <p>&copy; 2024 Modul Pembelajaran Interaktif - Manhaj Salaf</p>
        </div>
    </footer>

    <script>
        const materi = [
            {
                id: 1,
                judul: "Keutamaan Siwak & Hakikat Thaharah",
                tujuan: ["Memahami kedudukan siwak dalam Islam", "Menghafal hadits utama keutamaan siwak", "Mengenal pohon Al-Arak"],
                dalil: "ÿßŸÑÿ≥ŸêŸëŸàŸéÿßŸÉŸè ŸÖŸéÿ∑ŸíŸáŸéÿ±Ÿéÿ©Ÿå ŸÑŸêŸÑŸíŸÅŸéŸÖŸê ÿå ŸÖŸéÿ±Ÿíÿ∂Ÿéÿßÿ©Ÿå ŸÑŸêŸÑÿ±ŸéŸëÿ®ŸêŸë",
                terjemah: "Siwak itu pembersih bagi mulut dan sarana meraih ridha Rabb (Allah).",
                deskripsi: "Siwak bukan sekadar membersihkan gigi, melainkan bentuk ketaatan kepada Allah dan mengikuti sunnah Rasulullah Ô∑∫. Para ulama menyebutkan bahwa siwak mendatangkan lebih dari 70 manfaat.",
                analogi: "Siwak adalah 'kunci wangi' sebelum memasuki gerbang munajat dalam shalat.",
                teacherNote: "Tekankan pada santri bahwa kebersihan mulut adalah tanda adab sebelum berdzikir.",
                
            },
            {
                id: 2,
                judul: "Waktu-Waktu Sunnah Bersiwak",
                tujuan: ["Mengetahui momen krusial bersiwak", "Memahami hukum bersiwak bagi orang berpuasa", "Adab mencuci siwak"],
                dalil: "ŸÑŸéŸàŸíŸÑŸéÿß ÿ£ŸéŸÜŸí ÿ£Ÿéÿ¥ŸèŸÇŸéŸë ÿπŸéŸÑŸéŸâ ÿ£ŸèŸÖŸéŸëÿ™ŸêŸä ŸÑŸéÿ£ŸéŸÖŸéÿ±Ÿíÿ™ŸèŸáŸèŸÖŸí ÿ®ŸêÿßŸÑÿ≥ŸêŸëŸàŸéÿßŸÉŸê ÿπŸêŸÜŸíÿØŸé ŸÉŸèŸÑŸêŸë ÿµŸéŸÑŸéÿßÿ©Ÿç",
                terjemah: "Seandainya tidak memberatkan umatku, niscaya aku perintahkan mereka bersiwak setiap kali hendak shalat.",
                deskripsi: "Nabi Ô∑∫ menekankan siwak terutama saat: Bangun tidur, hendak shalat, masuk rumah, dan saat lisan mulai berubah baunya.",
                analogi: "Sebagaimana tentara membersihkan senjatanya sebelum perang, begitulah Muslim membersihkan lisan sebelum berdzikir.",
                teacherNote: "Diskusikan pengecualian bagi orang berpuasa (pendapat rajih tetap disunnahkan).",
                img: "https://images.unsplash.com/photo-1593032465175-481ac7f402a1?auto=format&fit=crop&w=600&q=80"
            },
            {
                id: 3,
                judul: "Kesucian Bumi & Globalitas Masjid",
                tujuan: ["Memahami keistimewaan bumi bagi umat Islam", "Hukum shalat di tanah lapang", "Prinsip asal kesucian tanah"],
                dalil: "ÿ¨ŸèÿπŸêŸÑŸéÿ™Ÿí ŸÑŸêŸäŸé ÿßŸÑÿ£Ÿéÿ±Ÿíÿ∂Ÿè ŸÖŸéÿ≥Ÿíÿ¨ŸêÿØŸãÿß ŸàŸéÿ∑ŸéŸáŸèŸàÿ±Ÿãÿß",
                terjemah: "Bumi ini dijadikan bagiku sebagai masjid (tempat sujud) dan suci.",
                deskripsi: "Berbeda dengan umat terdahulu, Muslim boleh shalat di mana saja selama tanahnya suci dari najis yang nampak.",
                analogi: "Seluruh bumi adalah hamparan sajadah raksasa bagi hamba Allah.",
                teacherNote: "Jelaskan bahwa ini adalah salah satu kekhususan (khashaish) Nabi Muhammad Ô∑∫.",
                img: "https://images.unsplash.com/photo-1590076215667-873d96c89bb3?auto=format&fit=crop&w=600&q=80"
            },
            {
                id: 4,
                judul: "Lokasi Shalat yang Dilarang (Maqbarah & Hammam)",
                tujuan: ["Mengidentifikasi tempat terlarang untuk shalat", "Memahami illah dilarangnya shalat di kuburan", "Hukum shalat di WC"],
                dalil: "ÿßŸÑÿ£Ÿéÿ±Ÿíÿ∂Ÿè ŸÉŸèŸÑŸèŸëŸáŸéÿß ŸÖŸéÿ≥Ÿíÿ¨ŸêÿØŸå ÿ•ŸêŸÑŸéŸëÿß ÿßŸÑŸíŸÖŸéŸÇŸíÿ®Ÿéÿ±Ÿéÿ©Ÿé ŸàŸéÿßŸÑŸíÿ≠ŸéŸÖŸéŸëÿßŸÖŸé",
                terjemah: "Seluruh bumi adalah masjid kecuali kuburan dan kamar mandi.",
                deskripsi: "Kuburan dilarang agar tidak menjadi sarana syirik. Kamar mandi dilarang karena tempat najis dan sarang setan.",
                analogi: "Kita tidak boleh shalat di tempat pembuangan sampah meskipun tempat itu luas.",
                teacherNote: "Tekankan konsep Saddudz Dzari'ah (menutup celah kesyirikan).",
                img: "https://images.unsplash.com/photo-1610450949065-1f2840428943?auto=format&fit=crop&w=600&q=80"
            },
            {
                id: 5,
                judul: "Pengenalan & Hukum Sutrah",
                tujuan: ["Mendefinisikan sutrah dalam shalat", "Memahami hukum menggunakan sutrah", "Pentingnya membatasi area sujud"],
                dalil: "ÿ•Ÿêÿ∞Ÿéÿß ÿµŸéŸÑŸéŸëŸâ ÿ£Ÿéÿ≠ŸéÿØŸèŸÉŸèŸÖŸí ŸÅŸéŸÑŸíŸäŸèÿµŸéŸÑŸêŸë ÿ•ŸêŸÑŸéŸâ ÿ≥Ÿèÿ™Ÿíÿ±Ÿéÿ©Ÿç ŸàŸéŸÑŸíŸäŸéÿØŸíŸÜŸè ŸÖŸêŸÜŸíŸáŸéÿß",
                terjemah: "Jika salah seorang kalian shalat, hendaknya shalat menghadap sutrah dan mendekat kepadanya.",
                deskripsi: "Sutrah adalah pembatas (tiang, tas, atau tembok) yang diletakkan di depan orang shalat.",
                analogi: "Sutrah seperti pagar rumah yang memisahkan area privat dengan jalan umum.",
                teacherNote: "Jelaskan perbedaan pendapat ulama (Wajib vs Sunnah Muakkad).",
                img: "https://images.unsplash.com/photo-1591604129939-f1efa4d9f7fa?auto=format&fit=crop&w=600&q=80"
            },
            {
                id: 6,
                judul: "Ukuran & Teknis Penggunaan Sutrah",
                tujuan: ["Mengetahui tinggi minimal sutrah", "Memahami jarak sujud ke sutrah", "Sutrah Imam bagi makmum"],
                dalil: "ŸÖŸêÿ´ŸíŸÑŸè ŸÖŸèÿ§ŸíÿÆŸêÿ±Ÿéÿ©Ÿê ÿßŸÑÿ±ŸéŸëÿ≠ŸíŸÑŸê",
                terjemah: "(Tingginya) seperti sandaran pelana unta.",
                deskripsi: "Tinggi sutrah minimal 1 hasta (sekitar 45-50 cm). Jarak sujud ke sutrah sebaiknya sekadar lewat seekor kambing.",
                analogi: "Ukuran sutrah harus cukup nampak agar tidak terlangkahi oleh orang lain.",
                teacherNote: "Praktikkan jarak 3 hasta dari kaki ke tempat sutrah.",
                img: "https://images.unsplash.com/photo-1498553916013-d30e3223049b?auto=format&fit=crop&w=600&q=80"
            },
            {
                id: 7,
                judul: "Dosa Melewati Orang yang Sedang Shalat",
                tujuan: ["Memahami kerasnya larangan lewat di depan musalli", "Mengetahui ancaman hadits 40 tahun", "Menghargai kekhusyukan orang lain"],
                dalil: "ŸÑŸéŸàŸí ŸäŸéÿπŸíŸÑŸéŸÖŸè ÿßŸÑŸíŸÖŸéÿßÿ±ŸèŸë ÿ®ŸéŸäŸíŸÜŸé ŸäŸéÿØŸéŸäŸê ÿßŸÑŸíŸÖŸèÿµŸéŸÑŸêŸëŸä ŸÖŸéÿßÿ∞Ÿéÿß ÿπŸéŸÑŸéŸäŸíŸáŸê ŸÑŸéŸÉŸéÿßŸÜŸé ÿ£ŸéŸÜŸí ŸäŸéŸÇŸêŸÅŸé ÿ£Ÿéÿ±Ÿíÿ®ŸéÿπŸêŸäŸÜŸé",
                terjemah: "Seandainya orang yang lewat di depan orang shalat tahu dosanya, niscaya berhenti 40 (tahun) lebih baik baginya.",
                deskripsi: "Melewati orang shalat tanpa pembatas adalah dosa besar yang mengganggu hubungan hamba dengan Rabb-nya.",
                analogi: "Memutus pembicaraan telepon orang penting saja tidak sopan, apalagi memutus komunikasi dengan Allah.",
                teacherNote: "Jelaskan batas area lewat: antara kaki dan tempat sujud.",
               
            },
            {
                id: 8,
                judul: "Cara Menghalau Orang yang Melewati (Falyuqatilhu)",
                tujuan: ["Mempraktikkan cara mencegah orang lewat", "Memahami konsep perlawanan halus dalam shalat", "Kaitan setan dengan orang yang lewat"],
                dalil: "ŸÅŸéÿ•Ÿêÿ∞Ÿéÿß ÿ£Ÿéÿ±ŸéÿßÿØŸé ÿ£Ÿéÿ≠ŸéÿØŸå ÿ£ŸéŸÜŸí ŸäŸéÿ¨Ÿíÿ™Ÿéÿßÿ≤Ÿé ÿ®ŸéŸäŸíŸÜŸé ŸäŸéÿØŸéŸäŸíŸáŸê ŸÅŸéŸÑŸíŸäŸéÿØŸíŸÅŸéÿπŸíŸáŸè",
                terjemah: "Jika ada yang hendak lewat di depannya (saat shalat), hendaknya ia menolaknya (menghalaunya).",
                deskripsi: "Jika dicegah sekali tetap memaksa, maka halaulah dengan lebih kuat, karena sesungguhnya dia bersama setan.",
                analogi: "Menghalau gangguan saat shalat seperti menjaga benteng yang sedang diserang.",
                teacherNote: "Praktikkan gerakan tangan yang benar tanpa membatalkan shalat.",
                
            }
        ];

        const bankSoal = [
            // Sesi 1
            [
                { q: "Apa makna 'Mathharatun lil fammi' dalam hadits siwak?", a: ["Penyuci mulut", "Penyuci hati", "Penyuci pakaian", "Penyuci harta"], c: 0, e: "Mathharah berarti alat atau wasilah untuk menyucikan mulut secara fisik." },
                { q: "Siwak adalah sebab diraihnya...", a: ["Pujian manusia", "Ridha Allah", "Harta melimpah", "Kesenangan dunia"], c: 1, e: "Hadits menyebutkan 'Mardhaatun lir Rabbi'." },
                { q: "Kayu apa yang paling umum dan utama untuk siwak?", a: ["Kayu Jati", "Kayu Mahoni", "Pohon Al-Arak", "Pohon Pinus"], c: 2, e: "Pohon Al-Arak memiliki serat dan kandungan kimia alami yang cocok untuk mulut." },
                { q: "Secara bahasa, siwak berasal dari kata 'As-Sawk' yang berarti...", a: ["Menggosok", "Memotong", "Mencuci", "Memukul"], c: 0, e: "As-Sawk artinya menggosok sesuatu hingga bersih." },
                { q: "Hukum asal menggunakan siwak adalah...", a: ["Wajib", "Mubah", "Sunnah Muakkad", "Makruh"], c: 2, e: "Siwak sangat ditekankan, namun tidak sampai derajat wajib." },
                { q: "Kenapa Nabi Ô∑∫ tidak mewajibkan siwak pada umatnya?", a: ["Karena kayu arak mahal", "Takut memberatkan umat", "Karena dilarang Allah", "Hanya untuk para Nabi"], c: 1, e: "Nabi bersabda: 'Lau laa an asyuqqa...' (Seandainya tidak memberatkan...)." },
                { q: "Siwak membersihkan mulut, sedangkan dzikir membersihkan...", a: ["Pakaian", "Wajah", "Hati/Ruhani", "Rumah"], c: 2, e: "Keterkaitan thaharah lahiriah dan batiniah." },
                { q: "Manakah yang termasuk manfaat medis siwak?", a: ["Menguatkan gusi", "Memutihkan baju", "Mengenyangkan perut", "Menumbuhkan rambut"], c: 0, e: "Serat siwak menguatkan gusi dan membunuh kuman mulut." },
                { q: "Niat utama saat bersiwak bagi seorang muslim adalah...", a: ["Agar dipuji", "Hanya ingin bersih", "Ittiba' (mengikuti) sunnah", "Sekadar hobi"], c: 2, e: "Ibadah dinilai dari niat mengikuti Rasulullah Ô∑∫." },
                { q: "Apa status hadits 'Siwak pembersih mulut dan ridha Allah'?", a: ["Dhaif", "Maudhu", "Shahih", "Palsu"], c: 2, e: "Hadits ini shahih diriwayatkan An-Nasa'i dan Al-Bukhari (muallaq)." }
            ],
            // Sesi 2
            [
                { q: "Kapan waktu paling utama bersiwak berdasarkan hadits?", a: ["Saat makan", "Saat hendak shalat", "Saat berolahraga", "Saat berjalan"], c: 1, e: "Nabi menekankan setiap kali hendak shalat (Inda kulli shalah)." },
                { q: "Apa yang dilakukan Nabi Ô∑∫ saat bangun tidur malam?", a: ["Makan berat", "Langsung lari", "Menggosok gigi dengan siwak", "Mandi air es"], c: 2, e: "Nabi Ô∑∫ menggosok mulutnya (yasyushu fahu) dengan siwak." },
                { q: "Hukum bersiwak setelah waktu dzuhur bagi orang puasa menurut mazhab Syafi'i adalah...", a: ["Wajib", "Sunnah", "Makruh", "Haram"], c: 2, e: "Mazhab Syafi'i memakruhkan, namun pendapat rajih (kuat) tetap sunnah mutlak." },
                { q: "Bagaimana cara Nabi bersiwak?", a: ["Atas ke bawah", "Sisi kanan dulu", "Sisi kiri dulu", "Tengah dulu"], c: 1, e: "Nabi menyukai memulai segala sesuatu dari yang kanan (at-tayammun)." },
                { q: "Bolehkah mencuci siwak setelah dipakai?", a: ["Haram", "Makruh", "Sunnah (Adab)", "Wajib"], c: 2, e: "Adabnya adalah mencuci siwak untuk menjaga kebersihan." },
                { q: "Apa yang dimaksud 'Yasyushu fahu'?", a: ["Mencuci muka", "Menggosok mulut", "Memotong kuku", "Menyisir rambut"], c: 1, e: "Yasyushu artinya menggosok dengan kuat untuk membersihkan." },
                { q: "Kenapa disunnahkan siwak saat masuk rumah?", a: ["Agar tidak lapa", "Bau mulut hilang saat bertemu keluarga", "Syarat masuk", "Hiasan saja"], c: 1, e: "Nabi ingin dalam keadaan wangi saat menyapa keluarganya." },
                { q: "Berapa lama batas pemakaian satu batang siwak?", a: ["1 hari", "1 tahun", "Hingga seratnya habis/rusak", "Selamanya"], c: 2, e: "Siwak diganti atau dipotong ujungnya jika serat sudah tidak efektif." },
                { q: "Manakah momen yang disunnahkan siwak selain shalat?", a: ["Hendak tidur", "Hendak wudhu", "Membaca Al-Quran", "Semua Benar"], c: 3, e: "Siwak sunnah pada setiap perubahan bau mulut." },
                { q: "Bolehkah meminjam siwak orang lain?", a: ["Tidak boleh sama sekali", "Boleh jika dibersihkan/dipotong", "Wajib", "Makruh mutlak"], c: 1, e: "Nabi pernah menggunakan siwak milik Abdurrahman bin Abi Bakar setelah dipersiapkan Aisyah." }
            ],
            // Sesi 3
            [
                { q: "Kekhususan umat Islam adalah bumi dijadikan...", a: ["Tempat tidur", "Masjid & Alat bersuci", "Harta warisan", "Sempit"], c: 1, e: "Ini adalah salah satu dari 5 kelebihan Nabi Muhammad dibanding nabi lain." },
                { q: "Apa makna 'Thahuran' dalam hadits bumi?", a: ["Bisa dimakan", "Sebagai alat bersuci (tayammum)", "Sebagai hiasan", "Sangat luas"], c: 1, e: "Tanah bumi bisa digunakan untuk bersuci jika tidak ada air." },
                { q: "Bolehkah shalat di tanah lapang (padang pasir)?", a: ["Boleh", "Tidak boleh", "Wajib di masjid gedung", "Hanya jika darurat"], c: 0, e: "Prinsipnya bumi adalah masjid." },
                { q: "Umat sebelum Islam shalat di tempat khusus, umat Islam shalat di...", a: ["Hanya di Gereja", "Hanya di Kuil", "Di mana saja bumi yang suci", "Hanya di rumah"], c: 2, e: "Ini adalah kemudahan (Rukhsah) bagi umat Islam." },
                { q: "Hukum asal tanah di bumi adalah...", a: ["Najis", "Suci", "Subur", "Kering"], c: 1, e: "Asal segala sesuatu adalah suci sampai terbukti ada najis." },
                { q: "Jika seorang muslim menemui waktu shalat di perjalanan, apa yang harus ia lakukan?", a: ["Menunggu sampai rumah", "Shalat di mana pun ia berada", "Tidak shalat", "Shalat sambil lari"], c: 1, e: "Nabi bersabda: 'Di mana pun waktu shalat menemuimu, maka shalatlah'." },
                { q: "Apakah rumput termasuk bagian dari 'Masjid' dalam hadits?", a: ["Ya", "Tidak", "Hanya pasir", "Hanya keramik"], c: 0, e: "Permukaan bumi mencakup rumput, pasir, dan tanah." },
                { q: "Manakah yang membatalkan kesucian tempat shalat?", a: ["Debu", "Keringat", "Najis (kotoran/darah/urin)", "Air hujan"], c: 2, e: "Hanya najis nampak yang membatalkan kesucian tempat." },
                { q: "Apa fungsi tanah selain tempat sujud?", a: ["Minum", "Tayammum", "Pakaian", "Lampu"], c: 1, e: "Bumi adalah 'Thahuran' (alat bersuci)." },
                { q: "Siapakah yang memberikan kekhususan 'Bumi sebagai Masjid'?", a: ["Malaikat", "Raja", "Allah SWT", "Para Sahabat"], c: 2, e: "Ini adalah pemberian Allah kepada Rasul-Nya." }
            ],
            // Sesi 4
            [
                { q: "Tempat manakah yang dikecualikan dari 'Bumi sebagai Masjid'?", a: ["Pasar", "Sekolah", "Kuburan & Kamar Mandi", "Bandara"], c: 2, e: "Berdasarkan hadits: 'illa al-maqbarah wa al-hammam'." },
                { q: "Kenapa dilarang shalat di kuburan?", a: ["Takut hantu", "Kotor", "Menutup celah kesyirikan", "Bau"], c: 2, e: "Saddudz Dzari'ah agar orang tidak menyembah kuburan." },
                { q: "Apa alasan larangan shalat di Kamar Mandi (Hammam)?", a: ["Tempat Najis & Setan", "Terlalu sempit", "Licin", "Dingin"], c: 0, e: "WC/Kamar mandi adalah tempat kotoran dan hunian jin/setan." },
                { q: "Hukum shalat di Masjid yang ada kuburannya di dalam ruang shalat adalah...", a: ["Wajib", "Sunnah", "Dilarang/Haram", "Mubah"], c: 2, e: "Islam melarang mencampur masjid dengan kuburan." },
                { q: "Bolehkah shalat jenazah di pekuburan?", a: ["Boleh", "Haram", "Makruh", "Hanya untuk wanita"], c: 0, e: "Shalat jenazah dikecualikan karena tidak ada ruku dan sujud yang menyerupai penyembahan kubur." },
                { q: "Shalat di tempat pembuangan sampah hukumnya...", a: ["Sunnah", "Makruh/Dilarang", "Sangat dianjurkan", "Wajib"], c: 1, e: "Tempat najis dilarang untuk shalat." },
                { q: "Manakah yang disebut 'Hammam' dalam hadits?", a: ["Dapur", "Ruang tamu", "Kamar mandi/Tempat mandi", "Kebun"], c: 2, e: "Hammam adalah tempat pembersihan diri yang identik dengan aurat dan najis." },
                { q: "Apakah sah shalat di padang rumput yang suci?", a: ["Sah", "Tidak Sah", "Harus pakai karpet", "Hanya untuk laki-laki"], c: 0, e: "Sah, karena bukan kuburan atau kamar mandi." },
                { q: "Membangun masjid di atas kuburan termasuk...", a: ["Perbuatan mulia", "Penyimpangan/Ghuluh", "Kewajiban", "Hobi"], c: 1, e: "Nabi melaknat orang yang menjadikan kuburan sebagai masjid." },
                { q: "Jika terpaksa shalat di area WC (luar bilik), apakah boleh?", a: ["Boleh", "Tetap dilarang selama masih satu bangunan kotor", "Wajib", "Hanya jika gelap"], c: 1, e: "Area yang identik dengan najis harus dihindari." }
            ],
            // Sesi 5
            [
                { q: "Apa arti 'Sutrah' secara bahasa?", a: ["Cermin", "Pembatas/Penghalang", "Kunci", "Lampu"], c: 1, e: "Sutrah artinya sesuatu yang menutupi atau membatasi." },
                { q: "Apa tujuan utama menggunakan sutrah?", a: ["Hiasan", "Menghalau orang lewat & menjaga kekhusyukan", "Syarat sah shalat", "Agar terlihat kaya"], c: 1, e: "Sutrah menjaga area sujud dari gangguan orang/hewan yang lewat." },
                { q: "Menghadap sutrah hukumnya menurut jumhur ulama adalah...", a: ["Wajib", "Haram", "Sunnah Muakkad", "Mubah"], c: 2, e: "Sunnah yang sangat ditekankan, sebagian kecil ulama mewajibkan." },
                { q: "Di mana posisi meletakkan sutrah?", a: ["Di samping kanan", "Di belakang", "Di depan tempat sujud", "Di samping kiri"], c: 2, e: "Sutrah diletakkan di depan musalli (orang yang shalat)." },
                { q: "Bolehkah menjadikan orang duduk sebagai sutrah?", a: ["Boleh", "Haram", "Wajib", "Batal shalatnya"], c: 0, e: "Sutrah bisa berupa benda mati maupun mahluk hidup yang diam." },
                { q: "Sutrah bagi makmum adalah...", a: ["Tas masing-masing", "Sutrah Imam", "Sajadah", "Peci"], c: 1, e: "Sutrah imam adalah sutrah bagi makmum di belakangnya." },
                { q: "Apakah dinding masjid bisa menjadi sutrah?", a: ["Ya", "Tidak", "Hanya jika dicat", "Hanya di masjid Nabawi"], c: 0, e: "Dinding adalah sutrah yang paling umum." },
                { q: "Nabi Ô∑∫ memerintahkan untuk ... ke sutrah.", a: ["Menjauh", "Mendekat", "Melompat", "Membelakangi"], c: 1, e: "Disunnahkan mendekat ke sutrah agar tidak memberi ruang luas di depan." },
                { q: "Manakah yang TIDAK boleh dijadikan sutrah?", a: ["Tiang", "Tongkat", "Garis lantai (menurut sebagian ulama)", "Ruang kosong"], c: 3, e: "Sutrah harus berupa benda yang nampak/berwujud." },
                { q: "Jika shalat di lapangan, apa yang sebaiknya dilakukan untuk sutrah?", a: ["Membeli lemari", "Menancapkan tongkat/meletakkan tas", "Berteriak", "Tidak perlu"], c: 1, e: "Gunakan benda apa pun yang tersedia sebagai pembatas." }
            ],
            // Sesi 6
            [
                { q: "Berapa tinggi minimal sutrah menurut hadits?", a: ["Setinggi gunung", "Setinggi sandaran pelana unta", "Setinggi lutut", "Setinggi mata kaki"], c: 1, e: "Istilahnya 'Mitslu mu'khirati ar-rahl' (sekitar 1 hasta)." },
                { q: "Jarak antara kaki dan sutrah yang disarankan adalah...", a: ["10 meter", "3 hasta", "Sejauh mata memandang", "Tanpa jarak"], c: 1, e: "Sekitar 3 hasta agar cukup untuk ruku dan sujud." },
                { q: "Jarak antara tempat sujud dan sutrah adalah sekadar lewatnya...", a: ["Kucing", "Manusia", "Kambing", "Unta"], c: 2, e: "Hadits menyebutkan 'Mamarrus syah' (tempat lewat kambing)." },
                { q: "Jika shalat sendirian, haruskah menggunakan sutrah?", a: ["Ya, sangat disunnahkan", "Tidak perlu", "Hanya jika di jalan", "Wajib jika ada tamu"], c: 0, e: "Sunnah mutlak bagi imam dan shalat munfarid (sendiri)." },
                { q: "Apa yang dimaksud 'Mu'khiratur Rahl'?", a: ["Pintu gerbang", "Bagian belakang pelana unta", "Pelana kuda", "Ekor unta"], c: 1, e: "Ini adalah standar tinggi benda yang nampak jelas." },
                { q: "Bolehkah meletakkan sutrah agak bergeser ke kanan/kiri (tidak pas di tengah hidung)?", a: ["Boleh", "Haram", "Wajib", "Batal"], c: 0, e: "Sunnah agar tidak tepat lurus di tengah, namun bergeser sedikit." },
                { q: "Sutrah imam mencakup makmum. Artinya orang boleh lewat di...", a: ["Depan imam", "Antara shaf makmum", "Atas kepala makmum", "Tidak boleh lewat mana pun"], c: 1, e: "Boleh lewat di depan makmum jika imam sudah punya sutrah." },
                { q: "Tinggi satu hasta setara dengan sekitar...", a: ["10 cm", "45-50 cm", "100 cm", "200 cm"], c: 1, e: "Satu hasta adalah jarak siku ke ujung jari." },
                { q: "Jika sutrah terlalu rendah, apakah tetap sah?", a: ["Sah tapi kurang sempurna", "Tidak sah", "Haram", "Wajib diulang"], c: 0, e: "Fungsi sutrah adalah tanda, namun minimal tinggi dianjurkan tetap diikuti." },
                { q: "Benda apa yang paling praktis jadi sutrah saat shalat di bandara?", a: ["Koper/Tas", "Paspor", "Tiket", "Sepatu"], c: 0, e: "Koper memiliki tinggi yang cukup sesuai kriteria." }
            ],
            // Sesi 7
            [
                { q: "Berapa lama ancaman orang yang lewat di depan orang shalat?", a: ["40 Hari/Bulan/Tahun", "1 Jam", "7 Turunan", "Selamanya"], c: 0, e: "Perawi tidak memastikan, namun 40 tahun menunjukkan dosa yang sangat besar." },
                { q: "Lewat di depan orang shalat tanpa sutrah hukumnya...", a: ["Mubah", "Sunnah", "Dosa Besar", "Pahala"], c: 2, e: "Karena ancamannya sangat keras." },
                { q: "Lebih baik diam menunggu 40 tahun daripada...", a: ["Makan", "Tidur", "Lewat di depan orang shalat", "Bicara"], c: 2, e: "Ini menunjukkan besarnya larangan tersebut." },
                { q: "Area mana yang dilarang untuk dilewati?", a: ["Dibelakang punggung orang shalat", "Di samping jauh", "Antara kaki dan tempat sujud", "Di luar masjid"], c: 2, e: "Area interaksi musalli dengan Allah." },
                { q: "Apakah lewat di depan orang shalat membatalkan shalat (menurut jumhur)?", a: ["Ya", "Tidak (tapi berdosa yang lewat)", "Hanya jika wanita lewat", "Hanya jika anjing lewat"], c: 1, e: "Shalat tidak batal, tapi yang lewat menanggung dosa besar." },
                { q: "Siapa perawi hadits ancaman 40 tahun?", a: ["Abu Hurairah", "Busr bin Said dari Abu Juhaim", "Umar bin Khattab", "Aisyah"], c: 1, e: "Hadits riwayat Abu Juhaim al-Anshari." },
                { q: "Hadits ini memotivasi orang shalat agar...", a: ["Marah", "Pasang Sutrah", "Shalat cepat-cepat", "Shalat di rumah"], c: 1, e: "Agar aman dari gangguan orang lewat." },
                { q: "Kenapa lewat di depan orang shalat dilarang?", a: ["Menghalangi pemandangan", "Mengganggu munajat hamba dengan Allah", "Bikin kaget", "Sifatnya rahasia"], c: 1, e: "Shalat adalah komunikasi privat dengan Sang Pencipta." },
                { q: "Bolehkah lewat jika orang shalat sudah pakai sutrah?", a: ["Tidak boleh", "Boleh (lewat di luar sutrah)", "Makruh", "Haram"], c: 1, e: "Sutrah adalah pembatas resmi, lewat di luarnya dibolehkan." },
                { q: "Bagaimana jika tidak ada jalan lain kecuali lewat depan orang shalat tanpa sutrah?", a: ["Tetap lewat", "Menunggu sampai selesai", "Berlari", "Merangkak"], c: 1, e: "Utamakan menunggu atau mencari jalan memutar." }
            ],
            // Sesi 8
            [
                { q: "Jika ada orang ingin lewat di depan kita saat shalat, apa tindakan pertama?", a: ["Berteriak", "Menghalaunya dengan tangan", "Membatalkan shalat", "Memukul"], c: 1, e: "Nabi memerintahkan 'Falyadfa'hu' (hendaknya ia menolaknya)." },
                { q: "Jika sudah dicegah sekali tapi tetap memaksa lewat, maka...", a: ["Biarkan saja", "Halaulah dengan lebih kuat (Falyuqatilhu)", "Menangis", "Duduk"], c: 1, e: "Diperintahkan untuk menahan lebih kuat." },
                { q: "Apa maksud 'Falyuqatilhu' dalam hadits?", a: ["Bunuhlah dia", "Perangi/Halaulah dengan sungguh-sungguh", "Ajak debat", "Lempar batu"], c: 1, e: "Bukan membunuh secara fisik, tapi tindakan defensif yang kuat." },
                { q: "Siapa yang menyertai orang yang sengaja lewat di depan orang shalat?", a: ["Malaikat", "Qarin", "Setan", "Teman"], c: 2, e: "Nabi bersabda: 'Fainnama ma'ahu as-syaitan'." },
                { q: "Bolehkah bergerak sedikit untuk menghalau orang lewat?", a: ["Boleh (gerakan ringan)", "Haram (batal shalat)", "Wajib membatalkan shalat", "Makruh"], c: 0, e: "Gerakan untuk kemaslahatan shalat dibolehkan." },
                { q: "Hadits perintah menghalau ini berlaku jika...", a: ["Kita shalat tanpa sutrah", "Kita shalat menghadap sutrah", "Hanya di masjid", "Hanya imam"], c: 1, e: "Jika sudah pakai sutrah tapi ada yang mau menerobos, baru dihalau." },
                { q: "Kenapa orang yang lewat disebut bersama setan?", a: ["Karena dia jahat", "Karena tindakannya memutus kekhusyukan hamba", "Karena dia tidak mandi", "Hanya perumpamaan"], c: 1, e: "Tindakan memutus shalat adalah misi setan." },
                { q: "Bagaimana cara menghalau yang benar?", a: ["Menjulurkan tangan menahan dada/perutnya", "Menendang", "Menarik bajunya", "Mendorong hingga jatuh"], c: 0, e: "Cukup menahan dengan tangan agar dia berhenti." },
                { q: "Apakah makmum juga menghalau orang yang lewat di depan shafnya?", a: ["Ya", "Tidak perlu (cukup imam)", "Hanya makmum paling pinggir", "Wajib"], c: 1, e: "Makmum tidak perlu menghalau karena imam adalah sutrah mereka." },
                { q: "Apa hikmah dari perintah menghalau ini?", a: ["Latihan fisik", "Menjaga kehormatan shalat", "Menakuti orang", "Ajang pamer"], c: 1, e: "Agar shalat tetap terjaga kualitas munajatnya." }
            ]
        ];

        let currentSesi = 1;

        window.onload = () => {
            renderNav();
            switchSesi(1);
        };

        function renderNav() {
            const nav = document.getElementById('tab-nav');
            materi.forEach(m => {
                const btn = document.createElement('button');
                btn.id = `tab-btn-${m.id}`;
                btn.className = "px-6 py-4 text-sm font-bold border-b-4 border-transparent hover:bg-slate-50 transition";
                btn.innerText = `Pertemuan ${m.id}`;
                btn.onclick = () => switchSesi(m.id);
                nav.appendChild(btn);
            });
            const sumatifBtn = document.createElement('button');
            sumatifBtn.id = `tab-btn-9`;
            sumatifBtn.className = "px-6 py-4 text-sm font-bold border-b-4 border-transparent text-amber-600 bg-amber-50";
            sumatifBtn.innerText = "TES SUMATIF";
            sumatifBtn.onclick = () => renderSumatif();
            nav.appendChild(sumatifBtn);
        }

        function switchSesi(id) {
            currentSesi = id;
            document.querySelectorAll('#tab-nav button').forEach(b => b.classList.remove('tab-active'));
            const activeBtn = document.getElementById(`tab-btn-${id}`);
            if(activeBtn) activeBtn.classList.add('tab-active');

            const m = materi.find(x => x.id === id);
            const container = document.getElementById('main-content');
            
            container.innerHTML = `
                <div class="space-y-10 animate-fadeIn">
                    <div class="bg-white rounded-2xl shadow-xl overflow-hidden border border-slate-200">
                        <div class="bg-emerald-800 p-8 text-white">
                            <h2 class="text-3xl font-black">Pertemuan ${m.id}: ${m.judul}</h2>
                        </div>
                        <div class="p-8 space-y-8">
                            <section>
                                <h3 class="text-xl font-bold text-emerald-900 border-b-2 border-emerald-100 pb-2 mb-4">A. Tujuan Pembelajaran</h3>
                                <ul class="list-disc ml-6 space-y-2 text-slate-700">
                                    ${m.tujuan.map(t => `<li>${t}</li>`).join('')}
                                </ul>
                            </section>
                            <section>
                                <h3 class="text-xl font-bold text-emerald-900 border-b-2 border-emerald-100 pb-2 mb-4">B. Keterkaitan Nilai Islam</h3>
                                <div class="bg-emerald-50 p-6 rounded-xl border-r-8 border-emerald-600">
                                    <p class="arabic mb-4">${m.dalil}</p>
                                    <p class="text-emerald-950 font-medium italic">"${m.terjemah}"</p>
                                </div>
                            </section>
                            <section>
                                <h3 class="text-xl font-bold text-emerald-900 border-b-2 border-emerald-100 pb-2 mb-4">C. Skenario Pembelajaran</h3>
                                <div class="prose max-w-none text-slate-800 leading-relaxed">
                                    <p>${m.deskripsi}</p>
                                    <div class="teacher-note p-6 my-6 rounded-lg">
                                        <p class="font-black text-secondary uppercase text-xs tracking-widest mb-2">Instruksi Guru:</p>
                                        <p class="italic">${m.teacherNote}</p>
                                    </div>
                                    <p><strong>Analogi Berpikir:</strong> ${m.analogi}</p>
                                    <div class="my-8 flex flex-col items-center">
                                        <img src="${m.img}" class="rounded-2xl shadow-lg w-full max-w-md h-64 object-cover border-4 border-white" alt="Materi">
                                    </div>
                                </div>
                            </section>
                        </div>
                    </div>

                    <div class="bg-white rounded-2xl shadow-xl p-8 border border-slate-200">
                        <h3 class="text-2xl font-bold text-emerald-900 mb-6 flex items-center">
                            <span class="mr-3">üìù</span> Latihan Formatif (10 Soal)
                        </h3>
                        <div class="space-y-6" id="quiz-list"></div>
                    </div>
                </div>
            `;
            renderQuiz(id);
            window.scrollTo(0,0);
        }

        function renderQuiz(sesiId) {
            const list = document.getElementById('quiz-list');
            const data = bankSoal[sesiId - 1];
            
            data.forEach((q, idx) => {
                const div = document.createElement('div');
                div.className = "p-6 bg-slate-50 border rounded-xl space-y-4";
                div.innerHTML = `
                    <p class="font-bold text-lg">${idx + 1}. ${q.q}</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                        ${q.a.map((opt, oIdx) => `
                            <button onclick="checkQuiz(${sesiId}, ${idx}, ${oIdx}, this)" class="text-left p-4 bg-white border-2 border-slate-200 rounded-xl hover:border-emerald-500 transition font-medium">
                                ${opt}
                            </button>
                        `).join('')}
                    </div>
                    <div id="expl-${sesiId}-${idx}" class="hidden p-4 rounded-xl text-sm font-semibold"></div>
                `;
                list.appendChild(div);
            });
        }

        function checkQuiz(sId, qId, oId, btn) {
            const q = bankSoal[sId - 1][qId];
            const expl = document.getElementById(`expl-${sId}-${qId}`);
            const parent = btn.parentElement;
            
            parent.querySelectorAll('button').forEach(b => {
                b.disabled = true;
                b.classList.add('opacity-50');
            });
            btn.classList.remove('opacity-50');
            expl.classList.remove('hidden');

            if (oId === q.c) {
                btn.classList.add('correct-ans');
                expl.className = "p-4 rounded-xl text-sm bg-green-100 text-green-800 border border-green-200 mt-2";
                expl.innerHTML = `‚úÖ BENAR: ${q.e}`;
            } else {
                btn.classList.add('wrong-ans');
                expl.className = "p-4 rounded-xl text-sm bg-red-100 text-red-800 border border-red-200 mt-2";
                expl.innerHTML = `‚ùå SALAH: Jawaban yang benar adalah "${q.a[q.c]}". ${q.e}`;
            }
        }

        function renderSumatif() {
            document.querySelectorAll('#tab-nav button').forEach(b => b.classList.remove('tab-active'));
            document.getElementById('tab-btn-9').classList.add('tab-active');

            const container = document.getElementById('main-content');
            container.innerHTML = `
                <div class="bg-white rounded-3xl shadow-2xl p-10 border-4 border-emerald-900 animate-fadeIn">
                    <div class="text-center mb-10">
                        <h2 class="text-4xl font-black text-emerald-900">TES SUMATIF KOMPREHENSIF</h2>
                        <p class="text-slate-500 mt-2">25 Soal Acak dari Seluruh Pertemuan (1-8)</p>
                    </div>
                    <div id="sumatif-list" class="space-y-8"></div>
                    <div id="sumatif-result" class="hidden mt-10 p-10 bg-emerald-900 text-white rounded-3xl text-center">
                        <h3 class="text-2xl font-bold uppercase tracking-widest">Skor Akhir</h3>
                        <p id="sumatif-score" class="text-8xl font-black my-6">0</p>
                        <p id="sumatif-msg" class="text-xl text-emerald-200 font-medium"></p>
                        <button onclick="location.reload()" class="mt-8 bg-white text-emerald-900 px-10 py-4 rounded-full font-black hover:bg-emerald-100 transition shadow-xl">MULAI ULANG MODUL</button>
                    </div>
                    <button id="submit-sumatif" onclick="gradeSumatif()" class="mt-12 w-full bg-emerald-800 text-white py-6 rounded-2xl text-2xl font-black hover:bg-black transition shadow-2xl uppercase tracking-tighter">KIRIM JAWABAN AKHIR</button>
                </div>
            `;

            const list = document.getElementById('sumatif-list');
            const flatPool = bankSoal.flat();
            const pool = flatPool.sort(() => Math.random() - 0.5).slice(0, 25);
            window.activeSumatif = pool;

            pool.forEach((q, idx) => {
                const div = document.createElement('div');
                div.className = "p-8 bg-slate-50 border-2 border-slate-100 rounded-3xl shadow-sm";
                div.innerHTML = `
                    <p class="text-xl font-black mb-6 text-slate-900">${idx+1}. ${q.q}</p>
                    <div class="space-y-3">
                        ${q.a.map((opt, oIdx) => `
                            <label class="flex items-center p-5 bg-white border-2 rounded-2xl cursor-pointer hover:border-emerald-500 hover:bg-emerald-50 transition border-slate-200">
                                <input type="radio" name="sum-${idx}" value="${oIdx}" class="w-6 h-6 accent-emerald-600">
                                <span class="ml-4 font-bold text-slate-700">${opt}</span>
                            </label>
                        `).join('')}
                    </div>
                `;
                list.appendChild(div);
            });
            window.scrollTo(0,0);
        }

        function gradeSumatif() {
            let correctCount = 0;
            const pool = window.activeSumatif;
            pool.forEach((q, idx) => {
                const selected = document.querySelector(`input[name="sum-${idx}"]:checked`);
                if(selected && parseInt(selected.value) === q.c) correctCount++;
            });

            const score = Math.round((correctCount / pool.length) * 100);
            document.getElementById('sumatif-score').innerText = score;
            document.getElementById('sumatif-result').classList.remove('hidden');
            document.getElementById('submit-sumatif').classList.add('hidden');
            document.getElementById('sumatif-list').classList.add('opacity-30', 'pointer-events-none');
            
            let msg = "";
            if(score >= 90) msg = "Maa syaa Allah, Mumtaz! Pemahaman Anda sangat mendalam.";
            else if(score >= 75) msg = "Jayyid Jiddan. Anda menguasai sebagian besar materi.";
            else if(score >= 60) msg = "Jayyid. Perbanyak murajaah lagi agar lebih kokoh.";
            else msg = "Dhaif. Silakan pelajari kembali setiap pertemuan dengan seksama.";
            
            document.getElementById('sumatif-msg').innerText = msg;
            window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
        }
    </script>
</body>

</html>
