<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modul AKH-104: Adab Bertetangga & Menerima Tamu</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    'akhlak-dark': '#4a2c2a', // Dark Brown
                    'akhlak-darker': '#2e1918', // Very Dark Brown
                    'akhlak-light': '#fdf6e3', // Solarized Light
                    'akhlak-accent': '#b58900', // Gold/Amber
                    'akhlak-accent-hover': '#a17800',
                    'akhlak-secondary': '#93a1a1', // Muted Gray-Blue for text
                    'correct': '#859900', // Green
                    'incorrect': '#dc322f', // Red
                },
                fontFamily: {
                    'sans': ['Inter', 'sans-serif'],
                    'arabic': ['"Noto Naskh Arabic"', 'serif']
                }
            }
        }
    }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Naskh+Arabic:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #2e1918;
            color: #fdf6e3;
        }
        .arabic, .arabic-text {
            font-family: 'Noto Naskh Arabic', serif;
            font-size: 1.6rem;
            line-height: 2.8rem;
            direction: rtl;
        }
        .tab-btn.active {
            background-color: #b58900;
            color: #2e1918;
            font-weight: 600;
        }
        .teacher-note {
            background-color: rgba(181, 137, 0, 0.1);
            border-left: 4px solid #b58900;
            padding: 1rem;
            margin: 1.5rem 0;
            border-radius: 0 0.5rem 0.5rem 0;
        }
        .simulation-card, .quiz-card {
            background-color: #4a2c2a;
            border: 1px solid #6c4f4d;
        }
        .draggable {
            cursor: move;
            user-select: none;
        }
        .drop-zone {
            transition: background-color 0.3s ease;
        }
        .drop-zone.drag-over {
            background-color: #6c4f4d;
        }
    </style>
</head>
<body>

    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
        
        <header class="text-center mb-8 border-b-2 border-akhlak-accent pb-4">
            <h1 class="text-3xl md:text-4xl font-bold text-white">Modul Akhlak Islamiyyah</h1>
            <p class="text-xl text-akhlak-accent font-semibold mt-1">AKH-104: Adab Bertetangga & Menerima Tamu</p>
        </header>

        <nav class="flex flex-wrap justify-center mb-8 gap-2">
            <button class="tab-btn active w-full sm:w-auto text-white py-2 px-4 rounded-md transition duration-300 ease-in-out hover:bg-akhlak-accent-hover" data-tab="pertemuan1">Pertemuan 1</button>
            <button class="tab-btn w-full sm:w-auto text-white py-2 px-4 rounded-md transition duration-300 ease-in-out hover:bg-akhlak-accent-hover" data-tab="pertemuan2">Pertemuan 2</button>
            <button class="tab-btn w-full sm:w-auto text-white py-2 px-4 rounded-md transition duration-300 ease-in-out hover:bg-akhlak-accent-hover" data-tab="pertemuan3">Pertemuan 3</button>
            <button class="tab-btn w-full sm:w-auto text-white py-2 px-4 rounded-md transition duration-300 ease-in-out hover:bg-akhlak-accent-hover" data-tab="pertemuan4">Pertemuan 4</button>
            <button class="tab-btn w-full sm:w-auto text-white py-2 px-4 rounded-md transition duration-300 ease-in-out bg-red-700 hover:bg-red-600" data-tab="tesSumatif">Tes Sumatif</button>
        </nav>

        <main id="tab-content">
            <!-- =================================================================== -->
            <!-- ==================== KONTEN PERTEMUAN 1 =========================== -->
            <!-- =================================================================== -->
            <div id="pertemuan1" class="tab-pane active space-y-8">
                <div class="p-6 bg-akhlak-darker rounded-lg shadow-lg">
                    <h2 class="text-2xl font-bold text-akhlak-accent mb-1">Pertemuan 1: Kedudukan dan Hak-Hak Tetangga</h2>
                    <p class="mb-6 text-akhlak-secondary">Memahami betapa agungnya kedudukan tetangga dalam Islam dan hak-hak yang wajib kita tunaikan.</p>

                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-akhlak-accent pl-3">A. Tujuan Pembelajaran</h3>
                        <ul class="list-disc list-inside space-y-2 pl-2">
                            <li>Santri mampu menjelaskan definisi tetangga dalam Islam.</li>
                            <li>Santri dapat menyebutkan tiga tingkatan tetangga dan hak-haknya masing-masing.</li>
                            <li>Santri mampu melafalkan dan menjelaskan hadits tentang wasiat Jibril mengenai tetangga.</li>
                            <li>Santri mampu menjelaskan makna hadits "Tidak beriman, orang yang tetangganya tidak merasa aman dari gangguannya".</li>
                            <li>Santri memahami bahwa berbuat baik kepada tetangga adalah tanda kesempurnaan iman.</li>
                        </ul>
                    </div>

                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-akhlak-accent pl-3">B. Keterkaitan Nilai Islam</h3>
                        <p class="mb-4">Islam adalah agama yang sangat menekankan keharmonisan sosial. Salah satu pilar utamanya adalah hubungan baik dengan tetangga. Berbuat baik kepada tetangga (<i class="arabic">الإحسان إلى الجار</i>) bukanlah sekadar norma sosial, melainkan bagian tak terpisahkan dari keimanan. Hal ini secara tegas diperintahkan Allah dalam Al-Qur'an setelah perintah untuk beribadah kepada-Nya dan berbakti kepada orang tua. Ini menunjukkan betapa krusialnya peran tetangga dalam struktur masyarakat Islam. Kesempurnaan iman seseorang tercermin dari akhlaknya kepada orang terdekat, dan tetangga adalah salah satu yang terdekat setelah keluarga.</p>
                        <div class="p-4 bg-gray-900 rounded-lg text-center">
                            <p class="arabic text-2xl text-white">وَاعْبُدُوا اللَّهَ وَلَا تُشْرِكُوا بِهِ شَيْئًا ۖ وَبِالْوَالِدَيْنِ إِحْسَانًا وَبِذِي الْقُرْبَىٰ ... وَالْجَارِ ذِي الْقُرْبَىٰ وَالْجَارِ الْجُنُبِ</p>
                            <p class="mt-2 text-akhlak-light">"Sembahlah Allah dan janganlah kamu mempersekutukan-Nya dengan sesuatupun. Dan berbuat baiklah kepada dua orang ibu-bapa, karib-kerabat, ... tetangga yang dekat dan tetangga yang jauh..."</p>
                            <p class="text-sm text-akhlak-accent mt-1">(QS. An-Nisa': 36)</p>
                        </div>
                    </div>

                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-akhlak-accent pl-3">C. Skenario Pembelajaran (Durasi: 90 Menit)</h3>
                        <div class="space-y-6">
                            <div>
                                <h4 class="font-semibold text-lg text-gray-200">1. Definisi & Kedudukan Tetangga (30 Menit)</h4>
                                <p><strong>Definisi:</strong> Para ulama menjelaskan bahwa batasan tetangga mencakup 40 rumah ke segala arah (depan, belakang, kanan, kiri). Ini menunjukkan cakupan yang sangat luas.</p>
                                <p class="mt-2"><strong>Kedudukan:</strong> Rasulullah ﷺ bersabda, "Jibril senantiasa berwasiat kepadaku tentang tetangga, hingga aku mengira bahwa tetangga akan mendapat bagian warisan." (HR. Bukhari & Muslim). Ini menunjukkan betapa agungnya kedudukan tetangga hingga hampir disamakan dengan kerabat.</p>
                            </div>
                            
                            <div>
                                <h4 class="font-semibold text-lg text-gray-200">2. Tiga Tingkatan Tetangga (30 Menit)</h4>
                                <p>Tetangga memiliki tiga tingkatan dengan hak yang berbeda:</p>
                                <ol class="list-decimal list-inside pl-4 mt-2 space-y-2">
                                    <li><strong>Tetangga Muslim yang juga Kerabat:</strong> Ia memiliki tiga hak (hak tetangga, hak Islam, hak kerabat).</li>
                                    <li><strong>Tetangga Muslim (bukan kerabat):</strong> Ia memiliki dua hak (hak tetangga dan hak Islam).</li>
                                    <li><strong>Tetangga Non-Muslim:</strong> Ia memiliki satu hak (hak tetangga).</li>
                                </ol>
                                <p>Ini menunjukkan bahwa bahkan tetangga non-muslim sekalipun wajib kita perlakukan dengan baik.</p>
                            </div>

                            <div>
                                <h4 class="font-semibold text-lg text-gray-200">3. Ancaman Mengganggu Tetangga (30 Menit)</h4>
                                <p>Berbuat baik adalah kewajiban, dan mengganggu tetangga adalah dosa besar. Rasulullah ﷺ bersabda dengan tegas, "Demi Allah, tidak beriman! Demi Allah, tidak beriman! Demi Allah, tidak beriman!" Para sahabat bertanya, "Siapa wahai Rasulullah?" Beliau menjawab, "Orang yang tetangganya tidak merasa aman dari kejahatannya (gangguannya)." (HR. Bukhari). Hadits ini menafikan kesempurnaan iman bagi orang yang suka mengganggu tetangganya.</p>
                                <div class="teacher-note">
                                    <p class="font-bold">Poin Diskusi Guru:</p>
                                    <p>Tanyakan, "Sebutkan contoh-contoh 'gangguan' kepada tetangga di zaman modern!" Arahkan diskusi ke contoh-contoh seperti: menyetel musik terlalu keras, membuang sampah sembarangan di depan rumahnya, memarkir kendaraan menghalangi jalannya, menggunjingkannya (ghibah), dll.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-akhlak-accent pl-3">D. Penilaian Modul</h3>
                        <p class="mb-4">Penilaian selama pembelajaran modul ini mencakup tiga aspek utama untuk memastikan pemahaman yang holistik:</p>
                        <div class="grid md:grid-cols-3 gap-4">
                            <div class="p-4 bg-gray-900 rounded"><h4 class="font-semibold text-akhlak-accent">1. Sikap / Adab (20%)</h4><p class="text-sm">Meliputi semangat untuk mempraktikkan adab bertetangga, menghormati hak orang lain, dan menumbuhkan kepedulian sosial.</p></div>
                            <div class="p-4 bg-gray-900 rounded"><h4 class="font-semibold text-akhlak-accent">2. Pengetahuan (50%)</h4><p class="text-sm">Diukur dari hasil Latihan Formatif di setiap pertemuan dan hasil Tes Sumatif di akhir modul. Ini menunjukkan penguasaan dalil dan rincian adab.</p></div>
                            <div class="p-4 bg-gray-900 rounded"><h4 class="font-semibold text-akhlak-accent">3. Keterampilan (30%)</h4><p class="text-sm">Dinilai dari partisipasi aktif dalam simulasi, kemampuan menganalisis studi kasus, dan kemampuan memecahkan masalah dalam konteks hubungan bertetangga.</p></div>
                        </div>
                    </div>
                </div>

                <div class="p-6 simulation-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Simulasi Interaktif</h3>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h4 class="font-semibold text-akhlak-accent mb-2">Simulasi 1: Peta Hak Tetangga</h4>
                            <p class="text-sm mb-4">Seret setiap jenis tetangga ke dalam kotak yang menunjukkan jumlah hak yang mereka miliki.</p>
                             <div id="sim1-source" class="flex flex-wrap gap-2 mb-3 p-2 bg-gray-900 rounded justify-center">
                               <div class="draggable p-2 bg-gray-600 rounded text-xs" draggable="true" data-type="3">Pamanmu yang tinggal di sebelah rumah.</div>
                               <div class="draggable p-2 bg-gray-600 rounded text-xs" draggable="true" data-type="1">Tetangga non-muslim.</div>
                               <div class="draggable p-2 bg-gray-600 rounded text-xs" draggable="true" data-type="2">Teman pengajianmu yang rumahnya di seberang jalan.</div>
                            </div>
                             <div class="grid grid-cols-3 gap-2">
                                <div class="drop-zone p-2 border-2 border-dashed border-akhlak-secondary rounded-lg min-h-[80px]" data-target="1"><p class="text-center font-bold text-lg">1 Hak</p></div>
                                <div class="drop-zone p-2 border-2 border-dashed border-akhlak-secondary rounded-lg min-h-[80px]" data-target="2"><p class="text-center font-bold text-lg">2 Hak</p></div>
                                <div class="drop-zone p-2 border-2 border-dashed border-akhlak-accent rounded-lg min-h-[80px]" data-target="3"><p class="text-center font-bold text-akhlak-accent text-lg">3 Hak</p></div>
                            </div>
                        </div>
                        
                        <div>
                             <h4 class="font-semibold text-akhlak-accent mb-2">Simulasi 2: Ceklis Iman</h4>
                            <p class="text-sm mb-4">Hadits menyebutkan, iman seseorang tidak sempurna jika tetangganya tidak aman dari gangguannya. Klik pada perbuatan yang merusak rasa aman tetangga.</p>
                            <div id="sim2-container" class="grid grid-cols-2 gap-3">
                                <div class="sim2-cek p-3 text-center rounded cursor-pointer bg-gray-700 hover:bg-gray-600" data-aman="false">Memutar musik keras-keras</div>
                                <div class="sim2-cek p-3 text-center rounded cursor-pointer bg-gray-700 hover:bg-gray-600" data-aman="true">Memberi sebagian masakan</div>
                                <div class="sim2-cek p-3 text-center rounded cursor-pointer bg-gray-700 hover:bg-gray-600" data-aman="false">Berghibah tentangnya</div>
                                <div class="sim2-cek p-3 text-center rounded cursor-pointer bg-gray-700 hover:bg-gray-600" data-aman="false">Membiarkan sampah berserakan</div>
                                <div class="sim2-cek p-3 text-center rounded cursor-pointer bg-gray-700 hover:bg-gray-600" data-aman="true">Menundukkan pandangan</div>
                                <div class="sim2-cek p-3 text-center rounded cursor-pointer bg-gray-700 hover:bg-gray-600" data-aman="false">Memarkir mobil di depan pagarnya</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="p-6 quiz-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Latihan Formatif Pertemuan 1</h3>
                    <div id="quiz1" class="space-y-6"></div>
                </div>
            </div>

            <!-- =================================================================== -->
            <!-- ==================== KONTEN PERTEMUAN 2 =========================== -->
            <!-- =================================================================== -->
            <div id="pertemuan2" class="tab-pane hidden space-y-8">
                <div class="p-6 bg-akhlak-darker rounded-lg shadow-lg">
                    <h2 class="text-2xl font-bold text-akhlak-accent mb-1">Pertemuan 2: Bentuk-Bentuk Ihsan kepada Tetangga</h2>
                    <p class="mb-6 text-akhlak-secondary">Mempelajari cara-cara praktis dalam memuliakan dan berbuat baik kepada tetangga.</p>
                     
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-akhlak-accent pl-3">A. Tujuan Pembelajaran</h3>
                        <ul class="list-disc list-inside space-y-2 pl-2">
                           <li>Santri mampu menyebutkan minimal 5 bentuk perbuatan ihsan (baik) kepada tetangga.</li>
                           <li>Santri memahami anjuran untuk berbagi masakan dengan tetangga.</li>
                           <li>Santri mampu menjelaskan adab ketika menjenguk tetangga yang sakit.</li>
                           <li>Santri memahami pentingnya menjaga aib dan rahasia tetangga.</li>
                           <li>Santri termotivasi untuk proaktif dalam membantu tetangga yang membutuhkan.</li>
                        </ul>
                    </div>

                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-akhlak-accent pl-3">B. Keterkaitan Nilai Islam</h3>
                        <p class="mb-4">Ihsan adalah melakukan sesuatu dengan cara terbaik. Dalam konteks bertetangga, ihsan tidak hanya berarti "tidak mengganggu", tetapi juga proaktif dalam menebar kebaikan. Ini adalah cerminan dari sifat kedermawanan (<i class="arabic">الكرم</i>) dan kepedulian sosial (<i class="arabic">التكافل الإجتماعي</i>) dalam Islam. Rasulullah ﷺ, sebagai teladan utama, adalah orang yang paling baik kepada tetangganya. Beliau mengajarkan bahwa sekecil apapun kebaikan yang kita berikan, seperti melebihkan kuah sayur, memiliki nilai yang besar di sisi Allah dan dapat mempererat tali persaudaraan. Ini adalah cara praktis untuk meraih cinta Allah dan cinta sesama manusia.</p>
                        <div class="p-4 bg-gray-900 rounded-lg text-center">
                            <p class="arabic-text">يَا نِسَاءَ الْمُسْلِمَاتِ، لَا تَحْقِرَنَّ جَارَةٌ لِجَارَتِهَا وَلَوْ فِرْسِنَ شَاةٍ</p>
                            <p class="mt-2 text-akhlak-light">"Wahai para wanita muslimah, janganlah seorang tetangga meremehkan (pemberian) tetangganya meskipun hanya berupa ujung kaki kambing."</p>
                            <p class="text-sm text-akhlak-accent mt-1">(HR. Bukhari & Muslim)</p>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-akhlak-accent pl-3">C. Skenario Pembelajaran (Durasi: 90 Menit)</h3>
                         <div class="space-y-6">
                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">1. Berbagi Kebaikan (40 Menit)</h4>
                               <p>Salah satu bentuk ihsan yang paling mudah dan dianjurkan adalah berbagi makanan. Rasulullah ﷺ bersabda kepada Abu Dzarr, "Wahai Abu Dzarr, jika engkau memasak sayur (daging berkuah), maka perbanyaklah kuahnya dan berilah tetanggamu." (HR. Muslim).</p>
                               <p class="mt-2"><strong>Faidah:</strong></p>
                               <ul class="list-disc list-inside pl-4">
                                   <li>Menunjukkan anjuran untuk peduli bahkan dalam hal sederhana.</li>
                                   <li>Tidak harus menunggu kaya atau memasak makanan mewah untuk berbagi.</li>
                                   <li>Hadiah dapat menumbuhkan rasa cinta.</li>
                               </ul>
                            </div>
                            
                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">2. Menjaga Kehormatan & Membantu Saat Sulit (50 Menit)</h4>
                               <p>Bentuk ihsan lainnya yang sangat penting:</p>
                               <ul class="list-disc list-inside mt-2 pl-4 space-y-3">
                                   <li><strong>Tidak Mengganggu:</strong> Ini adalah level minimal. Meliputi tidak membuat gaduh, tidak mengotori, dan menjaga privasi.</li>
                                   <li><strong>Menjaga Aib:</strong> Tidak menceritakan keburukan atau masalah pribadi tetangga kepada orang lain.</li>
                                   <li><strong>Menjenguk Saat Sakit:</strong> Mendoakannya, menghiburnya, dan menawarkan bantuan jika diperlukan.</li>
                                   <li><strong>Ta'ziyah Saat Berduka:</strong> Menghibur keluarga yang ditinggalkan dan membantu meringankan beban mereka.</li>
                                   <li><strong>Memberi Utang atau Bantuan:</strong> Jika tetangga mengalami kesulitan finansial, maka menolongnya adalah prioritas.</li>
                                   <li><strong>Turut Bergembira:</strong> Mengucapkan selamat saat mereka mendapat nikmat (kelahiran anak, lulus ujian, dll).</li>
                               </ul>
                               <div class="teacher-note">
                                   <p class="font-bold">Poin Diskusi Guru:</p>
                                   <p>Ajak santri bermain peran (role-playing). Satu santri berperan sebagai orang yang baru pindah, dan santri lain berperan sebagai tetangga yang baik. Apa yang akan dilakukan oleh 'tetangga baik' untuk menyambutnya? Ini melatih kepekaan dan kreativitas dalam berbuat baik.</p>
                               </div>
                            </div>
                         </div>
                    </div>
                </div>

                <div class="p-6 simulation-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Simulasi Interaktif</h3>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h4 class="font-semibold text-akhlak-accent mb-2">Simulasi 1: Prioritas Berbagi</h4>
                            <p class="text-sm mb-4">Anda memasak makanan yang lezat. Kepada tetangga manakah Anda harus memberikan hadiah terlebih dahulu?</p>
                             <div class="bg-gray-800 p-4 rounded-md space-y-2" id="sim3-options">
                                <button class="sim3-option w-full p-3 bg-gray-700 hover:bg-gray-600 rounded text-sm text-left">Tetangga yang paling kaya.</button>
                                <button class="sim3-option w-full p-3 bg-gray-700 hover:bg-gray-600 rounded text-sm text-left">Tetangga yang paling dekat pintunya.</button>
                                <button class="sim3-option w-full p-3 bg-gray-700 hover:bg-gray-600 rounded text-sm text-left">Tetangga yang paling jarang di rumah.</button>
                             </div>
                             <p id="sim3-feedback" class="text-center mt-3 font-bold h-5"></p>
                        </div>
                        
                        <div>
                             <h4 class="font-semibold text-akhlak-accent mb-2">Simulasi 2: Skenario Bertetangga</h4>
                            <p class="text-sm mb-4">Tetangga Anda sedang dirawat di rumah sakit. Pilih DUA tindakan ihsan yang paling tepat untuk dilakukan.</p>
                             <div class="bg-gray-800 p-4 rounded-md space-y-3" id="sim4-container">
                                <label class="block p-2 bg-gray-700 rounded cursor-pointer hover:bg-gray-600"><input type="checkbox" class="mr-2"> Menjenguknya dan mendoakan kesembuhan.</label>
                                <label class="block p-2 bg-gray-700 rounded cursor-pointer hover:bg-gray-600"><input type="checkbox" class="mr-2"> Menawarkan diri untuk menjaga rumahnya.</label>
                                <label class="block p-2 bg-gray-700 rounded cursor-pointer hover:bg-gray-600"><input type="checkbox" class="mr-2"> Menggunjingkan penyakitnya dengan tetangga lain.</label>
                                <label class="block p-2 bg-gray-700 rounded cursor-pointer hover:bg-gray-600"><input type="checkbox" class="mr-2"> Membiarkannya karena itu masalah pribadinya.</label>
                             </div>
                        </div>
                    </div>
                </div>

                <div class="p-6 quiz-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Latihan Formatif Pertemuan 2</h3>
                    <div id="quiz2" class="space-y-6"></div>
                </div>
            </div>
            
            <!-- =================================================================== -->
            <!-- ==================== KONTEN PERTEMUAN 3 =========================== -->
            <!-- =================================================================== -->
            <div id="pertemuan3" class="tab-pane hidden space-y-8">
                <div class="p-6 bg-akhlak-darker rounded-lg shadow-lg">
                    <h2 class="text-2xl font-bold text-akhlak-accent mb-1">Pertemuan 3: Adab Memuliakan Tamu</h2>
                    <p class="mb-6 text-akhlak-secondary">Mempelajari kewajiban dan cara-cara memuliakan tamu sebagai cerminan iman.</p>
                     
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-akhlak-accent pl-3">A. Tujuan Pembelajaran</h3>
                        <ul class="list-disc list-inside space-y-2 pl-2">
                           <li>Santri mampu melafalkan hadits tentang kewajiban memuliakan tamu.</li>
                           <li>Santri memahami bahwa memuliakan tamu adalah bagian dari keimanan kepada Allah dan Hari Akhir.</li>
                           <li>Santri mampu menjelaskan hak-hak tamu, terutama pada hari pertama.</li>
                           <li>Santri mampu menyebutkan minimal 4 adab dalam menerima dan menjamu tamu.</li>
                           <li>Santri dapat menceritakan kembali kisah Nabi Ibrahim 'alaihissalam dalam memuliakan tamunya.</li>
                        </ul>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-akhlak-accent pl-3">B. Keterkaitan Nilai Islam</h3>
                        <p class="mb-4">Memuliakan tamu (<i class="arabic">إكرام الضيف</i>) adalah salah satu akhlak paling mulia yang diajarkan Islam dan merupakan tradisi para nabi, terutama Nabi Ibrahim 'alaihissalam yang dijuluki "Bapak Para Tamu". Perbuatan ini secara langsung dihubungkan oleh Rasulullah ﷺ dengan keimanan kepada Allah dan Hari Akhir. Ini berarti, cara seseorang memperlakukan tamunya adalah indikator kualitas imannya. Sifat ini menumbuhkan kedermawanan, menghilangkan kekikiran, dan yang terpenting, mendatangkan keberkahan dari Allah ke dalam rumah yang dikunjungi.</p>
                        <div class="p-4 bg-gray-900 rounded-lg text-center">
                            <p class="arabic-text">مَنْ كَانَ يُؤْمِنُ بِاللهِ وَالْيَوْمِ الآخِرِ فَلْيُكْرِمْ ضَيْفَهُ</p>
                            <p class="mt-2 text-akhlak-light">"Barangsiapa yang beriman kepada Allah dan hari akhir, maka hendaklah ia memuliakan tamunya."</p>
                            <p class="text-sm text-akhlak-accent mt-1">(HR. Bukhari & Muslim)</p>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-akhlak-accent pl-3">C. Skenario Pembelajaran (Durasi: 90 Menit)</h3>
                         <div class="space-y-6">
                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">1. Kewajiban & Hak Tamu (30 Menit)</h4>
                               <p>Memuliakan tamu adalah wajib hukumnya, terutama pada hari pertama kedatangannya. Rasulullah ﷺ bersabda, "...Hak tamu itu wajib selama sehari semalam. Jamuan untuknya selama tiga hari. Lebih dari itu adalah sedekah baginya..." (HR. Bukhari & Muslim).</p>
                               <p class="mt-2"><strong>Rincian Hak Tamu:</strong></p>
                               <ul class="list-disc list-inside pl-4">
                                   <li><strong>Hari Pertama (Ja'izah):</strong> Wajib memberikan jamuan terbaik yang kita mampu tanpa memberatkan diri.</li>
                                   <li><strong>Hari Kedua & Ketiga:</strong> Memberikan jamuan seperti apa yang biasa kita makan sehari-hari.</li>
                                   <li><strong>Setelah Tiga Hari:</strong> Dianggap sebagai sedekah biasa.</li>
                               </ul>
                            </div>
                            
                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">2. Adab-Adab Menerima Tamu (45 Menit)</h4>
                               <p>Teladan terbaik adalah Nabi Ibrahim 'alaihissalam (QS. Adz-Dzariyat: 24-27). Dari kisah beliau dan sunnah Nabi Muhammad ﷺ, kita bisa mengambil adab-adab berikut:</p>
                               <ul class="list-decimal list-inside mt-2 pl-4 space-y-3">
                                   <li><strong>Menyambut dengan Wajah Ceria:</strong> Menampakkan kebahagiaan atas kedatangannya.</li>
                                   <li><strong>Menyegerakan Hidangan:</strong> Seperti Nabi Ibrahim yang segera menyembelih anak sapi gemuk untuk tamunya (yang ternyata para malaikat).</li>
                                   <li><strong>Menyajikan yang Terbaik:</strong> Menghidangkan makanan dan minuman terbaik yang dimiliki.</li>
                                   <li><strong>Melayani Sendiri:</strong> Tuan rumah dianjurkan untuk ikut melayani tamunya sebagai bentuk penghormatan.</li>
                                   <li><strong>Menemani Tamu Makan:</strong> Tidak membiarkan tamu makan sendirian.</li>
                                   <li><strong>Mengantar Tamu Hingga ke Pintu:</strong> Mengantarnya saat akan pulang sebagai bentuk penghormatan terakhir.</li>
                               </ul>
                               <div class="teacher-note">
                                   <p class="font-bold">Poin Diskusi Guru:</p>
                                   <p>Tanyakan: "Dalam hadits disebutkan 'tanpa memberatkan diri'. Apa maksudnya? Bagaimana jika kita orang miskin, apakah tetap wajib memuliakan tamu?" Arahkan diskusi bahwa 'memuliakan' itu sesuai kemampuan. Bahkan senyuman dan segelas air putih yang disajikan dengan tulus sudah termasuk memuliakan tamu.</p>
                               </div>
                            </div>

                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">3. Rangkuman (15 Menit)</h4>
                               <p>Ulas kembali kaitan antara iman dengan memuliakan tamu. Tekankan bahwa adab ini adalah warisan para nabi dan sumber keberkahan bagi sebuah rumah.</p>
                            </div>
                         </div>
                    </div>
                </div>
                
                <div class="p-6 simulation-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Simulasi Interaktif</h3>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h4 class="font-semibold text-akhlak-accent mb-2">Simulasi 1: Alur Penyambutan Tamu</h4>
                            <p class="text-sm mb-4">Seorang teman datang berkunjung. Urutkan adab-adab berikut dari awal hingga akhir.</p>
                             <div class="bg-gray-800 p-4 rounded-md">
                                 <div id="sim5-target" class="space-y-2 p-2 bg-gray-900 rounded min-h-[150px] border border-dashed border-gray-600"></div>
                                 <div id="sim5-source" class="flex flex-wrap gap-2 mt-2">
                                    <div class="draggable p-2 bg-gray-600 rounded text-sm" draggable="true" data-order="2">Mempersilakan duduk di tempat yang layak</div>
                                    <div class="draggable p-2 bg-gray-600 rounded text-sm" draggable="true" data-order="4">Menemaninya makan dan berbincang</div>
                                    <div class="draggable p-2 bg-gray-600 rounded text-sm" draggable="true" data-order="1">Membuka pintu dengan senyum & wajah ceria</div>
                                    <div class="draggable p-2 bg-gray-600 rounded text-sm" draggable="true" data-order="3">Menyegerakan hidangan terbaik</div>
                                    <div class="draggable p-2 bg-gray-600 rounded text-sm" draggable="true" data-order="5">Mengantarnya ke pintu saat pulang</div>
                                 </div>
                                 <button id="sim5-check" class="w-full mt-2 py-1 bg-akhlak-secondary text-akhlak-darker rounded">Cek Urutan</button>
                                 <p id="sim5-feedback" class="text-center mt-2 font-bold h-5"></p>
                             </div>
                        </div>
                        
                        <div>
                            <h4 class="font-semibold text-akhlak-accent mb-2">Simulasi 2: Uji Kedermawanan</h4>
                            <p class="text-sm mb-4">Seorang tamu datang menginap. Untuk jamuan hari pertama (hak wajibnya), apa yang sebaiknya Anda hidangkan?</p>
                             <div class="bg-gray-800 p-4 rounded-md space-y-2" id="sim6-options">
                                <button class="sim6-option w-full p-3 bg-gray-700 hover:bg-gray-600 rounded text-sm text-left">Makanan sisa kemarin.</button>
                                <button class="sim6-option w-full p-3 bg-gray-700 hover:bg-gray-600 rounded text-sm text-left">Makanan yang sama persis dengan yang biasa Anda makan.</button>
                                <button class="sim6-option w-full p-3 bg-gray-700 hover:bg-gray-600 rounded text-sm text-left">Hidangan terbaik yang Anda mampu sediakan tanpa berutang.</button>
                             </div>
                             <p id="sim6-feedback" class="text-center mt-3 font-bold h-5"></p>
                        </div>
                    </div>
                </div>
                
                <div class="p-6 quiz-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Latihan Formatif Pertemuan 3</h3>
                    <div id="quiz3" class="space-y-6"></div>
                </div>
            </div>

            <!-- =================================================================== -->
            <!-- ==================== KONTEN PERTEMUAN 4 =========================== -->
            <!-- =================================================================== -->
            <div id="pertemuan4" class="tab-pane hidden space-y-8">
                <div class="p-6 bg-akhlak-darker rounded-lg shadow-lg">
                    <h2 class="text-2xl font-bold text-akhlak-accent mb-1">Pertemuan 4: Adab Bertamu & Batasan-Batasannya</h2>
                    <p class="mb-6 text-akhlak-secondary">Mempelajari bagaimana menjadi tamu yang baik agar tidak memberatkan tuan rumah.</p>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-akhlak-accent pl-3">A. Tujuan Pembelajaran</h3>
                        <ul class="list-disc list-inside space-y-2 pl-2">
                           <li>Santri mampu menjelaskan adab meminta izin masuk rumah sesuai QS. An-Nur: 27-28.</li>
                           <li>Santri memahami larangan mengintip ke dalam rumah orang lain.</li>
                           <li>Santri mampu menyebutkan adab-adab saat berada di dalam rumah tuan rumah (menundukkan pandangan, dll).</li>
                           <li>Santri memahami batasan waktu bertamu (tidak lebih dari 3 hari) dan tujuannya.</li>
                           <li>Santri mampu melafalkan doa bagi tuan rumah setelah dijamu.</li>
                        </ul>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-akhlak-accent pl-3">B. Keterkaitan Nilai Islam</h3>
                        <p class="mb-4">Jika tuan rumah punya kewajiban, maka tamu pun punya adab. Adab bertamu dalam Islam bertujuan untuk menjaga kehormatan (<i class="arabic">الحرمة</i>) dan privasi pemilik rumah. Meminta izin sebelum masuk, tidak mengintip, dan menundukkan pandangan adalah cara Islam melindungi aurat dan aib penghuni rumah dari pandangan luar. Selain itu, adab tidak memberatkan tuan rumah menumbuhkan sifat qana'ah (merasa cukup) dan menjaga harga diri (<i class="arabic">المروءة</i>) seorang muslim. Adab-adab ini menciptakan keseimbangan hak dan kewajiban yang indah antara tuan rumah dan tamu.</p>
                        <div class="p-4 bg-gray-900 rounded-lg text-center">
                            <p class="arabic-text">يَا أَيُّهَا الَّذِينَ آمَنُوا لَا تَدْخُلُوا بُيُوتًا غَيْرَ بُيُوتِكُمْ حَتَّىٰ تَسْتَأْنِسُوا وَتُسَلِّمُوا عَلَىٰ أَهْلِهَا</p>
                            <p class="mt-2 text-akhlak-light">"Hai orang-orang yang beriman, janganlah kamu memasuki rumah yang bukan rumahmu sebelum meminta izin dan memberi salam kepada penghuninya."</p>
                            <p class="text-sm text-akhlak-accent mt-1">(QS. An-Nur: 27)</p>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-akhlak-accent pl-3">C. Skenario Pembelajaran (Durasi: 90 Menit)</h3>
                         <div class="space-y-6">
                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">1. Adab Sebelum Masuk Rumah (40 Menit)</h4>
                               <ul class="list-decimal list-inside mt-2 pl-4 space-y-3">
                                   <li><strong>Meminta Izin & Memberi Salam:</strong> Sesuai QS. An-Nur: 27. Ucapkan "Assalamu'alaikum", lalu sebutkan nama jika ditanya "Siapa?".</li>
                                   <li><strong>Maksimal Tiga Kali:</strong> Meminta izin cukup tiga kali. Jika tidak ada jawaban, maka hendaknya pulang. "Jika kamu tidak mendapati seorangpun di dalamnya, maka janganlah kamu masuk sebelum kamu mendapat izin." (QS. An-Nur: 28).</li>
                                   <li><strong>Jangan di Depan Pintu:</strong> Berdirilah di samping kanan atau kiri pintu, jangan persis di depannya, agar tidak langsung melihat isi rumah ketika pintu dibuka.</li>
                                   <li><strong>Larangan Mengintip:</strong> Nabi ﷺ bersabda, "Seandainya ada orang mengintipmu tanpa izin, lalu engkau melemparnya dengan batu kecil hingga matanya buta, maka tidak ada dosa bagimu." (HR. Bukhari). Ini menunjukkan betapa kerasnya larangan tersebut.</li>
                               </ul>
                            </div>
                            
                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">2. Adab di Dalam Rumah & Saat Pulang (50 Menit)</h4>
                               <ul class="list-disc list-inside mt-2 pl-4 space-y-3">
                                   <li><strong>Menundukkan Pandangan:</strong> Tidak "jelalatan" melihat seisi rumah tuan rumah.</li>
                                   <li><strong>Duduk di Tempat yang Dipersilakan:</strong> Jangan memilih tempat duduk sendiri, karena tuan rumah lebih tahu mana area privat di rumahnya.</li>
                                   <li><strong>Tidak Memberatkan:</strong> Jangan tinggal terlalu lama hingga membuat tuan rumah tidak nyaman atau kehabisan jamuan. Batas bertamu (menginap) adalah 3 hari.</li>
                                   <li><strong>Mendoakan Tuan Rumah:</strong> Setelah selesai makan, disunnahkan mendoakan tuan rumah, contoh doanya: <br><i class="arabic text-xl">اللَّهُمَّ بَارِكْ لَهُمْ فِيمَا رَزَقْتَهُمْ، وَاغْفِرْ لَهُمْ، وَارْحَمْهُمْ</i><br> (Ya Allah, berkahilah rezeki yang Engkau berikan kepada mereka, ampunilah mereka, dan rahmatilah mereka).</li>
                               </ul>
                               <div class="teacher-note">
                                   <p class="font-bold">Poin Diskusi Guru:</p>
                                   <p>Diskusikan konteks modern: "Bagaimana menerapkan adab meminta izin di zaman sekarang? Misalnya via telepon, WhatsApp, atau bel rumah. Apakah sama hukumnya?" Bimbing diskusi bahwa intinya adalah memberi tahu dan mendapat izin, apapun medianya. Bel tetap dihitung sebagai satu kali izin.</p>
                               </div>
                            </div>
                         </div>
                    </div>
                </div>

                <div class="p-6 simulation-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Simulasi Interaktif</h3>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h4 class="font-semibold text-akhlak-accent mb-2">Simulasi 1: Uji Adab Meminta Izin</h4>
                            <p class="text-sm mb-4">Anda ingin bertamu. Anda sudah mengetuk pintu/mengucap salam 3 kali tapi tidak ada jawaban. Apa tindakan yang benar?</p>
                             <div class="bg-gray-800 p-4 rounded-md space-y-2" id="sim7-options">
                                <button class="sim7-option w-full p-3 bg-gray-700 hover:bg-gray-600 rounded text-sm text-left">Mencoba mengintip dari jendela.</button>
                                <button class="sim7-option w-full p-3 bg-gray-700 hover:bg-gray-600 rounded text-sm text-left">Langsung membuka pintu karena mungkin tidak terdengar.</button>
                                <button class="sim7-option w-full p-3 bg-gray-700 hover:bg-gray-600 rounded text-sm text-left">Segera pergi (pulang) dan mencoba di lain waktu.</button>
                                <button class="sim7-option w-full p-3 bg-gray-700 hover:bg-gray-600 rounded text-sm text-left">Mengetuk untuk keempat kalinya dengan lebih keras.</button>
                             </div>
                             <p id="sim7-feedback" class="text-center mt-3 font-bold h-5"></p>
                        </div>
                        
                        <div>
                             <h4 class="font-semibold text-akhlak-accent mb-2">Simulasi 2: Doa Untuk Tuan Rumah</h4>
                            <p class="text-sm mb-4">Anda baru saja selesai dijamu makan. Pilih doa yang tepat untuk diucapkan kepada tuan rumah.</p>
                             <div class="bg-gray-800 p-4 rounded-md space-y-2" id="sim8-options">
                                <button class="sim8-option w-full p-2 bg-gray-700 hover:bg-gray-600 rounded text-center arabic text-sm">بَارَكَ اللهُ لَكَ</button>
                                <button class="sim8-option w-full p-2 bg-gray-700 hover:bg-gray-600 rounded text-center arabic text-sm">اللَّهُمَّ بَارِكْ لَهُمْ فِيمَا رَزَقْتَهُمْ...</button>
                                <button class="sim8-option w-full p-2 bg-gray-700 hover:bg-gray-600 rounded text-center arabic text-sm">جَزَاكَ اللهُ خَيْرًا</button>
                             </div>
                             <p id="sim8-feedback" class="text-center mt-3 font-bold h-5"></p>
                        </div>
                    </div>
                </div>
                
                <div class="p-6 quiz-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Latihan Formatif Pertemuan 4</h3>
                    <div id="quiz4" class="space-y-6"></div>
                </div>
            </div>
            
            <!-- =================================================================== -->
            <!-- ======================= KONTEN TES SUMATIF ======================== -->
            <!-- =================================================================== -->
            <div id="tesSumatif" class="tab-pane hidden space-y-6">
                <div class="p-6 bg-red-900/30 border border-red-500 rounded-lg shadow-lg">
                    <h2 class="text-2xl font-bold text-red-300 mb-2">Tes Sumatif: AKH-104</h2>
                    <p class="mb-6 text-red-200">Ujian akhir untuk mengukur pemahaman Anda tentang Adab Bertetangga & Menerima Tamu. Bismillah!</p>
                    
                    <div id="sumatif-questions-container"></div>
                    
                    <div id="sumatif-result-container" class="hidden text-center p-6 bg-akhlak-darker rounded-lg">
                        <h3 class="text-2xl font-bold text-white">Hasil Tes Sumatif</h3>
                        <p id="sumatif-score" class="text-4xl font-bold text-akhlak-accent my-4"></p>
                        <p id="sumatif-feedback" class="text-lg mb-6"></p>
                        <button id="sumatif-retry-btn" class="py-2 px-6 bg-akhlak-accent text-white font-semibold rounded-lg hover:bg-akhlak-accent-hover transition-colors">Ulangi Tes</button>
                    </div>

                    <button id="sumatif-submit-btn" class="w-full mt-6 py-3 bg-akhlak-accent text-white font-bold rounded-lg text-lg hover:bg-akhlak-accent-hover transition-colors">Selesaikan Tes</button>
                </div>
            </div>
        </main>
    </div>

<script>
// THIS SCRIPT BLOCK IS MANDATORY AND MUST BE COMPLETE
document.addEventListener('DOMContentLoaded', function() {
    
    // ================== DATA BANK ==================
    const quizData = {
        quiz1: [
            { q: "Menurut hadits, Malaikat Jibril sangat sering berwasiat tentang tetangga sampai-sampai Nabi ﷺ mengira bahwa tetangga akan...", options: ["Menjadi nabi", "Mendapat bagian warisan", "Wajib dinafkahi", "Menjadi musuh"], a: 1, exp: "Benar. Ini menunjukkan betapa agungnya kedudukan tetangga dalam Islam." },
            { q: "Seorang tetangga yang non-muslim memiliki berapa hak dari kita?", options: ["Tidak ada hak sama sekali", "Satu hak (hak tetangga)", "Dua hak (hak tetangga & hak Islam)", "Tiga hak"], a: 1, exp: "Benar. Ia tetap memiliki hak sebagai tetangga yang wajib kita tunaikan." },
            { q: "Hadits 'Demi Allah tidak beriman...' ditujukan kepada orang yang...", options: ["Tidak pernah shalat", "Tidak pernah puasa", "Tetangganya tidak merasa aman dari gangguannya", "Tidak pernah haji"], a: 2, exp: "Benar. Ini menunjukkan bahwa mengganggu tetangga adalah dosa besar yang merusak kesempurnaan iman." },
            { q: "Batasan tetangga menurut sebagian ulama adalah...", options: ["Satu kompleks perumahan", "Satu RT", "40 rumah ke segala arah", "Hanya rumah di sebelah kiri dan kanan"], a: 2, exp: "Benar. Ini menunjukkan cakupan bertetangga yang sangat luas." },
            { q: "Tetangga muslim yang juga merupakan kerabat (paman, sepupu) memiliki berapa hak?", options: ["Satu hak", "Dua hak", "Tiga hak", "Empat hak"], a: 2, exp: "Benar. Ia memiliki hak tetangga, hak Islam, dan hak kekerabatan." },
            { q: "Dalam QS. An-Nisa: 36, perintah berbuat baik kepada tetangga disebutkan setelah perintah untuk...", options: ["Berperang", "Berpuasa", "Menyembah Allah, tidak syirik, dan berbakti pada orang tua", "Mencari rezeki"], a: 2, exp: "Benar. Urutan ini menunjukkan tingginya prioritas berbuat baik kepada tetangga." },
            { q: "Manakah dari perbuatan berikut yang termasuk mengganggu tetangga?", options: ["Memberinya hadiah", "Menjenguknya saat sakit", "Menyetel musik dengan volume sangat keras di malam hari", "Menyapanya saat bertemu"], a: 2, exp: "Benar. Membuat kegaduhan adalah salah satu bentuk gangguan yang paling umum." },
            { q: "Berbuat baik kepada tetangga adalah tanda dari...", options: ["Kekayaan seseorang", "Kekuatan fisik seseorang", "Kesempurnaan iman seseorang", "Kecerdasan seseorang"], a: 2, exp: "Benar. Sesuai hadits, 'Barangsiapa beriman kepada Allah dan hari akhir, maka muliakanlah tetangganya'." },
            { q: "Hak tetangga non-muslim yang harus kita penuhi adalah...", options: ["Mengajaknya ikut shalat Ied", "Memaksa anaknya masuk TPA", "Tidak mengganggunya dan membantunya jika butuh pertolongan", "Menjauhinya"], a: 2, exp: "Benar. Hak tetangga bersifat umum, mencakup perlakuan yang baik dan tidak mengganggu, terlepas dari agamanya." },
            { q: "Menafikan iman dalam hadits tentang mengganggu tetangga maksudnya adalah...", options: ["Menafikan iman secara total (kafir)", "Menafikan kesempurnaan iman yang wajib", "Hanya teguran ringan", "Ancaman yang tidak nyata"], a: 1, exp: "Benar. Perbuatan tersebut adalah dosa besar namun tidak sampai mengeluarkan dari Islam, tetapi mengurangi iman secara drastis." }
        ],
        quiz2: [
            { q: "Rasulullah ﷺ bersabda kepada Abu Dzarr, 'Jika engkau memasak sayur, maka perbanyaklah ... dan berilah tetanggamu.'", options: ["Garamnya", "Dagingnya", "Kuahnya", "Bumbunya"], a: 2, exp: "Benar. Ini mengajarkan bahwa berbagi tidak harus menunggu memiliki sesuatu yang banyak atau mewah." },
            { q: "Hadits 'Janganlah seorang tetangga meremehkan (pemberian) tetangganya meskipun hanya berupa...' menunjukkan bahwa...", options: ["Ujung kaki kambing", "Sebuah kurma", "Segelas air", "Sepotong roti"], a: 0, exp: "Benar. Hadits ini mendorong kita untuk mudah memberi dan mudah menghargai pemberian sekecil apapun." },
            { q: "Menurut hadits, tetangga yang paling berhak kita dahulukan untuk diberi hadiah adalah...", options: ["Yang paling kaya", "Yang paling jauh rumahnya", "Yang paling dekat pintunya dengan kita", "Yang paling sering memberi kita hadiah"], a: 2, exp: "Benar. Ketika Aisyah bertanya, Nabi ﷺ menjawab, 'Yang pintunya paling dekat denganmu'." },
            { q: "Manakah yang BUKAN termasuk bentuk ihsan kepada tetangga?", options: ["Menjenguknya saat sakit", "Menjaga aib dan rahasianya", "Membantunya saat ia dalam kesulitan", "Mencari-cari kesalahannya (tajassus)"], a: 3, exp: "Benar. Tajassus atau memata-matai adalah perbuatan yang diharamkan dalam Islam." },
            { q: "Tujuan utama dari berbagi makanan dengan tetangga adalah...", options: ["Agar dipuji sebagai orang dermawan", "Memamerkan masakan kita", "Menumbuhkan rasa cinta dan mempererat hubungan", "Agar makanan kita tidak mubazir"], a: 2, exp: "Benar. Hadiah, sekecil apapun, dapat melembutkan hati dan menghilangkan permusuhan." },
            { q: "Jika kita melihat aib atau kekurangan pada keluarga tetangga kita, sikap yang benar adalah...", options: ["Menyebarkannya ke tetangga lain", "Menutupinya dan menjaganya sebagai rahasia", "Menegurnya di depan umum", "Membuat status di media sosial"], a: 1, exp: "Benar. Menjaga aib seorang muslim adalah akhlak yang sangat mulia." },
            { q: "Minimal level berbuat baik kepada tetangga adalah...", options: ["Memberinya uang setiap bulan", "Menahan diri dari mengganggunya (kafful adza)", "Mengajaknya berlibur", "Memasakkan makanan untuknya setiap hari"], a: 1, exp: "Benar. Jika belum bisa proaktif berbuat baik, maka paling tidak jangan sampai mengganggu." },
            { q: "Ketika tetangga kita mendapat nikmat, seperti kelahiran anak, sikap kita adalah...", options: ["Merasa iri dan dengki", "Tidak peduli", "Turut bergembira dan mengucapkan selamat", "Meminta traktiran"], a: 2, exp: "Benar. Turut merasakan kebahagiaan tetangga adalah bagian dari akhlak yang baik." },
            { q: "Hukum meninggikan bangunan hingga menghalangi sirkulasi udara atau cahaya matahari tetangga tanpa izinnya adalah...", options: ["Dianjurkan", "Mubah", "Terlarang/Tidak Boleh", "Sunnah"], a: 2, exp: "Benar. Ini termasuk dalam kategori mengganggu tetangga yang harus dihindari." },
            { q: "Perbuatan ihsan kepada tetangga akan mendatangkan...", options: ["Kefakiran", "Kerugian", "Keberkahan dan cinta dari Allah", "Permusuhan"], a: 2, exp: "Benar. Berbuat baik kepada makhluk adalah salah satu cara terbaik untuk meraih cinta dari Sang Khaliq." }
        ],
        quiz3: [
            { q: "Hadits 'Barangsiapa yang beriman kepada Allah dan hari akhir, maka hendaklah ia...' adalah dalil utama tentang adab ini.", options: ["memuliakan tamunya", "menghormati orang tuanya", "menyayangi anaknya", "memperbanyak shalat"], a: 0, exp: "Benar. Hadits ini secara langsung mengaitkan iman dengan perbuatan memuliakan tamu." },
            { q: "Nabi yang mendapat julukan 'Abud Dhuyuf' (Bapak Para Tamu) karena kedermawanannya dalam menjamu tamu adalah...", options: ["Nabi Musa", "Nabi Isa", "Nabi Ibrahim", "Nabi Adam"], a: 2, exp: "Benar. Kisah Nabi Ibrahim menjamu tamunya (malaikat) diabadikan dalam Al-Qur'an." },
            { q: "Hak wajib seorang tamu untuk dijamu dengan jamuan istimewa adalah selama...", options: ["Tiga hari tiga malam", "Satu pekan", "Satu hari satu malam", "Selama tamu mau"], a: 2, exp: "Benar. Hari pertama adalah hak istimewanya (ja'izah)." },
            { q: "Jamuan untuk tamu selama tiga hari. Adapun jamuan setelah hari ketiga dianggap sebagai...", options: ["Utang", "Kewajiban", "Sedekah", "Riba"], a: 2, exp: "Benar. Setelah tiga hari, jamuan tersebut bernilai sedekah bagi tuan rumah." },
            { q: "Manakah adab yang TIDAK tepat saat menerima tamu?", options: ["Menyambut dengan wajah berseri", "Menyegerakan hidangan", "Menyajikan makanan sisa yang sudah tidak layak", "Mengantar tamu sampai ke pintu saat pulang"], a: 2, exp: "Benar. Kita dianjurkan menyajikan hidangan terbaik yang kita mampu." },
            { q: "Kisah Nabi Ibrahim menunjukkan bahwa adab yang baik adalah ... dalam menyajikan hidangan.", options: ["Menunda-nunda", "Bertanya dulu tamunya mau apa", "Menyegerakan", "Memberi uang saja"], a: 2, exp: "Benar. Beliau segera pergi ke keluarganya dan datang dengan daging anak sapi yang gemuk tanpa banyak bicara." },
            { q: "Memuliakan tamu hukumnya adalah...", options: ["Mubah", "Sunnah Mu'akkadah (sangat dianjurkan), bahkan sebagian ulama mewajibkannya", "Makruh", "Haram"], a: 1, exp: "Benar. Karena perintahnya sangat tegas dan dikaitkan dengan keimanan." },
            { q: "Manfaat dari memuliakan tamu adalah...", options: ["Rumah menjadi kotor", "Menghabiskan harta", "Mendatangkan keberkahan dan rezeki", "Membuat lelah"], a: 2, exp: "Benar. Nabi ﷺ bersabda, 'Tamu datang membawa rezekinya dan pergi membawa ampunan bagi penghuni rumah'." },
            { q: "Apa yang dimaksud 'tidak memberatkan diri' dalam menjamu tamu?", options: ["Tidak perlu menjamu sama sekali", "Memberi jamuan seadanya dengan hati terpaksa", "Menjamu sesuai kemampuan terbaik tanpa harus berutang atau memaksa diri", "Menyuruh tamu memasak sendiri"], a: 2, exp: "Benar. Islam adalah agama yang mudah dan tidak menyusahkan." },
            { q: "Salah satu adab tuan rumah saat tamu sedang makan adalah...", options: ["Meninggalkannya sendirian", "Menemaninya makan dan berbincang ringan", "Menonton TV", "Sibuk dengan ponsel"], a: 1, exp: "Benar. Ini membuat tamu merasa lebih nyaman dan tidak canggung." }
        ],
        quiz4: [
            { q: "Sesuai QS. An-Nur: 27, sebelum memasuki rumah orang lain, kita wajib...", options: ["Mengintip dari jendela", "Meminta izin dan memberi salam", "Langsung masuk saja", "Mengetuk pintu sekencang-kencangnya"], a: 1, exp: "Benar. '...hattaa tasta'nisuu wa tusallimuu 'alaa ahlihaa'." },
            { q: "Berapa kali batas maksimal kita meminta izin untuk bertamu?", options: ["Satu kali", "Dua kali", "Tiga kali", "Sebanyak-banyaknya sampai dibukakan"], a: 2, exp: "Benar. Jika setelah tiga kali tidak ada jawaban, adabnya adalah pulang." },
            { q: "Hukuman bagi orang yang mengintip ke dalam rumah orang lain tanpa izin sangat keras, menunjukkan bahwa perbuatan itu...", options: ["Dosa yang sangat besar", "Diperbolehkan", "Hanya kurang sopan", "Tergantung niatnya"], a: 0, exp: "Benar. Karena perbuatan itu melanggar privasi dan kehormatan penghuni rumah." },
            { q: "Posisi berdiri yang benar saat menunggu di depan pintu adalah...", options: ["Persis di depan lubang kunci", "Di samping kanan atau kiri pintu", "Bersembunyi di balik pot", "Duduk di tangga"], a: 1, exp: "Benar. Tujuannya agar pandangan tidak langsung menerobos ke dalam rumah saat pintu dibuka." },
            { q: "Seorang tamu tidak boleh menginap di rumah tuan rumah (yang bukan kerabatnya) lebih dari...", options: ["Satu hari", "Tiga hari", "Satu pekan", "Satu bulan"], a: 1, exp: "Benar. Agar tidak memberatkan dan menyusahkan tuan rumah." },
            { q: "Doa yang disunnahkan untuk dibaca oleh tamu setelah dijamu makan oleh tuan rumah berisi permohonan...", options: ["Agar rezeki tuan rumah ditambah", "Agar dosa tuan rumah diampuni", "Agar tuan rumah dirahmati", "Semua jawaban benar"], a: 3, exp: "Benar. Doanya lengkap: 'Allahumma baarik lahum fiimaa razaqtahum, waghfir lahum, warhamhum'." },
            { q: "Jika tuan rumah mempersilakan kita duduk di ruang tamu, maka adab kita adalah...", options: ["Duduk di tempat yang telah disediakan", "Pindah ke ruang tengah agar lebih leluasa", "Meminta duduk di dapur", "Berjalan-jalan melihat kamar-kamar"], a: 0, exp: "Benar. Tuan rumah lebih tahu batasan aurat dan privasi di rumahnya." },
            { q: "Jika kita bertamu lalu tuan rumah berkata, 'Silakan pulang', maka sikap kita adalah...", options: ["Marah dan tersinggung", "Segera pulang tanpa berdebat", "Tetap tinggal karena merasa belum puas", "Mengadukannya ke tetangga lain"], a: 1, exp: "Benar. Sesuai firman Allah, '...dan jika dikatakan kepadamu: 'Kembali (saja)lah,' maka hendaklah kamu kembali.' (QS. An-Nur: 28)." },
            { q: "Tujuan utama dari adab bertamu adalah...", options: ["Agar bisa makan gratis", "Menjaga kehormatan dan privasi tuan rumah, serta tidak memberatkannya", "Menunjukkan status sosial kita", "Mencari-cari informasi tentang tuan rumah"], a: 1, exp: "Benar. Adab-adab ini menciptakan hubungan yang sehat dan saling menghormati." },
            { q: "Jika saat bertamu kita ditanya 'Siapa?' dari dalam rumah, jawaban yang paling tepat sesuai sunnah adalah...", options: ["'Saya'", "'Buka saja pintunya'", "Menyebutkan nama dengan jelas, misal: 'Abdullah'", "Diam saja"], a: 2, exp: "Benar. Nabi ﷺ tidak menyukai jawaban 'Ana' (Saya) karena tidak jelas." }
        ]
    };

    const sumatifData = [
        ...quizData.quiz1.slice(0, 5), ...quizData.quiz2.slice(0, 5),
        ...quizData.quiz3.slice(0, 5), ...quizData.quiz4.slice(0, 5)
    ].sort(() => Math.random() - 0.5);

    // ================== CORE FUNCTIONS ==================
    const tabs = document.querySelectorAll('.tab-btn');
    const panes = document.querySelectorAll('.tab-pane');
    tabs.forEach(tab => {
        tab.addEventListener('click', () => {
            tabs.forEach(t => t.classList.remove('active'));
            panes.forEach(p => p.classList.add('hidden'));
            tab.classList.add('active');
            document.getElementById(tab.dataset.tab).classList.remove('hidden');
        });
    });

    function createQuiz(quizId, data) {
        const container = document.getElementById(quizId);
        if (!container) return;
        container.innerHTML = '';
        data.forEach((item, index) => {
            const questionBlock = document.createElement('div');
            questionBlock.innerHTML = `
                <p class="mb-3">${index + 1}. ${item.q}</p>
                <div class="space-y-2 options-container">
                    ${item.options.map((option, i) => `
                        <label class="block p-3 bg-gray-800/50 rounded-lg cursor-pointer hover:bg-gray-700/50 transition-colors">
                            <input type="radio" name="${quizId}-q${index}" value="${i}" class="sr-only">
                            <span>${option}</span>
                        </label>
                    `).join('')}
                </div>
                <div class="p-3 mt-3 rounded-lg text-sm hidden feedback-box"></div>
            `;
            container.appendChild(questionBlock);

            const optionsContainer = questionBlock.querySelector('.options-container');
            const feedbackBox = questionBlock.querySelector('.feedback-box');
            optionsContainer.addEventListener('change', (e) => {
                const selectedValue = parseInt(e.target.value);
                const isCorrect = selectedValue === item.a;
                
                optionsContainer.querySelectorAll('label').forEach((label, i) => {
                    const radio = label.querySelector('input');
                    radio.disabled = true;
                    if (i === item.a) {
                        label.classList.add('bg-correct', 'text-white', 'font-bold');
                    }
                });

                if (!isCorrect) {
                     e.target.parentElement.classList.add('bg-incorrect', 'text-white', 'font-bold');
                }
                
                feedbackBox.innerHTML = item.exp;
                feedbackBox.classList.remove('hidden');
                feedbackBox.classList.add(isCorrect ? 'bg-green-500/20' : 'bg-red-500/20');
            });
        });
    }

    function createSumatifTest() {
        const container = document.getElementById('sumatif-questions-container');
        if (!container) return;
        container.innerHTML = '';
        sumatifData.forEach((item, index) => {
            const questionBlock = document.createElement('div');
            questionBlock.className = 'mb-6 p-4 bg-akhlak-dark rounded-lg';
            questionBlock.innerHTML = `
                <p class="mb-3">${index + 1}. ${item.q}</p>
                <div class="space-y-2">
                     ${item.options.map((option, i) => `
                        <label class="block p-3 bg-gray-800/50 rounded-lg cursor-pointer hover:bg-gray-700/50 transition-colors">
                            <input type="radio" name="sumatif-q${index}" value="${i}" data-correct="${item.a}" class="sr-only">
                            <span>${option}</span>
                        </label>
                    `).join('')}
                </div>
            `;
            container.appendChild(questionBlock);
        });
    }
    
    // ================== SIMULATION LOGIC ==================
    // General Drag & Drop for Classification
    function initDragDrop(sourceId, targetClass) {
        const source = document.getElementById(sourceId);
        if (!source) return;
        const draggables = source.querySelectorAll('.draggable');
        const dropZones = document.querySelectorAll(`.${targetClass}`);
        let draggedItem = null;

        draggables.forEach(draggable => {
            draggable.addEventListener('dragstart', () => {
                draggedItem = draggable;
                setTimeout(() => draggable.style.display = 'none', 0);
            });
            draggable.addEventListener('dragend', () => {
                setTimeout(() => {
                    if (draggedItem) {
                       draggedItem.style.display = 'block';
                       draggedItem = null;
                    }
                }, 0);
            });
        });

        dropZones.forEach(zone => {
            zone.addEventListener('dragover', e => {
                e.preventDefault();
                zone.classList.add('drag-over');
            });
            zone.addEventListener('dragleave', () => zone.classList.remove('drag-over'));
            zone.addEventListener('drop', e => {
                e.preventDefault();
                zone.classList.remove('drag-over');
                if (draggedItem && draggedItem.dataset.type === zone.dataset.target) {
                    zone.appendChild(draggedItem);
                }
            });
        });
    }
    initDragDrop('sim1-source', 'drop-zone');

    // Sim 2: Ceklis Iman
    document.querySelectorAll('.sim2-cek').forEach(btn => {
        btn.addEventListener('click', () => {
            const isAman = btn.dataset.aman === 'true';
            btn.classList.add(isAman ? 'bg-correct' : 'bg-incorrect', 'text-white', 'font-bold');
            btn.style.pointerEvents = 'none';
        });
    });
    
    // Sim 3: Prioritas Berbagi
    document.querySelectorAll('.sim3-option').forEach(btn => {
        btn.addEventListener('click', () => {
            const feedback = document.getElementById('sim3-feedback');
            document.querySelectorAll('.sim3-option').forEach(b => b.disabled = true);
            if (btn.textContent.includes("paling dekat pintunya")) {
                btn.classList.add('bg-correct', 'text-white');
                feedback.textContent = "Benar! Ini sesuai sunnah.";
                feedback.className = "text-center mt-3 font-bold h-5 text-correct";
            } else {
                btn.classList.add('bg-incorrect', 'text-white');
                feedback.textContent = "Kurang Tepat.";
                feedback.className = "text-center mt-3 font-bold h-5 text-incorrect";
            }
        });
    });

    // Sim 4: Skenario Bertetangga
    document.getElementById('sim4-container')?.addEventListener('change', e => {
        if (e.target.type === 'checkbox') {
            const label = e.target.parentElement;
            const isChecked = e.target.checked;
            
            // Uncheck others if two are already checked
            const checkedBoxes = document.querySelectorAll('#sim4-container input:checked');
            if (checkedBoxes.length > 2) {
                e.target.checked = false;
                return;
            }

            if (isChecked) {
                label.classList.add('bg-akhlak-accent', 'text-akhlak-darker', 'font-bold');
            } else {
                label.classList.remove('bg-akhlak-accent', 'text-akhlak-darker', 'font-bold');
            }
        }
    });

    // General Sequence Checker
    function initSequenceChecker(sourceId, targetId, checkBtnId, feedbackId) {
        const target = document.getElementById(targetId);
        const source = document.getElementById(sourceId);
        const checkBtn = document.getElementById(checkBtnId);
        const feedback = document.getElementById(feedbackId);

        let draggedItem = null;
        const setupDrag = (container) => {
            container.addEventListener('dragstart', e => { if (e.target.classList.contains('draggable')) draggedItem = e.target; });
            container.addEventListener('dragover', e => e.preventDefault());
            container.addEventListener('drop', e => { if (draggedItem) container.appendChild(draggedItem); });
        };
        setupDrag(target);
        setupDrag(source);
        document.body.addEventListener('dragend', () => { draggedItem = null; });
        
        checkBtn.addEventListener('click', () => {
            const items = Array.from(target.children);
            const isCorrect = items.every((item, i) => parseInt(item.dataset.order) === i + 1);
            
            if (isCorrect && items.length === 5) { // Ensure all 5 items are in place
                feedback.textContent = "Urutan Sempurna! Anda tuan rumah yang baik.";
                feedback.className = "text-center mt-2 font-bold h-5 text-correct";
            } else {
                feedback.textContent = "Urutan belum tepat. Coba lagi.";
                feedback.className = "text-center mt-2 font-bold h-5 text-incorrect";
            }
        });
    }
    initSequenceChecker('sim5-source', 'sim5-target', 'sim5-check', 'sim5-feedback');

    // Sim 6: Uji Kedermawanan
    document.querySelectorAll('.sim6-option').forEach(btn => {
        btn.addEventListener('click', () => {
            const feedback = document.getElementById('sim6-feedback');
            document.querySelectorAll('.sim6-option').forEach(b => b.disabled = true);
            if (btn.textContent.includes("terbaik yang Anda mampu")) {
                btn.classList.add('bg-correct', 'text-white');
                feedback.textContent = "Benar! Inilah hak tamu di hari pertama.";
                feedback.className = "text-center mt-3 font-bold h-5 text-correct";
            } else {
                btn.classList.add('bg-incorrect', 'text-white');
                feedback.textContent = "Kurang Tepat.";
                feedback.className = "text-center mt-3 font-bold h-5 text-incorrect";
            }
        });
    });

    // Sim 7: Uji Adab Meminta Izin
    document.querySelectorAll('.sim7-option').forEach(btn => {
        btn.addEventListener('click', () => {
            const feedback = document.getElementById('sim7-feedback');
            document.querySelectorAll('.sim7-option').forEach(b => b.disabled = true);
            if (btn.textContent.includes("Segera pergi (pulang)")) {
                btn.classList.add('bg-correct', 'text-white');
                feedback.textContent = "Adab yang benar! Itu lebih suci bagimu.";
                feedback.className = "text-center mt-3 font-bold h-5 text-correct";
            } else {
                btn.classList.add('bg-incorrect', 'text-white');
                feedback.textContent = "Tidak Sesuai Sunnah.";
                feedback.className = "text-center mt-3 font-bold h-5 text-incorrect";
            }
        });
    });

    // Sim 8: Doa Untuk Tuan Rumah
    document.querySelectorAll('.sim8-option').forEach(btn => {
        btn.addEventListener('click', () => {
            const feedback = document.getElementById('sim8-feedback');
            document.querySelectorAll('.sim8-option').forEach(b => b.disabled = true);
            if (btn.textContent.includes("اللَّهُمَّ بَارِكْ")) {
                btn.classList.add('bg-correct', 'text-white');
                feedback.textContent = "Benar! Ini doa yang ma'tsur.";
                feedback.className = "text-center mt-3 font-bold h-5 text-correct";
            } else {
                btn.classList.add('bg-incorrect', 'text-white');
                feedback.textContent = "Kurang Tepat. Itu doa umum.";
                feedback.className = "text-center mt-3 font-bold h-5 text-incorrect";
            }
        });
    });

    // ================== INITIALIZATION ==================
    createQuiz('quiz1', quizData.quiz1);
    createQuiz('quiz2', quizData.quiz2);
    createQuiz('quiz3', quizData.quiz3);
    createQuiz('quiz4', quizData.quiz4);
    createSumatifTest();
    
    const sumatifSubmitBtn = document.getElementById('sumatif-submit-btn');
    const sumatifRetryBtn = document.getElementById('sumatif-retry-btn');
    
    if (sumatifSubmitBtn) {
        sumatifSubmitBtn.addEventListener('click', () => {
            let score = 0;
            const total = sumatifData.length;
            const answers = document.querySelectorAll('#sumatif-questions-container input[type="radio"]:checked');
            answers.forEach(radio => {
                if (parseInt(radio.value) === parseInt(radio.dataset.correct)) { 
                    score++; 
                }
            });

            const percentage = (score / total) * 100;
            let feedbackText = '';
            if (percentage >= 85) feedbackText = "Mumtaz! Akhlak Anda insya Allah mulia. Barakallahu fiik.";
            else if (percentage >= 70) feedbackText = "Jayyid Jiddan. Hasil yang bagus, terus amalkan!";
            else if (percentage >= 50) feedbackText = "Jayyid. Cukup baik, muraja'ah lagi adab-adab yang terlupa.";
            else feedbackText = "Perlu belajar lebih giat lagi. Akhlak mulia butuh ilmu dan latihan.";
            document.getElementById('sumatif-score').textContent = `${score} / ${total}`;
            document.getElementById('sumatif-feedback').textContent = feedbackText;
            document.getElementById('sumatif-questions-container').classList.add('hidden');
            sumatifSubmitBtn.classList.add('hidden');
            document.getElementById('sumatif-result-container').classList.remove('hidden');
        });
    }

    if (sumatifRetryBtn) {
        sumatifRetryBtn.addEventListener('click', () => {
            document.getElementById('sumatif-result-container').classList.add('hidden');
            document.getElementById('sumatif-questions-container').classList.remove('hidden');
            sumatifSubmitBtn.classList.remove('hidden');
            createSumatifTest();
        });
    }
});
</script>
</body>
</html>
