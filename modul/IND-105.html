<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IND-105: Menulis Surat Sederhana (8 Sesi)</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- MathJax for LaTeX -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/dist/babel.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Amiri:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Inter', sans-serif; scroll-behavior: smooth; }
        .arabic { font-family: 'Amiri', serif; font-size: 1.4rem; line-height: 2.8rem; text-align: right; }
        .tab-active { border-bottom: 4px solid #065f46; color: #065f46; font-weight: bold; background-color: #f0fdf4; }
        .teacher-note { border-left: 5px solid #f59e0b; background-color: #fffbeb; padding: 1.25rem; margin: 1.5rem 0; border-radius: 0 0.5rem 0.5rem 0; }
        .simulation-card { background: #f8fafc; border: 2px dashed #cbd5e1; border-radius: 0.75rem; padding: 1.5rem; margin-bottom: 1.5rem; transition: all 0.3s ease; }
        .simulation-card:hover { border-color: #64748b; background: #f1f5f9; }
        .tab-content { animation: fadeIn 0.4s ease-in-out; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body class="bg-slate-50 text-slate-900">

    <!-- Header Section -->
    <header class="bg-emerald-900 text-white py-12 px-4 shadow-2xl relative overflow-hidden">
        <div class="absolute top-0 right-0 p-8 opacity-10">
            <svg width="200" height="200" viewBox="0 0 24 24" fill="currentColor"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z"/></svg>
        </div>
        <div class="max-w-6xl mx-auto text-center relative z-10">
            <h1 class="text-4xl md:text-5xl font-extrabold mb-4">IND-105: Menulis Surat Sederhana</h1>
            <p class="text-xl text-emerald-200 max-w-2xl mx-auto italic">"Seni Merangkai Kata, Menjaga Adab, dan Menguatkan Ukhuwah dalam 8 Pertemuan Intensif"</p>
        </div>
    </header>

    <!-- Navigation Tabs -->
    <nav class="bg-white sticky top-0 z-50 border-b shadow-md overflow-x-auto">
        <div class="max-w-7xl mx-auto flex">
            <button onclick="switchTab('p1')" id="tab-p1" class="flex-1 min-w-[100px] px-4 py-4 transition-all tab-active border-r">P-1</button>
            <button onclick="switchTab('p2')" id="tab-p2" class="flex-1 min-w-[100px] px-4 py-4 transition-all border-r">P-2</button>
            <button onclick="switchTab('p3')" id="tab-p3" class="flex-1 min-w-[100px] px-4 py-4 transition-all border-r">P-3</button>
            <button onclick="switchTab('p4')" id="tab-p4" class="flex-1 min-w-[100px] px-4 py-4 transition-all border-r">P-4</button>
            <button onclick="switchTab('p5')" id="tab-p5" class="flex-1 min-w-[100px] px-4 py-4 transition-all border-r">P-5</button>
            <button onclick="switchTab('p6')" id="tab-p6" class="flex-1 min-w-[100px] px-4 py-4 transition-all border-r">P-6</button>
            <button onclick="switchTab('p7')" id="tab-p7" class="flex-1 min-w-[100px] px-4 py-4 transition-all border-r">P-7</button>
            <button onclick="switchTab('p8')" id="tab-p8" class="flex-1 min-w-[100px] px-4 py-4 transition-all border-r">P-8</button>
            <button onclick="switchTab('sumatif')" id="tab-sumatif" class="flex-1 min-w-[120px] px-4 py-4 transition-all bg-emerald-50 font-bold text-emerald-800">SUMATIF</button>
        </div>
    </nav>

    <main class="max-w-6xl mx-auto p-4 md:p-10">
        
        <!-- PERTEMUAN 1 -->
        <section id="content-p1" class="tab-content">
            <div class="bg-white rounded-2xl shadow-xl p-8 mb-10 border-t-8 border-emerald-600">
                <h2 class="text-3xl font-bold text-emerald-900 mb-6 underline decoration-emerald-200">Pertemuan 1: Hakikat Surat & Silaturahmi</h2>
                <div class="space-y-8">
                    <div>
                        <h3 class="text-xl font-bold text-emerald-800 border-b-2 border-emerald-100 pb-2 mb-4">A. Tujuan Pembelajaran</h3>
                        <ul class="grid grid-cols-1 md:grid-cols-2 gap-3 text-slate-700">
                            <li class="flex items-start gap-2"><span class="bg-emerald-100 text-emerald-700 rounded-full h-6 w-6 flex items-center justify-center flex-shrink-0 text-xs font-bold">1</span><span>Santri memahami urgensi surat sebagai sarana dakwah dan silaturahmi.</span></li>
                            <li class="flex items-start gap-2"><span class="bg-emerald-100 text-emerald-700 rounded-full h-6 w-6 flex items-center justify-center flex-shrink-0 text-xs font-bold">2</span><span>Santri mengidentifikasi struktur dasar surat pribadi secara anatomi.</span></li>
                        </ul>
                    </div>
                    <div class="bg-emerald-50 p-6 rounded-xl border-l-8 border-emerald-500">
                        <h3 class="font-bold text-xl text-emerald-900 mb-3">B. Keterkaitan Nilai Islam</h3>
                        <p class="text-slate-700 leading-relaxed mb-4">Islam sangat menghargai tulisan sebagai sarana komunikasi. Rasulullah ﷺ bersabda mengenai pentingnya silaturahmi yang bisa ditempuh lewat surat.</p>
                        <div class="bg-white p-6 rounded-lg shadow-inner">
                            <p class="arabic mb-3">لَا تَدْخُلُونَ الْجَنَّةَ حَتَّى تُؤْمِنُوا وَلَا تُؤْمِنُوا حَتَّى تَحَابُّوا</p>
                            <p class="text-md italic text-slate-600">"Kalian tidak akan masuk surga sampai kalian beriman, dan kalian tidak akan beriman sampai kalian saling mencintai..." (HR. Muslim)</p>
                        </div>
                    </div>
                    <div>
                        <h3 class="text-xl font-bold text-emerald-800 mb-4">C. Skenario Pembelajaran (90 Menit)</h3>
                        <div class="prose max-w-none text-slate-700 space-y-4">
                            <h4 class="font-bold text-lg text-emerald-700">1. Bedah Anatomi Surat (40 Menit)</h4>
                            <p>Penjelasan detail bagian surat: Tititimangsa, Salam, Kabar, Isi, Harapan, Penutup, dan Tanda tangan.</p>
                            <div class="teacher-note"><strong>Poin Diskusi Guru:</strong> Mengapa kita tidak boleh langsung ke inti pesan tanpa salam?</div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="simulation-card">
                <h4 class="text-xl font-bold text-emerald-800 mb-4">Simulasi 1.1: Identifikasi Komponen</h4>
                <p class="mb-4">Klik pada bagian surat yang paling pertama kali ditulis!</p>
                <div class="flex flex-wrap gap-3">
                    <button onclick="sim11(false)" class="bg-white border-2 px-4 py-2 rounded-lg hover:bg-slate-100">Salam Pembuka</button>
                    <button onclick="sim11(true)" class="bg-white border-2 px-4 py-2 rounded-lg hover:bg-slate-100">Tititimangsa</button>
                    <button onclick="sim11(false)" class="bg-white border-2 px-4 py-2 rounded-lg hover:bg-slate-100">Isi Surat</button>
                </div>
                <p id="fb-11" class="mt-4 font-semibold"></p>
            </div>
            <div class="simulation-card">
                <h4 class="text-xl font-bold text-emerald-800 mb-4">Simulasi 1.2: Puzzle Struktur</h4>
                <div id="p1-puzzle-area" class="space-y-2"></div>
                <button onclick="checkP1Puzzle()" class="mt-4 bg-emerald-700 text-white px-6 py-2 rounded-full font-bold">Validasi Urutan</button>
                <p id="fb-12" class="mt-2"></p>
            </div>
            <div class="bg-white rounded-2xl shadow-xl p-8">
                <h3 class="text-2xl font-bold mb-6 text-slate-800">Latihan Formatif Sesi 1</h3>
                <div id="quiz-p1" class="space-y-8"></div>
            </div>
        </section>

        <!-- Dynamic Content Sections -->
        <section id="content-p2" class="tab-content hidden"></section>
        <section id="content-p3" class="tab-content hidden"></section>
        <section id="content-p4" class="tab-content hidden"></section>
        <section id="content-p5" class="tab-content hidden"></section>
        <section id="content-p6" class="tab-content hidden"></section>
        <section id="content-p7" class="tab-content hidden"></section>
        <section id="content-p8" class="tab-content hidden"></section>

        <!-- Sumatif Tab -->
        <section id="content-sumatif" class="tab-content hidden">
            <div class="bg-white rounded-2xl shadow-2xl p-10 border-t-8 border-slate-900">
                <div class="text-center mb-10">
                    <h2 class="text-4xl font-extrabold text-slate-900 mb-2">Evaluasi Akhir Modul (Sumatif)</h2>
                    <p class="text-slate-500">Uji seluruh pemahaman Anda dari Pertemuan 1 hingga 8</p>
                </div>
                <div id="sumatif-area" class="space-y-10"></div>
                <div id="sumatif-result" class="hidden mt-12 p-8 bg-emerald-100 rounded-3xl text-center border-4 border-emerald-200">
                    <h3 class="text-3xl font-bold text-emerald-900 mb-4">Hasil Evaluasi</h3>
                    <div id="score-display" class="text-7xl font-black text-emerald-600 mb-6">0</div>
                    <p id="score-message" class="text-lg text-emerald-800 mb-8"></p>
                    <button onclick="resetSumatif()" class="bg-emerald-800 text-white px-10 py-4 rounded-2xl font-bold text-xl hover:scale-105 transition-transform">Ulangi Tes Akhir</button>
                </div>
                <button id="btn-submit-sumatif" onclick="gradeSumatif()" class="w-full mt-12 bg-slate-900 text-white py-6 rounded-3xl font-bold text-2xl hover:bg-black shadow-xl transition-all">Submit Jawaban Akhir</button>
            </div>
        </section>
    </main>

    <footer class="bg-slate-900 text-slate-400 py-12 px-4 text-center">
        <p>&copy; 2024 Modul Pembelajaran Interaktif IND-105</p>
    </footer>

    <script>
        // DATA KONTEN PERTEMUAN (Materi tidak diubah sedikit pun)
        const sessions = {
            p2: { title: "Pertemuan 2: Diksi & Bahasa Santun", goal: ["Memilih diksi tepat untuk orang tua", "Membedakan kata ganti hormat"], islam: "Menghormati yang lebih tua adalah kewajiban Muslim.", scen: "Fokus pada pemilihan kata baku dan sopan.", sim1: { title: "Diksi Picker", desc: "Pilih kata tersopan." }, sim2: { title: "Ejaan Checker", desc: "Cari kata tidak baku." } },
            p3: { title: "Pertemuan 3: Surat Izin di Pesantren", goal: ["Menyusun surat izin sakit", "Memahami prosedur izin"], islam: "Kejujuran adalah pondasi utama dalam perizinan.", scen: "Praktik menulis surat izin ke ustadz.", sim1: { title: "Jujur itu Hebat", desc: "Buat alasan jujur." }, sim2: { title: "Kelengkapan Izin", desc: "Cek poin wajib." } },
            p4: { title: "Pertemuan 4: Surat untuk Sahabat (Ukhuwah)", goal: ["Menulis kabar hafalan", "Menjaga ukhuwah"], islam: "Mukmin dengan mukmin lainnya bagaikan satu bangunan.", scen: "Menulis pesan motivasi hafalan.", sim1: { title: "Motivasi Generator", desc: "Susun kalimat penyemangat." }, sim2: { title: "Matching Friend", desc: "Pasangkan pembuka." } },
            p5: { title: "Pertemuan 5: Surat Pembaca & Aspirasi Mading", goal: ["Menyampaikan kritik santun", "Memahami surat terbuka"], islam: "Nasihat yang baik disampaikan dengan lemah lembut.", scen: "Cara mengisi kolom saran pesantren.", sim1: { title: "Editor Aspirasi", desc: "Ubah komplain kasar." }, sim2: { title: "Headline Maker", desc: "Buat judul menarik." } },
            p6: { title: "Pertemuan 6: Surat Undangan Kegiatan Kelas", goal: ["Menyusun undangan khataman", "Prinsip 5W+1H"], islam: "Memenuhi undangan adalah hak sesama Muslim.", scen: "Pembuatan draf undangan formal.", sim1: { title: "Drafting Invitation", desc: "Lengkapi 5W+1H." }, sim2: { title: "Visual Layout", desc: "Tata letak info." } },
            p7: { title: "Pertemuan 7: Teknik Amplop & Pengiriman", goal: ["Menulis alamat di amplop", "Mengenal logistik"], islam: "Menunaikan amanah surat sampai ke penerima.", scen: "Praktik melipat dan menulis amplop.", sim1: { title: "Address Placer", desc: "Letakkan alamat." }, sim2: { title: "Stamp Calculator", desc: "Hitung biaya." } },
            p8: { title: "Pertemuan 8: Workshop Karya Akhir", goal: ["Menghasilkan karya surat sempurna", "Peer review"], islam: "Berlomba-lomba dalam kebaikan melalui tulisan.", scen: "Produksi mandiri surat fisik.", sim1: { title: "Final Checklist", desc: "Verifikasi 10 poin." }, sim2: { title: "Peer Review", desc: "Review karya teman." } }
        };

        const quizData = {
            p1: [
                {q: "Di bagian mana tititimangsa diletakkan dalam surat pribadi?", o: ["Pojok kiri bawah", "Tengah surat", "Pojok kanan atau kiri atas", "Setelah isi surat"], a: 2, e: "Tititimangsa berfungsi memberi info waktu dan lokasi penulisan di awal surat."},
                {q: "Salam pembuka yang paling sesuai dengan adab santri adalah...", o: ["Halo Ayah", "Selamat pagi Bunda", "Assalamu'alaikum Warahmatullahi Wabarakatuh", "Kepada Ayahnda"], a: 2, e: "Salam lengkap mencerminkan adab dan doa bagi penerima."},
                {q: "Unsur manakah yang TIDAK wajib ada dalam surat pribadi santri?", o: ["Kepala surat (Kop)", "Tempat dan tanggal", "Isi surat", "Nama pengirim"], a: 0, e: "Kop surat biasanya hanya digunakan untuk surat resmi organisasi/lembaga."},
                {q: "Tujuan utama menulis surat kepada orang tua di rumah adalah...", o: ["Menagih uang saku", "Menyambung silaturahmi & memberi kabar", "Pamer prestasi", "Sekadar tugas sekolah"], a: 1, e: "Silaturahmi dan birrul walidain adalah niat utama seorang santri."},
                {q: "Bahasa yang digunakan dalam surat pribadi santri kepada guru sebaiknya...", o: ["Bahasa gaul", "Bahasa resmi kaku", "Bahasa santun dan hormat", "Bahasa daerah kasar"], a: 2, e: "Santun kepada guru adalah bagian dari adab menuntut ilmu."},
                {q: "Paragraf pembuka surat pribadi biasanya berisi tentang...", o: ["Permintaan uang", "Harapan balasan", "Menanyakan kabar dan doa", "Tanda tangan"], a: 2, e: "Membuka dengan doa dan menanyakan kabar adalah adab komunikasi."},
                {q: "Manakah penulisan tititimangsa yang benar?", o: ["Jakarta, 20-01-2024", "Pekalongan: 20 Januari 2024", "Jombang, 20 Januari 2024", "20 Januari 2024"], a: 2, e: "Format standar: Nama Kota (koma) Tanggal Bulan Tahun."},
                {q: "Apa fungsi utama dari salam penutup?", o: ["Mengakhiri pembicaraan", "Mendoakan kembali & menutup silaturahmi", "Hanya formalitas", "Mempercantik surat"], a: 1, e: "Salam penutup seperti Wassalamu'alaikum adalah doa penutup hubungan."},
                {q: "Identitas penulis diletakkan di bagian...", o: ["Awal surat", "Setelah salam pembuka", "Pojok kanan bawah", "Lampiran"], a: 2, e: "Nama terang dan tanda tangan berada di akhir sebagai pengesahan pengirim."},
                {q: "Surat pribadi disebut 'jembatan hati' karena...", o: ["Terbuat dari kertas kuat", "Bisa dilipat", "Mewakili perasaan penulis kepada penerima", "Bisa dikirim lewat kurir"], a: 2, e: "Surat membawa emosi dan pesan yang tidak tersampaikan secara lisan."}
            ],
            p2: [
                {q: "Kata ganti 'Ananda' dalam surat biasanya digunakan oleh...", o: ["Orang tua ke anak", "Anak ke orang tua", "Guru ke murid", "Teman ke teman"], a: 1, e: "Ananda digunakan oleh anak untuk menyebut dirinya dengan rendah hati."},
                {q: "Manakah pilihan kata yang lebih sopan untuk meminta doa?", o: ["Minta doanya ya", "Mohon doa restu Ayah dan Bunda", "Doakan saya", "Jangan lupa doain"], a: 1, e: "Kata 'Mohon' jauh lebih santun daripada 'Minta'."},
                {q: "Kata baku yang tepat di bawah ini adalah...", o: ["Izin", "Ijin", "Idzin", "Isin"], a: 0, e: "Menurut KBBI, penulisan yang baku adalah Izin."},
                {q: "Penyebutan 'Ayahanda' mencerminkan nilai...", o: ["Kesombongan", "Ta'zhim (penghormatan)", "Formalitas", "Ketakutan"], a: 1, e: "Menunjukkan penghormatan tinggi kepada orang tua."},
                {q: "Jika menulis surat untuk Kyai, kata ganti 'saya' sebaiknya diganti...", o: ["Gue", "Aku", "Hamba/Al-faqir", "Ane"], a: 2, e: "Menunjukkan ketawadhuan seorang santri kepada gurunya."},
                {q: "Diksi 'berhalangan' lebih tepat digunakan dalam...", o: ["Surat cinta", "Surat izin resmi", "Surat curhat", "Surat belanja"], a: 1, e: "'Berhalangan' adalah diksi formal untuk alasan ketidakhadiran."},
                {q: "Ejaan yang benar untuk penutup surat adalah...", o: ["Sekian dan terima-kasih", "Sekian, terima kasih", "Sekian dan trima kasih", "Wasalam"], a: 1, e: "Penulisan 'terima kasih' dipisah."},
                {q: "Hindari kata 'kamu' kepada guru, ganti dengan...", o: ["Kalian", "Beliau", "Ustadz/Ustadzah", "Sampeyan"], a: 2, e: "Menyebut jabatan/gelar jauh lebih sopan."},
                {q: "Bahasa santun dalam Islam disebut juga dengan istilah...", o: ["Qaulan Karima", "Qaulan Baligha", "Qaulan Layyina", "Semua benar"], a: 3, e: "Semua adalah bentuk tutur kata yang diajarkan dalam Al-Qur'an."},
                {q: "Salah satu ciri bahasa surat pribadi santri adalah 'komunikatif', artinya...", o: ["Panjang lebar", "Mudah dipahami seperti berbicara", "Penuh kode rahasia", "Menggunakan bahasa asing"], a: 1, e: "Pesan mudah dimengerti oleh penerima."}
            ],
            p3: [
                {q: "Surat izin sakit di pondok ditujukan kepada...", o: ["Teman sekamar", "Bagian Kesantrian/Ustadz Pengasuh", "Kantin", "Satpam"], a: 1, e: "Izin harus resmi kepada pengasuh atau otoritas pondok."},
                {q: "Hal yang paling krusial dalam surat izin adalah...", o: ["Kejujuran alasan", "Jenis kertas", "Warna tinta", "Panjang surat"], a: 0, e: "Kejujuran adalah karakter utama santri."},
                {q: "Struktur 'Perihal' dalam surat izin berfungsi untuk...", o: ["Menghias surat", "Memberi tahu inti surat secara cepat", "Menulis nama kota", "Menulis doa"], a: 1, e: "Memudahkan pembaca mengetahui tujuan surat."},
                {q: "Kalimat permohonan izin yang benar adalah...", o: ["Saya harus pulang sekarang!", "Mohon ustadz izinkan saya", "Dengan ini saya mohon izin untuk...", "Buka gerbang, saya mau lewat"], a: 2, e: "Gunakan kalimat pembuka permohonan yang formal."},
                {q: "Jika izin karena sakit, dokumen pendukung yang sebaiknya dilampirkan adalah...", o: ["Foto obat", "Surat keterangan dokter", "Foto sedang tidur", "Resep makanan"], a: 1, e: "Surat dokter memperkuat bukti fisik alasan izin."},
                {q: "Penulisan 'Yth.' merupakan singkatan dari...", o: ["Yang Terhormat", "Yang Terkasih", "Yakin Tetap Hormat", "Yang Tersayang"], a: 0, e: "Singkatan standar untuk sapaan hormat."},
                {q: "Batas waktu izin kembali ke pondok harus ditulis secara...", o: ["Kira-kira", "Jelas dan pasti", "Rahasia", "Tergantung mood"], a: 1, e: "Kepastian waktu adalah bentuk tanggung jawab."},
                {q: "Siapa yang biasanya menandatangani surat izin pulang santri?", o: ["Santri sendiri", "Orang tua dan pengasuh", "Penjual buku", "Ketua kelas"], a: 1, e: "Melibatkan wali santri dan pihak pondok."},
                {q: "Dalam surat dinas pesantren, nomor surat biasanya diletakkan di...", o: ["Paling bawah", "Bagian atas setelah kop", "Di dalam isi", "Belakang kertas"], a: 1, e: "Bagian dari tata usaha surat resmi."},
                {q: "Etika jika surat izin ditolak adalah...", o: ["Protes keras", "Sabar dan patuh (Sami'na wa Atho'na)", "Pulang diam-diam", "Berhenti sekolah"], a: 1, e: "Adab terhadap kebijakan pesantren."}
            ],
            p4: [
                {q: "Apa fokus utama dalam surat untuk sahabat sesama santri?", o: ["Meminta barang", "Memberi motivasi ibadah & hafalan", "Membicarakan orang lain", "Mengeluh"], a: 1, e: "Surat antar santri harusnya saling menguatkan dalam kebaikan."},
                {q: "Bahasa yang digunakan untuk sahabat disebut bahasa...", o: ["Formal kaku", "Akrab (Intim)", "Bahasa isyarat", "Bahasa rahasia"], a: 1, e: "Akrab namun tetap dalam batas kesopanan."},
                {q: "Sapaan yang tepat untuk sahabat laki-laki dalam Islam adalah...", o: ["Bro", "Akhi", "Tuan", "Pak"], a: 1, e: "Akhi berarti saudaraku, sapaan hangat yang islami."},
                {q: "Kapan waktu terbaik mengirim surat motivasi hafalan kepada teman?", o: ["Saat teman sedang tidur", "Saat teman sedang futur (lemah semangat)", "Saat teman sedang makan", "Tidak perlu dikirim"], a: 1, e: "Surat berfungsi sebagai penyemangat saat teman sedang turun motivasinya."},
                {q: "Penyebutan 'Ente' atau 'Antum' dalam surat santri termasuk...", o: ["Kesalahan bahasa", "Diksi khas lingkungan pesantren", "Bahasa gaul kota", "Bahasa formal negara"], a: 1, e: "Serapan bahasa Arab yang lumrah di pesantren."},
                {q: "Isi surat ukhuwah sebaiknya menghindari...", o: ["Doa", "Ghibah (gosip)", "Nasihat", "Kabar kesehatan"], a: 1, e: "Menjaga lisan dan tulisan dari dosa ghibah."},
                {q: "Apa manfaat menulis surat untuk teman yang sudah lulus?", o: ["Mengingatkan hutang", "Menjaga tali silaturahmi", "Hanya iseng", "Agar terkenal"], a: 1, e: "Menjaga hubungan meski sudah tidak satu lokasi."},
                {q: "Kalimat penutup surat sahabat yang baik adalah...", o: ["Dah ya", "Semoga Allah kumpulkan kita di surga-Nya", "Cukup sekian", "Bales cepet"], a: 1, e: "Menutup dengan doa adalah ciri khas santri."},
                {q: "Gaya bahasa akrab dalam surat pribadi tetap harus menjaga...", o: ["Adab", "Kerahasiaan", "Panjang kalimat", "Warna kertas"], a: 0, e: "Adab tetap nomor satu meskipun kepada teman sebaya."},
                {q: "Media surat kertas dibanding chat digital bagi santri memiliki kesan...", o: ["Ketinggalan zaman", "Lebih berkesan dan eksklusif", "Sangat merepotkan", "Murahan"], a: 1, e: "Kertas menunjukkan usaha dan perhatian lebih (himmah)."}
            ],
            p5: [
                {q: "Apa tujuan utama menulis surat pembaca di mading pesantren?", o: ["Menjelekkan pengurus", "Menyampaikan aspirasi/saran membangun", "Pamer tulisan", "Mencari musuh"], a: 1, e: "Tujuannya untuk perbaikan lingkungan pondok bersama."},
                {q: "Saran yang baik disampaikan dengan cara...", o: ["Sarkasme", "Santun dan memberi solusi", "Marah-marah", "Sembunyi-sembunyi"], a: 1, e: "Islam mengajarkan menasihati dengan cara yang baik (Mau'izhah Hasanah)."},
                {q: "Identitas penulis surat pembaca sebaiknya...", o: ["Anonim", "Jelas (Nama dan Kelas)", "Hanya inisial", "Nama samaran keren"], a: 1, e: "Kejelasan identitas menunjukkan keberanian dan tanggung jawab."},
                {q: "Bagian 'Harapan' dalam surat pembaca berisi...", o: ["Keluhan tambahan", "Solusi yang diinginkan", "Ucapan selamat tinggal", "Daftar belanja"], a: 1, e: "Aspirasi tanpa harapan solusi hanya menjadi keluhan semata."},
                {q: "Bahasa surat pembaca harus...", o: ["Berbelit-belit", "Lugas, efektif, dan sopan", "Penuh emosi", "Menggunakan kode"], a: 1, e: "Agar pesan mudah ditangkap oleh pengurus atau pembaca lain."},
                {q: "Contoh topik surat pembaca yang tepat di pondok adalah...", o: ["Masalah kebersihan kamar mandi", "Hobi makan", "Warna baju teman", "Mimpi semalam"], a: 0, e: "Topik haruslah kepentingan umum (maslahah ammah)."},
                {q: "Sebelum mengirim surat pembaca, kita harus memastikan...", o: ["Isinya benar (bukan fitnah)", "Tinta sangat mahal", "Kertas sangat besar", "Ada gambar"], a: 0, e: "Tabayyun dan validasi fakta sangat penting."},
                {q: "Kalimat pembuka surat aspirasi yang baik adalah...", o: ["Saya benci ini", "Sehubungan dengan kondisi...", "Hei dengerin saya", "Tolong dong"], a: 1, e: "Menggunakan kata hubung formal."},
                {q: "Jika aspirasi belum dipenuhi, sikap santri adalah...", o: ["Demo", "Bersabar dan menanyakan kembali dengan adab", "Merusak mading", "Keluar pondok"], a: 1, e: "Menjaga akhlak dalam berinteraksi dengan kebijakan."},
                {q: "Surat pembaca adalah sarana melatih...", o: ["Keberanian berbicara", "Berpikir kritis dan solutif", "Otot tangan", "Kemampuan lari"], a: 1, e: "Melatih santri peka terhadap lingkungan."},
            ],
            p6: [
                {q: "Unsur 5W+1H yang paling vital dalam undangan adalah...", o: ["Who (Siapa pengetiknya)", "What, When, Where (Acara, Waktu, Tempat)", "Why (Kenapa kertasnya putih)", "How (Bagaimana cara belinya)"], a: 1, e: "Inti undangan adalah informasi waktu, lokasi, dan jenis acara."},
                {q: "Penulisan waktu acara yang paling tepat adalah...", o: ["Besok pagi", "Minggu, 12 Mei 2024 pukul 08.00 WIB", "Setelah shalat", "Kapan-kapan"], a: 1, e: "Harus detail agar tamu tidak bingung."},
                {q: "Sapaan tamu dalam undangan biasanya...", o: ["Bapak/Ibu/Saudara/i", "Hey kalian", "Para manusia", "Semua yang baca"], a: 0, e: "Format sapaan formal."},
                {q: "Bagian 'Agenda Acara' bertujuan untuk...", o: ["Menambah panjang surat", "Memberi gambaran kegiatan kepada tamu", "Formalitas saja", "Mengisi kertas kosong"], a: 1, e: "Tamu dapat mempersiapkan diri sesuai agenda."},
                {q: "Undangan khataman Al-Qur'an termasuk jenis...", o: ["Surat Rahasia", "Surat Setengah Resmi", "Surat Kaleng", "Surat Hutang"], a: 1, e: "Karena melibatkan lembaga/kelompok namun bersifat pribadi/keagamaan."},
                {q: "Kalimat penutup undangan yang islami adalah...", o: ["Datang ya!", "Atas kehadirannya kami ucapkan Jazaakumullah Khairan", "Sekian saja", "Bye-bye"], a: 1, e: "Mendoakan kebaikan bagi yang bersedia hadir."},
                {q: "Siapa yang dicantumkan sebagai pengundang?", o: ["Tukang print", "Panitia atau Shohibul Bait (Tuan Rumah)", "Tetangga", "Satpam"], a: 1, e: "Penanggung jawab acara tersebut."},
                {q: "Letak lampiran (jika ada) biasanya di...", o: ["Kiri bawah", "Setelah tanda tangan atau lembar terpisah", "Di atas judul", "Pojok kanan atas"], a: 1, e: "Sebagai pelengkap informasi utama."},
                {q: "Penulisan alamat tujuan undangan diletakkan di...", o: ["Bagian isi", "Kanan atas (setelah 'Yth.')", "Di belakang surat", "Tengah bawah"], a: 1, e: "Agar penerima tahu undangan tersebut memang untuknya."},
                {q: "Waktu pengiriman undangan sebaiknya...", o: ["H-1 jam", "Beberapa hari sebelum acara (H-3 atau H-7)", "Setelah acara selesai", "Satu tahun sebelumnya"], a: 1, e: "Memberi kesempatan tamu untuk mengatur jadwal."},
            ],
            p7: [
                {q: "Di mana posisi penulisan alamat penerima pada amplop?", o: ["Pojok kiri atas", "Pojok kanan bawah", "Tengah belakang", "Pojok kiri bawah"], a: 1, e: "Standar pos Indonesia adalah di kanan bawah atau tengah kanan."},
                {q: "Alamat pengirim biasanya diletakkan di...", o: ["Pojok kanan bawah", "Pojok kiri atas", "Di dalam surat saja", "Samping prangko"], a: 1, e: "Agar jika surat tidak sampai, bisa dikembalikan ke pengirim."},
                {q: "Fungsi utama kode pos adalah...", o: ["Hiasan angka", "Mempercepat proses sortir wilayah", "Kode rahasia santri", "Syarat pendaftaran"], a: 1, e: "Kode pos mewakili wilayah geografis terkecil."},
                {q: "Prangko diletakkan di bagian...", o: ["Pojok kiri bawah", "Pojok kanan atas", "Tengah-tengah", "Belakang amplop"], a: 1, e: "Sisi kanan atas amplop adalah tempat standar prangko."},
                {q: "Amplop cokelat besar biasanya digunakan untuk...", o: ["Surat pribadi", "Dokumen penting/lamaran kerja", "Surat cinta", "Kertas kecil"], a: 1, e: "Untuk dokumen yang tidak boleh dilipat."},
                {q: "Apa yang harus ditulis sebelum nama penerima di amplop?", o: ["Yth. (Yang Terhormat)", "Kepada", "Halo", "Opsi 1 & 2 Benar"], a: 3, e: "Biasanya menggunakan 'Yth.' atau 'Kepada'."},
                {q: "Cara melipat surat yang rapi adalah...", o: ["Asal lipat", "Sesuai ukuran amplop (Lipatan tunggal/paralel)", "Diremas-remas", "Dipotong-potong"], a: 1, e: "Kerapian melipat mencerminkan ketelitian penulis."},
                {q: "Jika mengirim surat via pos kilat, keuntungannya adalah...", o: ["Lebih murah", "Lebih cepat sampai", "Warna prangkonya bagus", "Kertasnya jadi wangi"], a: 1, e: "Layanan prioritas untuk kecepatan pengiriman."},
                {q: "Penggunaan lem pada amplop harus...", o: ["Sangat banyak sampai basah", "Secukupnya agar tertutup rapat", "Tidak perlu dilem", "Pakai nasi saja"], a: 1, e: "Menjaga keamanan isi surat tanpa merusak kertas."},
                {q: "Informasi kontak pengirim (No. HP) di amplop berfungsi untuk...", o: ["Iseng", "Memudahkan kurir menghubungi jika alamat sulit dicari", "Gaya-gayaan", "Menambah beban"], a: 1, e: "Sangat membantu proses logistik zaman sekarang."},
            ],
            p8: [
                {q: "Apa langkah pertama dalam workshop menulis surat?", o: ["Langsung menulis", "Menentukan tujuan dan penerima surat", "Mencari pulpen termahal", "Membeli amplop"], a: 1, e: "Tujuan menentukan diksi dan struktur yang digunakan."},
                {q: "Penyuntingan (Editing) surat bertujuan untuk...", o: ["Menghilangkan semua kata", "Memperbaiki kesalahan ejaan dan kalimat", "Menghapus tanda tangan", "Mengganti nama pengirim"], a: 1, e: "Agar hasil akhir bersih dari kesalahan."},
                {q: "Evaluasi teman sejawat (Peer Review) dilakukan dengan...", o: ["Saling mengejek", "Saling membaca dan memberi masukan positif", "Menyobek surat teman", "Menyembunyikan surat"], a: 1, e: "Belajar dari kelebihan dan kekurangan tulisan orang lain."},
                {q: "Kriteria surat yang 'Sempurna' bagi santri adalah...", o: ["Sangat panjang", "Sesuai struktur, santun, dan tulus", "Kertasnya berwarna-warni", "Tulisannya tidak terbaca"], a: 1, e: "Keseimbangan antara teknik dan rasa."},
                {q: "Kenapa tanda tangan penting di karya akhir?", o: ["Biar keren", "Sebagai bentuk tanggung jawab penulis", "Syarat nilai", "Hanya hiasan"], a: 1, e: "Tanda tangan adalah pengesahan pesan pribadi."},
                {q: "Memilih media (Kertas/Amplop) yang bersih mencerminkan...", o: ["Kekayaan", "Adab dan kesungguhan", "Ketakutan", "Kebetulan"], a: 1, e: "Menghormati penerima melalui media yang layak."},
                {q: "Workshop surat melatih santri dalam hal...", o: ["Kemampuan motorik dan literasi", "Kecepatan lari", "Kekuatan makan", "Ketahanan tidur"], a: 0, e: "Menghubungkan pikiran dan keterampilan tangan."},
                {q: "Hasil workshop ini sebaiknya...", o: ["Dibuang", "Dikirimkan kepada alamat tujuan", "Disimpan selamanya", "Dijual"], a: 1, e: "Agar ilmu yang dipelajari langsung dipraktikkan (Amaliyah)."},
                {q: "Jika terjadi kesalahan tulis (Typo) di surat fisik, sebaiknya...", o: ["Ditipe-x tebal", "Ditulis ulang (jika memungkinkan) agar rapi", "Dibiarkan saja", "Dicoret silang"], a: 1, e: "Surat fisik yang bersih tanpa tipe-x lebih dihargai."},
                {q: "Menulis surat dengan tangan (Handwritten) di masa kini menunjukkan...", o: ["Ketertinggalan", "Ketulusan dan sentuhan personal yang tinggi", "Kemiskinan", "Kekuatan jari"], a: 1, e: "Tulisan tangan memiliki nilai emosional yang lebih tinggi dibanding ketikan."},
            ]
        };

        // UI Logic (Materi tetap)
        function switchTab(id) {
            document.querySelectorAll('.tab-content').forEach(s => s.classList.add('hidden'));
            document.querySelectorAll('nav button').forEach(b => b.classList.remove('tab-active'));
            document.getElementById('content-' + id).classList.remove('hidden');
            document.getElementById('tab-' + id).classList.add('tab-active');
            if(id !== 'p1' && id !== 'sumatif') renderSession(id);
            window.scrollTo(0, 0);
        }

        function renderSession(id) {
            const data = sessions[id];
            const container = document.getElementById('content-' + id);
            container.innerHTML = `
                <div class="bg-white rounded-2xl shadow-xl p-8 mb-10 border-t-8 border-emerald-600">
                    <h2 class="text-3xl font-bold text-emerald-900 mb-6">${data.title}</h2>
                    <div class="space-y-8">
                        <div><h3 class="text-xl font-bold text-emerald-800 mb-4 border-b pb-2">A. Tujuan Pembelajaran</h3><ul class="list-disc ml-6 text-slate-700">${data.goal.map(g=>`<li>${g}</li>`).join('')}</ul></div>
                        <div class="bg-emerald-50 p-6 rounded-xl border-l-8 border-emerald-500"><h3 class="font-bold text-xl mb-3">B. Keterkaitan Nilai Islam</h3><p class="text-slate-700">${data.islam}</p></div>
                        <div><h3 class="text-xl font-bold text-emerald-800 mb-4">C. Skenario Pembelajaran</h3><div class="prose text-slate-700">${data.scen}</div></div>
                    </div>
                </div>
                <div class="simulation-card"><h4 class="font-bold text-lg mb-2 text-emerald-800">${data.sim1.title}</h4><p class="text-slate-600">${data.sim1.desc}</p></div>
                <div class="simulation-card"><h4 class="font-bold text-lg mb-2 text-emerald-800">${data.sim2.title}</h4><p class="text-slate-600">${data.sim2.desc}</p></div>
                <div class="bg-white rounded-2xl shadow-xl p-8"><h3 class="text-2xl font-bold mb-6 text-slate-800">Latihan Formatif ${id.toUpperCase()}</h3><div id="quiz-${id}" class="space-y-6"></div></div>
            `;
            renderQuiz(id);
        }

        function renderQuiz(id) {
            const container = document.getElementById('quiz-' + id);
            const questions = quizData[id];
            container.innerHTML = questions.map((q, i) => `
                <div class="border-b pb-6">
                    <p class="font-bold text-slate-800 mb-3">${i+1}. ${q.q}</p>
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-3">
                        ${q.o.map((opt, oi) => `<button onclick="checkAnswer('${id}', ${i}, ${oi}, ${q.a}, '${q.e}', this)" class="text-left p-3 border rounded-lg hover:bg-emerald-50 transition-colors">${opt}</button>`).join('')}
                    </div>
                    <div id="exp-${id}-${i}" class="hidden mt-3 p-3 bg-emerald-50 rounded border-l-4 border-emerald-500 text-sm"></div>
                </div>
            `).join('');
        }

        function checkAnswer(id, qIdx, oIdx, correctIdx, exp, btn) {
            const expDiv = document.getElementById(`exp-${id}-${qIdx}`);
            const buttons = btn.parentElement.querySelectorAll('button');
            buttons.forEach(b => b.disabled = true);
            if(oIdx === correctIdx) {
                btn.classList.add('bg-green-100', 'border-green-500', 'text-green-800', 'font-bold');
                expDiv.innerHTML = `<strong>Benar!</strong> ${exp}`;
            } else {
                btn.classList.add('bg-red-100', 'border-red-500', 'text-red-800');
                expDiv.innerHTML = `<strong>Salah.</strong> Jawaban yang benar adalah: <em>${quizData[id][qIdx].o[correctIdx]}</em>.`;
            }
            expDiv.classList.remove('hidden');
        }

        // SUMATIF: Mengambil perwakilan soal dari p1-p8 (Total 20 soal)
        function renderSumatif() {
            const area = document.getElementById('sumatif-area');
            const pool = [
                quizData.p1[0], quizData.p1[1],
                quizData.p2[0], quizData.p2[4],
                quizData.p3[0], quizData.p3[1],
                quizData.p4[0], quizData.p4[2],
                quizData.p5[0], quizData.p5[1],
                quizData.p6[0], quizData.p6[1],
                quizData.p7[0], quizData.p7[1],
                quizData.p8[0], quizData.p8[3],
                quizData.p1[4], quizData.p2[2], quizData.p3[5], quizData.p4[8]
            ];

            area.innerHTML = pool.map((q, i) => `
                <div class="bg-white p-6 rounded-2xl border shadow-sm" data-correct="${q.a}">
                    <p class="font-bold text-xl mb-6">${i+1}. ${q.q}</p>
                    <div class="space-y-3">
                        ${q.o.map((opt, oi) => `
                            <label class="flex items-center gap-4 p-4 border rounded-xl cursor-pointer hover:bg-slate-50">
                                <input type="radio" name="sum-q-${i}" value="${oi}" class="w-5 h-5"> 
                                <span class="text-lg">${opt}</span>
                            </label>
                        `).join('')}
                    </div>
                </div>
            `).join('');
        }

        function gradeSumatif() {
            const questions = document.querySelectorAll('div[data-correct]');
            let score = 0;
            questions.forEach((q, i) => {
                const sel = q.querySelector(`input[name="sum-q-${i}"]:checked`);
                if(sel && parseInt(sel.value) === parseInt(q.dataset.correct)) score += 5;
            });
            document.getElementById('score-display').innerText = score;
            document.getElementById('sumatif-result').classList.remove('hidden');
            document.getElementById('btn-submit-sumatif').classList.add('hidden');
            document.getElementById('score-message').innerText = score >= 75 ? "Maa Syaa Allah, Anda telah menguasai materi surat dengan sangat baik!" : "Jangan menyerah, silakan murojaah kembali materi yang belum dikuasai.";
            window.scrollTo({ top: document.body.scrollHeight, behavior: 'smooth' });
        }

        function resetSumatif() {
            document.getElementById('sumatif-result').classList.add('hidden');
            document.getElementById('btn-submit-sumatif').classList.remove('hidden');
            renderSumatif();
        }

        // PERTEMUAN 1 ASSETS
        function initP1Puzzle() {
            const area = document.getElementById('p1-puzzle-area');
            const items = ["Isi Surat", "Tanda Tangan", "Salam Pembuka", "Tititimangsa", "Penutup"];
            area.innerHTML = items.map((item, i) => `
                <div class="flex items-center gap-3 bg-white p-3 border rounded shadow-sm">
                    <span class="font-bold text-emerald-600">${i+1}.</span>
                    <select id="puz-p1-${i}" class="w-full border-none outline-none text-slate-700">
                        <option value="">-- Pilih Urutan --</option>
                        <option value="Tititimangsa">Tititimangsa</option>
                        <option value="Salam Pembuka">Salam Pembuka</option>
                        <option value="Isi Surat">Isi Surat</option>
                        <option value="Penutup">Penutup</option>
                        <option value="Tanda Tangan">Tanda Tangan</option>
                    </select>
                </div>
            `).join('');
        }

        function sim11(isCorrect) {
            const fb = document.getElementById('fb-11');
            fb.innerText = isCorrect ? "Mumtaz! Tititimangsa adalah pembuka paling awal." : "Afwan, coba lagi!";
            fb.className = "mt-4 font-bold " + (isCorrect ? "text-green-600" : "text-red-600");
        }

        function checkP1Puzzle() {
            const order = ["Tititimangsa", "Salam Pembuka", "Isi Surat", "Penutup", "Tanda Tangan"];
            let correct = 0;
            for(let i=0; i<5; i++) if(document.getElementById(`puz-p1-${i}`).value === order[i]) correct++;
            document.getElementById('fb-12').innerText = correct === 5 ? "Urutan Sempurna!" : `Baru ${correct}/5 benar. Terus mencoba!`;
            document.getElementById('fb-12').className = "mt-2 font-bold " + (correct === 5 ? "text-green-600" : "text-orange-600");
        }

        window.onload = () => { renderQuiz('p1'); initP1Puzzle(); renderSumatif(); };
    </script>
</body>
</html>
