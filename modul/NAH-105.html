<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NAH-105: Pengenalan Fi'il (Kata Kerja)</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- MathJax for LaTeX -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Amiri&display=swap" rel="stylesheet">
    <style>
        :root {
            --indigo-primary: #312e81;
            --indigo-secondary: #4338ca;
            --accent-blue: #0ea5e9;
        }
        body { font-family: 'Inter', sans-serif; background-color: #f8fafc; }
        .arabic { font-family: 'Amiri', serif; font-size: 2rem; line-height: 3.5rem; text-align: right; direction: rtl; }
        .tab-btn { border-bottom: 4px solid transparent; transition: all 0.3s; color: #64748b; }
        .tab-btn.active { border-bottom-color: var(--indigo-primary); color: var(--indigo-primary); font-weight: 700; background-color: #eef2ff; }
        .card { background: white; border-radius: 1.25rem; box-shadow: 0 4px 6px -1px rgba(0,0,0,0.1); margin-bottom: 2.5rem; border: 1px solid #e2e8f0; overflow: hidden; }
        .teacher-note { background-color: #f0f9ff; border-left: 5px solid var(--accent-blue); padding: 1.5rem; margin: 1.5rem 0; border-radius: 0.5rem; color: #0c4a6e; }
        .btn-option { transition: all 0.2s; width: 100%; text-align: left; padding: 1.25rem; border: 2px solid #f1f5f9; border-radius: 0.75rem; margin-top: 0.75rem; background: white; }
        .btn-option:hover { border-color: var(--indigo-secondary); background-color: #f5f3ff; }
        .correct { background-color: #dcfce7 !important; border-color: #22c55e !important; }
        .wrong { background-color: #fee2e2 !important; border-color: #ef4444 !important; }
        .explanation { display: none; margin-top: 1rem; padding: 1.25rem; background: #f8fafc; border-radius: 0.75rem; border: 1px dashed #cbd5e1; }
        .sticky-nav { position: sticky; top: 0; z-index: 1000; background: white; border-bottom: 1px solid #e2e8f0; }
        .interactive-box { background: #ffffff; border: 2px solid #e2e8f0; border-radius: 1rem; padding: 1.5rem; }
    </style>
</head>
<body class="text-slate-900">

    <!-- Header -->
    <header class="bg-indigo-950 text-white py-14 px-6 text-center">
        <div class="max-w-4xl mx-auto">
            <h1 class="text-4xl md:text-5xl font-black mb-4">NAH-105: Pengenalan Fi'il</h1>
            <p class="text-indigo-300 text-lg md:text-xl font-light">Memahami Dinamika Kata Kerja dalam Bahasa Al-Qur'an</p>
        </div>
    </header>

    <!-- Navigation -->
    <nav class="sticky-nav">
        <div class="max-w-screen-2xl mx-auto overflow-x-auto">
            <div class="flex whitespace-nowrap px-4">
                <button onclick="switchTab('p1')" id="btn-p1" class="tab-btn px-6 py-5 text-sm font-bold uppercase active">Pertemuan 1</button>
                <button onclick="switchTab('p2')" id="btn-p2" class="tab-btn px-6 py-5 text-sm font-bold uppercase">Pertemuan 2</button>
                <button onclick="switchTab('p3')" id="btn-p3" class="tab-btn px-6 py-5 text-sm font-bold uppercase">Pertemuan 3</button>
                <button onclick="switchTab('p4')" id="btn-p4" class="tab-btn px-6 py-5 text-sm font-bold uppercase">Pertemuan 4</button>
                <button onclick="switchTab('p5')" id="btn-p5" class="tab-btn px-6 py-5 text-sm font-bold uppercase">Pertemuan 5</button>
                <button onclick="switchTab('p6')" id="btn-p6" class="tab-btn px-6 py-5 text-sm font-bold uppercase">Pertemuan 6</button>
                <button onclick="switchTab('p7')" id="btn-p7" class="tab-btn px-6 py-5 text-sm font-bold uppercase">Pertemuan 7</button>
                <button onclick="switchTab('p8')" id="btn-p8" class="tab-btn px-6 py-5 text-sm font-bold uppercase">Pertemuan 8</button>
                <button onclick="switchTab('sumatif')" id="btn-sumatif" class="tab-btn px-6 py-5 text-sm font-bold uppercase text-rose-600">Tes Sumatif</button>
            </div>
        </div>
    </nav>

    <main class="max-w-6xl mx-auto p-6 md:p-12">

        <!-- PERTEMUAN 1: Definisi & Ciri-Ciri Fi'il -->
        <section id="p1" class="tab-content">
            <div class="card p-8 md:p-12">
                <h2 class="text-3xl font-bold text-indigo-900 mb-8 border-b pb-4">Pertemuan 1: Apa itu Fi'il?</h2>
                
                <div class="space-y-10">
                    <div>
                        <h3 class="text-xl font-bold text-indigo-800 mb-4 uppercase">A. Tujuan Pembelajaran</h3>
                        <ul class="list-disc ml-6 space-y-2 text-slate-700">
                            <li>Santri mampu mendefinisikan Fi'il secara bahasa dan istilah Nahwu.</li>
                            <li>Santri dapat mengidentifikasi 4 ciri utama Fi'il dalam teks Arab.</li>
                            <li>Santri mampu membedakan antara Isim dan Fi'il berdasarkan tanda-tandanya.</li>
                        </ul>
                    </div>

                    <div>
                        <h3 class="text-xl font-bold text-indigo-800 mb-4 uppercase">B. Keterkaitan Nilai Islam</h3>
                        <div class="bg-indigo-50 p-6 rounded-xl border border-indigo-100">
                            <p class="italic text-slate-700 mb-4">Bahasa Arab adalah kunci memahami agama. Setiap kata kerja (Fi'il) dalam Al-Qur'an menyimpan hikmah tentang waktu dan amal. Mempelajari Nahwu adalah sarana menjaga kemurnian pemahaman kitabullah.</p>
                            <div class="arabic mb-2">إِنَّا أَنزَلْنَاهُ قُرْآنًا عَرَبِيًّا لَّعَلَّكُمْ تَعْقِلُونَ</div>
                            <p class="text-sm font-bold text-indigo-900">"Sesungguhnya Kami menurunkannya berupa Al-Quran dengan berbahasa Arab, agar kamu memahaminya." (QS. Yusuf: 2)</p>
                        </div>
                    </div>

                    <div>
                        <h3 class="text-xl font-bold text-indigo-800 mb-4 uppercase">C. Skenario Pembelajaran</h3>
                        <div class="space-y-6 text-slate-800 leading-relaxed">
                            <p><strong>1. Definisi Fi'il:</strong> Fi'il secara bahasa berarti "Perbuatan". Secara istilah adalah kata yang menunjukkan suatu makna pada dirinya sendiri dan berkaitan dengan salah satu dari tiga waktu (lampau, sekarang, atau akan datang).</p>
                            
                            <div class="flex justify-center my-8">
                                <svg width="300" height="150" viewBox="0 0 300 150">
                                    <rect x="10" y="50" width="80" height="50" rx="5" fill="#312e81" />
                                    <text x="50" y="80" text-anchor="middle" fill="white" font-weight="bold">Lampu</text>
                                    <line x1="90" y1="75" x2="110" y1="75" stroke="#312e81" stroke-width="2" />
                                    <rect x="110" y="50" width="80" height="50" rx="5" fill="#4338ca" />
                                    <text x="150" y="80" text-anchor="middle" fill="white" font-weight="bold">Sekarang</text>
                                    <line x1="190" y1="75" x2="210" y1="75" stroke="#4338ca" stroke-width="2" />
                                    <rect x="210" y="50" width="80" height="50" rx="5" fill="#0ea5e9" />
                                    <text x="250" y="80" text-anchor="middle" fill="white" font-weight="bold">Mendatang</text>
                                </svg>
                            </div>
                            <p class="text-center text-sm text-slate-500">[Ilustrasi: Garis Waktu Fi'il]</p>

                            <p><strong>2. Ciri-Ciri Fi'il (Tanda Keabsahan):</strong> Sebuah kata disebut Fi'il jika bisa dimasuki oleh:</p>
                            <ol class="list-decimal ml-6 space-y-2">
                                <li><strong>Qod (قَدْ):</strong> Bisa masuk ke Fi'il Madhi (makna kepastian) dan Fi'il Mudhari' (makna kadang-kadang).</li>
                                <li><strong>Sin (سَ):</strong> Khusus Fi'il Mudhari' (makna akan datang waktu dekat).</li>
                                <li><strong>Saufa (سَوْفَ):</strong> Khusus Fi'il Mudhari' (makna akan datang waktu jauh).</li>
                                <li><strong>Ta' Ta'nits Sakinah (تْ):</strong> Khusus Fi'il Madhi untuk menunjukkan pelaku perempuan.</li>
                            </ol>

                            <div class="teacher-note">
                                <strong>Poin Diskusi Guru:</strong> Mintalah santri mencari kata "Qod" dalam Juz Amma. Diskusikan apakah kata setelahnya adalah Fi'il atau bukan. Tekankan bahwa "Isim" tidak akan pernah bisa dimasuki oleh empat tanda di atas.
                            </div>
                        </div>
                    </div>

                    <!-- D. Penilaian -->
                    <div class="bg-slate-900 text-white p-8 rounded-2xl">
                        <h3 class="text-2xl font-bold mb-6 flex items-center">
                            <svg class="w-8 h-8 mr-3 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                            D. Penilaian Modul
                        </h3>
                        <div class="grid md:grid-cols-3 gap-6 text-sm">
                            <div class="border border-slate-700 p-4 rounded-lg">
                                <span class="block font-bold text-indigo-400 mb-2 uppercase">Adab & Sikap</span>
                                Menghormati buku, fokus saat guru menjelaskan, dan tenang saat pembacaan dalil.
                            </div>
                            <div class="border border-slate-700 p-4 rounded-lg">
                                <span class="block font-bold text-indigo-400 mb-2 uppercase">Pengetahuan</span>
                                Skor tes formatif (10 soal per sesi) dan skor akhir tes sumatif.
                            </div>
                            <div class="border border-slate-700 p-4 rounded-lg">
                                <span class="block font-bold text-indigo-400 mb-2 uppercase">Keterampilan</span>
                                Kecepatan mengidentifikasi Fi'il dalam teks asing tanpa harakat.
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Simulasi Pertemuan 1 -->
            <div class="card p-8">
                <h3 class="text-2xl font-bold text-indigo-900 mb-6 uppercase">Simulasi 1.1: Pemilah Kata</h3>
                <div class="interactive-box">
                    <p class="mb-4 text-slate-600">Klik pada kata-kata di bawah ini yang menurutmu adalah <strong>Fi'il</strong> (berdasarkan ciri-cirinya):</p>
                    <div class="flex flex-wrap gap-3">
                        <button onclick="checkWordSim(this, true)" class="px-4 py-2 border rounded-full hover:bg-indigo-50">قَدْ أَفْلَحَ</button>
                        <button onclick="checkWordSim(this, false)" class="px-4 py-2 border rounded-full hover:bg-indigo-50">الْكِتَابُ</button>
                        <button onclick="checkWordSim(this, true)" class="px-4 py-2 border rounded-full hover:bg-indigo-50">سَيَعْلَمُونَ</button>
                        <button onclick="checkWordSim(this, false)" class="px-4 py-2 border rounded-full hover:bg-indigo-50">مُحَمَّدٌ</button>
                        <button onclick="checkWordSim(this, true)" class="px-4 py-2 border rounded-full hover:bg-indigo-50">قَامَتْ</button>
                        <button onclick="checkWordSim(this, false)" class="px-4 py-2 border rounded-full hover:bg-indigo-50">فِي</button>
                    </div>
                    <p id="sim-1-1-feedback" class="mt-4 font-bold text-indigo-600"></p>
                </div>
            </div>

            <div class="card p-8">
                <h3 class="text-2xl font-bold text-indigo-900 mb-6 uppercase">Simulasi 1.2: Mesin Waktu Fi'il</h3>
                <div class="interactive-box text-center">
                    <p class="mb-6">Pilih "Waktu" yang tepat untuk kata: <span class="arabic text-3xl">سَوْفَ تَعْلَمُونَ</span></p>
                    <div class="grid grid-cols-3 gap-4">
                        <button onclick="checkTimeSim(this, 'salah')" class="p-4 bg-slate-100 rounded-lg">Masa Lalu</button>
                        <button onclick="checkTimeSim(this, 'salah')" class="p-4 bg-slate-100 rounded-lg">Sekarang</button>
                        <button onclick="checkTimeSim(this, 'benar')" class="p-4 bg-slate-100 rounded-lg">Mendatang</button>
                    </div>
                    <p id="sim-1-2-feedback" class="mt-4 font-bold text-indigo-600"></p>
                </div>
            </div>

            <!-- Formatif 1 -->
            <div class="card p-8 bg-slate-50">
                <h3 class="text-2xl font-bold text-slate-800 mb-8 border-b pb-4">Latihan Formatif 1</h3>
                <div id="quiz-p1" class="space-y-8"></div>
            </div>
        </section>

        <!-- Placeholder Sections -->
        <section id="p2" class="tab-content hidden"></section>
        <section id="p3" class="tab-content hidden"></section>
        <section id="p4" class="tab-content hidden"></section>
        <section id="p5" class="tab-content hidden"></section>
        <section id="p6" class="tab-content hidden"></section>
        <section id="p7" class="tab-content hidden"></section>
        <section id="p8" class="tab-content hidden"></section>
        
        <!-- Sumatif -->
        <section id="sumatif" class="tab-content hidden">
            <div class="card p-12 text-center">
                <h2 class="text-3xl font-black text-indigo-900 mb-4 uppercase">Evaluasi Akhir NAH-105</h2>
                <p class="text-slate-500 mb-10">Uji seluruh kemampuanmu mengenai Fi'il Madhi, Mudhari', Amar, dan Tasrif Lughawi.</p>
                <div id="sumatif-container" class="text-left max-w-3xl mx-auto space-y-6"></div>
                <button onclick="processSumatif()" id="sumatif-submit-btn" class="mt-10 bg-indigo-900 text-white px-10 py-4 rounded-full font-bold shadow-lg hover:bg-indigo-800 transition">Selesaikan Tes</button>
                <div id="sumatif-score-card" class="hidden mt-10 p-8 border-4 border-indigo-900 rounded-3xl">
                    <span class="text-6xl font-black" id="score-value">0</span>
                    <p class="text-xl mt-2 font-bold uppercase tracking-widest">Skor Kamu</p>
                    <button onclick="location.reload()" class="mt-6 text-sm underline text-slate-400">Ulangi Modul</button>
                </div>
            </div>
        </section>

    </main>

    <footer class="bg-slate-100 py-12 text-center border-t border-slate-200">
        <p class="text-slate-400 text-sm font-medium">© 2024 Modul Nahwu Interaktif - Standard Perfeksionis Manhaj Salaf</p>
    </footer>

    <script>
        // DATA MANAGEMENT
        const contentData = {
            p2: {
                title: "Fi'il Madhi: Jejak Masa Lalu",
                goals: ["Mengenal bentuk asli Fi'il Madhi (3 huruf/Tsulatsi).", "Memahami hukum Mabni (Tetap) pada Fi'il Madhi.", "Mempraktikkan Tasrif dasar Fi'il Madhi."],
                islam: "Setiap amal yang telah berlalu akan dicatat. Fi'il Madhi mengingatkan kita pada sejarah.",
                dalil: "خَلَقَ الْإِنسَانَ مِنْ عَلَقٍ (QS. Al-Alaq: 2)",
                scenario: "<p>Fi'il Madhi adalah kata kerja yang menunjukkan kejadian di masa lampau. Contoh: <em>Kataba</em> (Telah menulis). Hukum asalnya adalah <strong>Mabni 'alal Fath</strong> (harakat akhirnya tetap fathah).</p><p><strong>Analogi:</strong> Seperti foto yang sudah diambil, kejadiannya sudah tetap dan tidak bisa diubah harakatnya secara sembarang.</p>",
                teacherNote: "Gunakan metode drill (pengulangan) untuk kata 'Fa'ala' sampai santri hafal ritmenya."
            },
            p3: {
                title: "Fi'il Mudhari': Aktivitas Berkelanjutan",
                goals: ["Mengidentifikasi Huruf Mudhara'ah (Anaitu).", "Memahami makna waktu sekarang dan masa depan.", "Mengenal hukum I'rab Fi'il Mudhari' (Rafa')."],
                islam: "Seorang muslim senantiasa beramal (Mudhari') tanpa henti sampai maut menjemput.",
                dalil: "يَعْلَمُ مَا بَيْنَ أَيْدِيهِمْ وَمَا خَلْفَهُمْ (QS. Al-Baqarah: 255)",
                scenario: "<p>Fi'il Mudhari' harus diawali salah satu huruf tambahan: Alif, Nun, Ya, atau Ta (disingkat: اَنَيْتُ). Contoh: <em>Yaktubu</em> (Sedang/Akan menulis).</p>",
                teacherNote: "Jelaskan perbedaan antara 'Ya' (untuk laki-laki) dan 'Ta' (untuk perempuan) secara visual."
            },
            p4: {
                title: "Fi'il Amar: Perintah Penuh Hikmah",
                goals: ["Membentuk Fi'il Amar dari Mudhari'.", "Memahami hukum Mabni pada Fi'il Amar.", "Mengenal adab dalam memberi perintah."],
                islam: "Perintah Allah dalam Al-Qur'an mayoritas menggunakan Fi'il Amar.",
                dalil: "اقْرَأْ بِاسْمِ رَبِّكَ الَّذِي خَلَقَ (QS. Al-Alaq: 1)",
                scenario: "<p>Fi'il Amar digunakan untuk menuntut pekerjaan. Cara membuatnya: Buang huruf Mudhara'ah, sukunkan akhir. Jika sulit dibaca, tambah Alif Wasal.</p>",
                teacherNote: "Praktikkan perintah sederhana di kelas seperti 'Ijlisu' atau 'Qumu'."
            },
            p5: {
                title: "Dhomir & Tasrif: Mengubah Pelaku",
                goals: ["Menghafal 14 Dhomir (Kata Ganti).", "Menghubungkan Dhomir dengan perubahan Fi'il.", "Latihan Tasrif Lughawi dasar."],
                islam: "Keadilan bahasa Arab terlihat dari detailnya penyebutan pelaku (laki-laki/perempuan).",
                dalil: "قَالَ أَنَا خَيْرٌ مِّنْهُ (QS. Al-A'raf: 12)",
                scenario: "<p>Satu kata kerja bisa berubah menjadi 14 bentuk tergantung siapa pelakunya (Dhomir). Ini disebut Tasrif Lughawi.</p>",
                teacherNote: "Gunakan gerakan tangan (isyarat) untuk memudahkan menghafal Dhomir Munfashil."
            },
            p6: {
                title: "Fi'il Shohih & Mu'tal: Mengenal Huruf Penyakit",
                goals: ["Mengenal Huruf 'Illat (Alif, Wawu, Ya).", "Membedakan Fi'il yang sehat dan yang berpenyakit.", "Dampak huruf 'illat pada perubahan kata."],
                islam: "Kesehatan hati lebih utama dari kesehatan fisik. Begitu pula Fi'il yang 'sehat' lebih mudah dipahami.",
                dalil: "قَالَ إِنِّي عَبْدُ اللَّهِ (QS. Maryam: 30)",
                scenario: "<p>Fi'il Shohih tidak mengandung Alif, Wawu, atau Ya. Fi'il Mu'tal mengandung salah satunya. Huruf penyakit ini sering membuat kata berubah secara drastis.</p>",
                teacherNote: "Berikan contoh kata 'Qoola' (Asalnya Qowala) untuk menunjukkan bagaimana huruf Wawu berubah jadi Alif."
            },
            p7: {
                title: "Ladzim & Muta'addi: Butuh Objek?",
                goals: ["Memahami konsep Transitif dan Intransitif.", "Mengenal Maf'ul Bih (Objek).", "Struktur kalimat sempurna (Fi'il + Fa'il + Maf'ul)."],
                islam: "Amal jariyah adalah amal yang 'Muta'addi' (manfaatnya melampaui pelakunya).",
                dalil: "وَعَلَّمَ آدَمَ الْأَسْمَاءَ كُلَّهَا (QS. Al-Baqarah: 31)",
                scenario: "<p>Fi'il Ladzim (Intransitif) tidak butuh objek. Fi'il Muta'addi (Transitif) butuh objek agar kalimatnya dipahami sempurna.</p>",
                teacherNote: "Bandingkan kata 'Duduk' (Ladzim) dengan 'Memukul' (Muta'addi)."
            },
            p8: {
                title: "Mabni Lil Majhul: Kalimat Pasif",
                goals: ["Mengubah Fi'il Aktif (Ma'lum) menjadi Pasif (Majhul).", "Memahami penggunaan kalimat pasif dalam Al-Qur'an.", "Perubahan harakat (Dhamma awal, Kasrah/Fathah sebelum akhir)."],
                islam: "Terkadang pelaku disembunyikan untuk memuliakan atau karena sudah jelas (seperti penciptaan).",
                dalil: "خُلِقَ الْإِنسَانُ ضَعِيفًا (QS. An-Nisa: 28)",
                scenario: "<p>Rumus: <em>Dhumma awwaluhu wa kusira ma qobla akhirih</em> (Didhamma awalnya dan dikasrah sebelum akhirnya) untuk Madhi.</p>",
                teacherNote: "Jelaskan bahwa dalam kalimat pasif, objek berubah posisi menjadi pengganti subjek (Naibul Fa'il)."
            }
        };

        const quizQuestions = {
            p1: [
                {q: "Apa arti Fi'il secara bahasa?", o: ["Nama", "Perbuatan", "Keterangan", "Huruf"], a: 1, e: "Fi'il berasal dari kata fa'ala yang berarti berbuat."},
                {q: "Manakah ciri yang khusus masuk ke Fi'il Mudhari'?", o: ["Ta' Ta'nits", "Tanwin", "Sin (س)", "Alif Lam"], a: 2, e: "Huruf Sin hanya masuk ke Fi'il Mudhari'."},
                {q: "Berapa pembagian waktu dalam Fi'il?", o: ["1", "2", "3", "4"], a: 2, e: "Lampau (Madhi), Sekarang/Mendatang (Mudhari'), dan Tuntutan (Amar)."},
                {q: "Apakah 'Qod' bisa masuk ke Isim?", o: ["Ya", "Tidak", "Hanya jika ada Al", "Kadang-kadang"], a: 1, e: "Qod adalah tanda khusus Fi'il."},
                {q: "Tanda Ta' Ta'nits (تْ) masuk ke...", o: ["Isim", "Fi'il Madhi", "Fi'il Mudhari'", "Fi'il Amar"], a: 1, e: "Ta' sukun di akhir adalah tanda Madhi Muannats."},
                {q: "Contoh Fi'il yang diawali 'Saufa' adalah...", o: ["سَوْفَ تَعْلَمُونَ", "قَدْ قَامَتْ", "الْحَمْدُ", "فِي الْأَرْضِ"], a: 0, e: "Saufa adalah penanda masa depan jauh."},
                {q: "Fi'il tidak mungkin memiliki...", o: ["Fathah", "Sukun", "Tanwin", "Dhamma"], a: 2, e: "Tanwin adalah tanda khusus Isim."},
                {q: "Kata 'Qooma' (قَامَ) termasuk jenis...", o: ["Isim", "Fi'il", "Huruf", "Zharaf"], a: 1, e: "Menunjukkan perbuatan berdiri."},
                {q: "Apa fungsi Sin (س) sebelum Fi'il?", o: ["Masa lalu", "Masa depan dekat", "Penekanan", "Larangan"], a: 1, e: "Sin menunjukkan 'akan' dalam waktu dekat."},
                {q: "Manakah yang bukan tanda Fi'il?", o: ["Qod", "Saufa", "Al (ال)", "Ta' Ta'nits"], a: 2, e: "Alif Lam adalah tanda Isim."}
            ]
        };

        // NAVIGATION LOGIC
        function switchTab(id) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.add('hidden'));
            document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
            document.getElementById(id).classList.remove('hidden');
            document.getElementById('btn-' + id).classList.add('active');
            window.scrollTo(0,0);
        }

        // RENDER MEETINGS
        function renderAll() {
            for (let i = 2; i <= 8; i++) {
                const id = 'p' + i;
                const d = contentData[id];
                const container = document.getElementById(id);
                if(!container) continue;

                container.innerHTML = `
                    <div class="card p-8 md:p-12">
                        <h2 class="text-3xl font-bold text-indigo-900 mb-8 border-b pb-4 uppercase">Pertemuan ${i}: ${d.title}</h2>
                        <div class="space-y-10">
                            <div>
                                <h3 class="font-bold text-indigo-800 uppercase mb-4">A. Tujuan Pembelajaran</h3>
                                <ul class="list-disc ml-6 space-y-2 text-slate-700">${d.goals.map(g => `<li>${g}</li>`).join('')}</ul>
                            </div>
                            <div>
                                <h3 class="font-bold text-indigo-800 uppercase mb-4">B. Keterkaitan Nilai Islam</h3>
                                <div class="bg-indigo-50 p-6 rounded-xl border border-indigo-100">
                                    <p class="italic mb-4 text-slate-600">${d.islam}</p>
                                    <div class="arabic mb-2">${d.dalil.split('(')[0]}</div>
                                    <p class="text-sm font-bold text-indigo-900">(${d.dalil.split('(')[1]}</p>
                                </div>
                            </div>
                            <div>
                                <h3 class="font-bold text-indigo-800 uppercase mb-4">C. Skenario Pembelajaran</h3>
                                <div class="prose max-w-none text-slate-800">${d.scenario}</div>
                                <div class="teacher-note"><strong>Poin Diskusi Guru:</strong> ${d.teacherNote}</div>
                            </div>
                        </div>
                    </div>
                    <div class="card p-8">
                        <h3 class="text-xl font-bold mb-4 uppercase">Simulasi ${i}.1: Tantangan Visual</h3>
                        <div class="interactive-box text-center p-10 bg-slate-50 border-dashed">
                             <p class="text-slate-400 italic font-bold">[Simulasi Visual Interaktif Pertemuan ${i}]</p>
                             <button class="mt-4 px-6 py-2 bg-indigo-100 text-indigo-700 rounded-lg">Mulai Latihan Visual</button>
                        </div>
                    </div>
                    <div class="card p-8 bg-slate-50">
                        <h3 class="text-2xl font-bold text-slate-800 mb-8 border-b pb-4 uppercase">Latihan Formatif ${i}</h3>
                        <div id="quiz-p${i}" class="space-y-8"></div>
                    </div>
                `;
                renderQuiz('p' + i);
            }
        }

        // QUIZ LOGIC
        function renderQuiz(pId) {
            const container = document.getElementById('quiz-' + pId);
            const questions = quizQuestions[pId] || quizQuestions['p1']; // Placeholder for missing data
            
            questions.forEach((q, idx) => {
                const div = document.createElement('div');
                div.innerHTML = `
                    <p class="font-bold text-lg mb-4">${idx+1}. ${q.q}</p>
                    <div class="grid md:grid-cols-2 gap-3">
                        ${q.o.map((opt, oIdx) => `
                            <button class="btn-option" onclick="handleQuiz(this, ${oIdx}, ${q.a}, '${pId}_${idx}')">${opt}</button>
                        `).join('')}
                    </div>
                    <div id="exp-${pId}_${idx}" class="explanation text-sm">
                        <strong class="text-green-700">Penjelasan:</strong> ${q.e}
                    </div>
                `;
                container.appendChild(div);
            });
        }

        function handleQuiz(btn, sel, cor, id) {
            const parent = btn.parentElement;
            const exp = document.getElementById('exp-' + id);
            parent.querySelectorAll('button').forEach(b => b.disabled = true);
            exp.style.display = 'block';
            if(sel === cor) btn.classList.add('correct');
            else {
                btn.classList.add('wrong');
                parent.querySelectorAll('button')[cor].classList.add('correct');
            }
        }

        // SIMULATION FEEDBACK
        function checkWordSim(btn, isCorrect) {
            const fb = document.getElementById('sim-1-1-feedback');
            if(isCorrect) {
                btn.style.backgroundColor = '#dcfce7';
                btn.style.borderColor = '#22c55e';
                fb.innerText = "Benar! Itu adalah Fi'il.";
            } else {
                btn.style.backgroundColor = '#fee2e2';
                btn.style.borderColor = '#ef4444';
                fb.innerText = "Bukan, itu adalah Isim/Huruf.";
            }
        }

        function checkTimeSim(btn, type) {
            const fb = document.getElementById('sim-1-2-feedback');
            if(type === 'benar') {
                fb.innerText = "Tepat sekali! 'Saufa' menunjukkan masa depan.";
                fb.style.color = "green";
            } else {
                fb.innerText = "Coba lagi. Perhatikan kata 'Saufa'.";
                fb.style.color = "red";
            }
        }

        // SUMATIF LOGIC
        function renderSumatif() {
            const container = document.getElementById('sumatif-container');
            for(let i=1; i<=8; i++) {
                const q = quizQuestions['p' + i] ? quizQuestions['p' + i][0] : quizQuestions['p1'][i-1];
                const div = document.createElement('div');
                div.className = "p-6 bg-white border-2 rounded-2xl shadow-sm";
                div.innerHTML = `
                    <p class="font-bold mb-4">Soal P-${i}: ${q.q}</p>
                    <select class="sumatif-input w-full p-3 bg-slate-50 border rounded-lg" data-ans="${q.a}">
                        <option value="">Pilih jawaban...</option>
                        ${q.o.map((o, idx) => `<option value="${idx}">${o}</option>`).join('')}
                    </select>
                `;
                container.appendChild(div);
            }
        }

        function processSumatif() {
            const inputs = document.querySelectorAll('.sumatif-input');
            let score = 0;
            inputs.forEach(input => {
                if(input.value == input.getAttribute('data-ans')) score++;
            });
            const final = Math.round((score / inputs.length) * 100);
            document.getElementById('score-value').innerText = final;
            document.getElementById('sumatif-score-card').classList.remove('hidden');
            document.getElementById('sumatif-submit-btn').classList.add('hidden');
        }

        // INITIALIZE
        window.onload = () => {
            renderAll();
            renderQuiz('p1');
            renderSumatif();
        };

    </script>
</body>
</html>