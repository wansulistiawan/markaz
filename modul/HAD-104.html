<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modul HAD-104: Hadits Arba'in #16-20</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    'maroon-dark': '#5c2b29', // Dark Maroon
                    'maroon-darker': '#4c2220', // Very Dark Maroon
                    'maroon-light': '#f5eadd', // Parchment/Cream
                    'maroon-accent': '#a34a44', // Accent Maroon
                    'maroon-accent-hover': '#8a3f3a',
                    'maroon-secondary': '#a0aec0', // Medium Gray for text
                    'correct': '#48bb78',
                    'incorrect': '#f56565',
                },
                fontFamily: {
                    'sans': ['Inter', 'sans-serif'],
                    'arabic': ['"Scheherazade New"', 'serif']
                }
            }
        }
    }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Scheherazade+New:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #4c2220;
            color: #f5eadd;
        }
        .arabic, .arabic-text {
            font-family: 'Scheherazade New', serif;
            font-size: 1.5rem;
            line-height: 2.5rem;
            direction: rtl;
        }
        .tab-btn.active {
            background-color: #a34a44;
            color: #f5eadd;
            font-weight: 600;
        }
        .teacher-note {
            background-color: rgba(163, 74, 68, 0.1);
            border-left: 4px solid #a34a44;
            padding: 1rem;
            margin: 1.5rem 0;
            border-radius: 0 0.5rem 0.5rem 0;
        }
        .simulation-card, .quiz-card {
            background-color: #5c2b29;
            border: 1px solid #7a3e3a;
        }
        .draggable {
            cursor: move;
            user-select: none;
        }
        .drop-zone {
            transition: background-color 0.3s ease;
        }
        .drop-zone.drag-over {
            background-color: #7a3e3a;
        }
    </style>
</head>
<body>

    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
        
        <header class="text-center mb-8 border-b-2 border-maroon-accent pb-4">
            <h1 class="text-3xl md:text-4xl font-bold text-white">Modul Pengkajian Hadits Arba'in An-Nawawiyyah</h1>
            <p class="text-xl text-maroon-accent font-semibold mt-1">HAD-104: Hafalan & Makna Hadits #16-20</p>
        </header>

        <nav class="flex flex-wrap justify-center mb-8 gap-2">
            <button class="tab-btn active w-full sm:w-auto text-white py-2 px-4 rounded-md transition duration-300 ease-in-out hover:bg-maroon-accent-hover" data-tab="pertemuan1">Pertemuan 1</button>
            <button class="tab-btn w-full sm:w-auto text-white py-2 px-4 rounded-md transition duration-300 ease-in-out hover:bg-maroon-accent-hover" data-tab="pertemuan2">Pertemuan 2</button>
            <button class="tab-btn w-full sm:w-auto text-white py-2 px-4 rounded-md transition duration-300 ease-in-out hover:bg-maroon-accent-hover" data-tab="pertemuan3">Pertemuan 3</button>
            <button class="tab-btn w-full sm:w-auto text-white py-2 px-4 rounded-md transition duration-300 ease-in-out hover:bg-maroon-accent-hover" data-tab="pertemuan4">Pertemuan 4</button>
            <button class="tab-btn w-full sm:w-auto text-white py-2 px-4 rounded-md transition duration-300 ease-in-out bg-red-700 hover:bg-red-600" data-tab="tesSumatif">Tes Sumatif</button>
        </nav>

        <main id="tab-content">
            <!-- =================================================================== -->
            <!-- ==================== KONTEN PERTEMUAN 1 =========================== -->
            <!-- =================================================================== -->
            <div id="pertemuan1" class="tab-pane active space-y-8">
                <div class="p-6 bg-maroon-darker rounded-lg shadow-lg">
                    <h2 class="text-2xl font-bold text-maroon-accent mb-1">Pertemuan 1: Hadits #16 - Jangan Marah</h2>
                    <p class="mb-6 text-maroon-secondary">Mengkaji wasiat Rasulullah ﷺ yang singkat namun mencakup seluruh kebaikan.</p>

                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-maroon-accent pl-3">A. Tujuan Pembelajaran</h3>
                        <ul class="list-disc list-inside space-y-2 pl-2">
                            <li>Santri mampu menghafal matan dan terjemahan Hadits ke-16 Arba'in Nawawi.</li>
                            <li>Santri mampu menjelaskan makna wasiat "Jangan Marah" dan keutamaannya.</li>
                            <li>Santri mampu menyebutkan minimal 3 dampak buruk dari sifat marah.</li>
                            <li>Santri mampu menjelaskan minimal 3 cara meredam amarah sesuai sunnah.</li>
                            <li>Santri memahami bahwa kekuatan sejati adalah kemampuan mengendalikan diri.</li>
                        </ul>
                    </div>

                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-maroon-accent pl-3">B. Keterkaitan Nilai Islam</h3>
                        <p class="mb-4">Sifat marah adalah bara api dari setan yang dilemparkan ke dalam hati manusia. Jika tidak dikendalikan, ia dapat membakar habis kebaikan dan merusak hubungan. Islam mengajarkan pengendalian diri (<i class="arabic">ضبط النفس</i>) sebagai puncak dari kekuatan. Wasiat Nabi ﷺ untuk tidak marah adalah jalan menuju surga karena dengan menahan amarah, seseorang akan terhindar dari berkata atau berbuat zalim, memutuskan silaturahmi, dan melakukan dosa-dosa lainnya. Ini adalah wujud nyata dari ketakwaan, yaitu menjaga diri dari murka Allah dengan cara mengendalikan murka dalam diri.</p>
                        <div class="p-4 bg-gray-900 rounded-lg text-center">
                            <p class="arabic text-2xl text-white">وَالْكَاظِمِينَ الْغَيْظَ وَالْعَافِينَ عَنِ النَّاسِ ۗ وَاللَّهُ يُحِبُّ الْمُحْسِنِينَ</p>
                            <p class="mt-2 text-maroon-light">"...dan orang-orang yang menahan amarahnya dan memaafkan (kesalahan) orang. Allah menyukai orang-orang yang berbuat kebajikan."</p>
                            <p class="text-sm text-maroon-accent mt-1">(QS. Ali 'Imran: 134)</p>
                        </div>
                    </div>

                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-maroon-accent pl-3">C. Skenario Pembelajaran (Durasi: 90 Menit)</h3>
                        <div class="space-y-6">
                            <div>
                                <h4 class="font-semibold text-lg text-gray-200">1. Matan Hadits & Makna Global (30 Menit)</h4>
                                <p class="arabic text-center">عَنْ أَبِي هُرَيْرَةَ رَضِيَ اللهُ عَنْهُ أَنَّ رَجُلاً قَالَ لِلنَّبِيِّ صلى الله عليه وسلم: أَوْصِنِي، قَالَ: لاَ تَغْضَبْ فَرَدَّدَ مِرَاراً، قَالَ: لاَ تَغْضَبْ</p>
                                <p class="italic">Dari Abu Hurairah radhiyallahu 'anhu, bahwa seorang laki-laki berkata kepada Nabi ﷺ, "Berilah aku wasiat." Beliau bersabda, "Janganlah engkau marah." Orang itu mengulang permintaannya beberapa kali, dan beliau tetap bersabda, "Janganlah engkau marah." (HR. Bukhari)</p>
                                <p class="mt-2">Wasiat ini diulang-ulang menunjukkan betapa pentingnya ia. "Jangan marah" mencakup dua makna: 1) Jangan mudah tersulut amarah, dan 2) Jika terlanjur marah, jangan lampiaskan amarahmu.</p>
                            </div>
                            
                            <div>
                                <h4 class="font-semibold text-lg text-gray-200">2. Fawaid Hadits: Bahaya & Terapi Marah (45 Menit)</h4>
                                <p><strong class="text-maroon-accent">Bahaya Marah:</strong></p>
                                <ul class="list-disc list-inside pl-4">
                                    <li>Merusak iman, seperti cuka merusak madu.</li>
                                    <li>Membuka pintu bagi setan untuk mengendalikan manusia.</li>
                                    <li>Menyebabkan permusuhan dan rusaknya hubungan sosial.</li>
                                    <li>Dapat berujung pada kekerasan fisik atau lisan.</li>
                                </ul>
                                <p class="mt-2"><strong class="text-maroon-accent">Terapi Marah Sesuai Sunnah:</strong></p>
                                <ol class="list-decimal list-inside pl-4">
                                    <li>Membaca ta'awudz: <i class="arabic">أعوذ بالله من الشيطان الرجيم</i>.</li>
                                    <li>Mengubah posisi: Jika sedang berdiri, maka duduk. Jika duduk, maka berbaring.</li>
                                    <li>Diam: Tidak melanjutkan pembicaraan.</li>
                                    <li>Berwudhu: Karena marah dari api, dan api dipadamkan dengan air.</li>
                                </ol>
                                <div class="teacher-note">
                                    <p class="font-bold">Poin Diskusi Guru:</p>
                                    <p>Tanyakan, "Apakah semua marah itu tercela? Kapan marah itu dibolehkan atau bahkan dianjurkan?" Arahkan diskusi pada marah yang terpuji, yaitu marah karena Allah, ketika syariat-Nya dilanggar. Contohnya, marahnya Nabi ﷺ ketika melihat ada pelanggaran terhadap hukum Allah.</p>
                                </div>
                            </div>

                            <div>
                                <h4 class="font-semibold text-lg text-gray-200">3. Rangkuman & Penutup (15 Menit)</h4>
                                <p>Ulas kembali wasiat "Jangan Marah" dan pentingnya mengendalikan diri. Tekankan bahwa hadits ini adalah kunci untuk meraih banyak kebaikan dan menutup banyak pintu keburukan.</p>
                            </div>
                        </div>
                    </div>

                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-maroon-accent pl-3">D. Penilaian Modul</h3>
                        <p class="mb-4">Penilaian selama pembelajaran modul ini mencakup tiga aspek utama untuk memastikan pemahaman yang holistik:</p>
                        <div class="grid md:grid-cols-3 gap-4">
                            <div class="p-4 bg-gray-900 rounded"><h4 class="font-semibold text-maroon-accent">1. Sikap / Adab (20%)</h4><p class="text-sm">Meliputi hafalan hadits, adab dalam mengkaji wasiat Nabi, dan semangat untuk mempraktikkan pengendalian diri.</p></div>
                            <div class="p-4 bg-gray-900 rounded"><h4 class="font-semibold text-maroon-accent">2. Pengetahuan (50%)</h4><p class="text-sm">Diukur dari hasil Latihan Formatif di setiap pertemuan dan hasil Tes Sumatif di akhir modul. Ini menunjukkan penguasaan makna dan fawaid hadits.</p></div>
                            <div class="p-4 bg-gray-900 rounded"><h4 class="font-semibold text-maroon-accent">3. Keterampilan (30%)</h4><p class="text-sm">Dinilai dari partisipasi aktif dalam simulasi, kemampuan menganalisis studi kasus, dan kemampuan menjelaskan kembali isi hadits secara lisan.</p></div>
                        </div>
                    </div>
                </div>

                <div class="p-6 simulation-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Simulasi Interaktif</h3>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h4 class="font-semibold text-maroon-accent mb-2">Simulasi 1: Termometer Amarah</h4>
                            <p class="text-sm mb-4">Baca skenario, lalu pilih tindakan pertama yang paling tepat untuk meredam amarah sesuai sunnah.</p>
                            <div class="bg-gray-800 p-4 rounded-md">
                                <p class="mb-3 text-sm italic">"Saat sedang berdiri berdiskusi, temanmu tiba-tiba memotong pembicaraan dan menyalahkanmu dengan keras."</p>
                                <div id="sim1-options" class="space-y-2">
                                    <button class="sim1-option w-full p-2 bg-gray-700 hover:bg-gray-600 rounded">Membalas dengan lebih keras</button>
                                    <button class="sim1-option w-full p-2 bg-gray-700 hover:bg-gray-600 rounded">Membaca ta'awudz lalu duduk</button>
                                    <button class="sim1-option w-full p-2 bg-gray-700 hover:bg-gray-600 rounded">Langsung pergi tanpa bicara</button>
                                    <button class="sim1-option w-full p-2 bg-gray-700 hover:bg-gray-600 rounded">Mengambil air wudhu</button>
                                </div>
                                <p id="sim1-feedback" class="text-center mt-3 font-bold h-5"></p>
                            </div>
                        </div>
                        
                        <div>
                             <h4 class="font-semibold text-maroon-accent mb-2">Simulasi 2: Kolektor Kebaikan</h4>
                            <p class="text-sm mb-4">Mana di antara tindakan ini yang merupakan buah dari menahan amarah?</p>
                            <div id="sim2-container" class="grid grid-cols-2 gap-3">
                                <div class="sim2-buah p-3 text-center rounded cursor-pointer bg-gray-700 hover:bg-gray-600" data-benar="true">Memaafkan Kesalahan</div>
                                <div class="sim2-buah p-3 text-center rounded cursor-pointer bg-gray-700 hover:bg-gray-600" data-benar="false">Menyimpan Dendam</div>
                                <div class="sim2-buah p-3 text-center rounded cursor-pointer bg-gray-700 hover:bg-gray-600" data-benar="true">Menjaga Silaturahmi</div>
                                <div class="sim2-buah p-3 text-center rounded cursor-pointer bg-gray-700 hover:bg-gray-600" data-benar="true">Berbicara Baik</div>
                                <div class="sim2-buah p-3 text-center rounded cursor-pointer bg-gray-700 hover:bg-gray-600" data-benar="false">Mengumpat</div>
                                <div class="sim2-buah p-3 text-center rounded cursor-pointer bg-gray-700 hover:bg-gray-600" data-benar="true">Sabar</div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="p-6 quiz-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Latihan Formatif Pertemuan 1</h3>
                    <div id="quiz1" class="space-y-6"></div>
                </div>
            </div>

            <!-- =================================================================== -->
            <!-- ==================== KONTEN PERTEMUAN 2 =========================== -->
            <!-- =================================================================== -->
            <div id="pertemuan2" class="tab-pane hidden space-y-8">
                <div class="p-6 bg-maroon-darker rounded-lg shadow-lg">
                    <h2 class="text-2xl font-bold text-maroon-accent mb-1">Pertemuan 2: Hadits #17 - Perintah Berbuat Ihsan</h2>
                    <p class="mb-6 text-maroon-secondary">Memahami kewajiban berbuat baik (ihsan) dalam segala hal.</p>
                     
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-maroon-accent pl-3">A. Tujuan Pembelajaran</h3>
                        <ul class="list-disc list-inside space-y-2 pl-2">
                           <li>Santri mampu menghafal matan dan terjemahan Hadits ke-17 Arba'in Nawawi.</li>
                           <li>Santri mampu menjelaskan makna Ihsan.</li>
                           <li>Santri mampu membedakan dan memberi contoh Ihsan dalam ibadah kepada Allah dan Ihsan kepada makhluk.</li>
                           <li>Santri mampu menjelaskan penerapan Ihsan dalam menyembelih hewan.</li>
                           <li>Santri memahami bahwa Islam adalah agama rahmat bagi seluruh alam.</li>
                        </ul>
                    </div>

                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-maroon-accent pl-3">B. Keterkaitan Nilai Islam</h3>
                        <p class="mb-4">Ihsan adalah tingkatan tertinggi dalam beragama, setelah Islam dan Iman. Maknanya adalah melakukan segala sesuatu dengan cara terbaik, sempurna, dan profesional, seolah-olah kita melihat Allah, atau setidaknya merasa diawasi oleh-Nya. Prinsip ini tidak hanya berlaku dalam ibadah ritual seperti shalat, tetapi dalam seluruh aspek kehidupan, termasuk dalam berinteraksi dengan sesama manusia, hewan, dan bahkan lingkungan. Hadits ini menanamkan nilai profesionalisme dan 'total quality management' dalam jiwa seorang muslim, bahwa setiap amalnya harus dilakukan dengan standar tertinggi karena dipersembahkan untuk Allah.</p>
                        <div class="p-4 bg-gray-900 rounded-lg text-center">
                            <p class="arabic-text">إِنَّ اللَّهَ يَأْمُرُ بِالْعَدْلِ وَالْإِحْسَانِ</p>
                            <p class="mt-2 text-maroon-light">"Sesungguhnya Allah menyuruh (kamu) berlaku adil dan berbuat kebajikan (Ihsan)..."</p>
                            <p class="text-sm text-maroon-accent mt-1">(QS. An-Nahl: 90)</p>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-maroon-accent pl-3">C. Skenario Pembelajaran (Durasi: 90 Menit)</h3>
                         <div class="space-y-6">
                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">1. Matan Hadits & Makna Global (30 Menit)</h4>
                               <p class="arabic text-center">عَنْ أَبِي يَعْلَى شَدَّادِ بْنِ أَوْسٍ رَضِيَ اللهُ عَنْهُ عَنْ رَسُولِ اللهِ صلى الله عليه وسلم قَالَ: إِنَّ اللهَ كَتَبَ الْإِحْسَانَ عَلَى كُلِّ شَيْءٍ، فَإِذَا قَتَلْتُمْ فَأَحْسِنُوا الْقِتْلَةَ، وَإِذَا ذَبَحْتُمْ فَأَحْسِنُوا الذِّبْحَةَ، وَلْيُحِدَّ أَحَدُكُمْ شَفْرَتَهُ، وَلْيُرِحْ ذَبِيحَتَهُ</p>
                               <p class="italic">Dari Abu Ya'la Syaddad bin Aus radhiyallahu 'anhu, dari Rasulullah ﷺ, beliau bersabda, "Sesungguhnya Allah telah mewajibkan berlaku ihsan atas segala sesuatu. Jika kalian membunuh (dalam qishash/jihad), maka berlakulah ihsan dalam cara membunuh. Jika kalian menyembelih, maka berlakulah ihsan dalam cara menyembelih, yaitu hendaklah salah seorang dari kalian menajamkan pisaunya dan menenangkan sembelihannya." (HR. Muslim)</p>
                            </div>
                            
                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">2. Fawaid Hadits: Cakupan Ihsan (45 Menit)</h4>
                               <p>Hadits ini menunjukkan betapa luasnya cakupan Ihsan:</p>
                               <ul class="list-disc list-inside mt-2 pl-4 space-y-3">
                                   <li><strong>Ihsan kepada Allah:</strong> Beribadah dengan cara terbaik, khusyu', dan ikhlas.</li>
                                   <li><strong>Ihsan kepada Manusia:</strong> Berbakti kepada orang tua, berakhlak mulia kepada tetangga, jujur dalam berdagang.</li>
                                   <li><strong>Ihsan kepada Hewan:</strong> Memberi makan jika ia lapar, tidak menyiksanya, dan menyembelihnya dengan cara yang paling baik (tidak menyakiti).</li>
                               </ul>
                               <p>Contoh ihsan dalam menyembelih adalah: menggunakan pisau yang sangat tajam, tidak menajamkan pisau di hadapan hewan, dan membaringkannya dengan baik. Jika dalam menyembelih saja kita diperintahkan berbuat ihsan, apalagi dalam perkara lainnya.</p>
                               <div class="teacher-note">
                                   <p class="font-bold">Poin Diskusi Guru:</p>
                                   <p>Minta santri memberikan contoh-contoh lain penerapan ihsan dalam kehidupan sehari-hari. Contoh: Ihsan seorang santri dalam belajar? (Belajar dengan sungguh-sungguh). Ihsan seorang anak kepada orang tua? (Berkata lembut dan membantu). Ihsan dalam menjaga kebersihan? (Membuang sampah pada tempatnya).</p>
                               </div>
                            </div>

                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">3. Rangkuman (15 Menit)</h4>
                               <p>Ulas kembali makna Ihsan sebagai kewajiban untuk melakukan yang terbaik dalam segala hal. Tekankan bahwa Islam adalah agama yang penuh kasih sayang bahkan kepada hewan sekalipun.</p>
                            </div>
                         </div>
                    </div>
                </div>

                <div class="p-6 simulation-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Simulasi Interaktif</h3>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h4 class="font-semibold text-maroon-accent mb-2">Simulasi 1: Klasifikasi Perbuatan Ihsan</h4>
                            <p class="text-sm mb-4">Seret setiap perbuatan ke dalam kategori yang tepat: Ihsan kepada Allah atau Ihsan kepada Makhluk.</p>
                             <div id="sim3-source" class="space-y-2 mb-3 p-2 bg-gray-900 rounded min-h-[40px]">
                               <div class="draggable p-2 bg-gray-600 rounded text-xs" draggable="true" data-type="makhluk">Memberi makan kucing</div>
                               <div class="draggable p-2 bg-gray-600 rounded text-xs" draggable="true" data-type="allah">Shalat dengan khusyu'</div>
                               <div class="draggable p-2 bg-gray-600 rounded text-xs" draggable="true" data-type="makhluk">Menolong teman</div>
                               <div class="draggable p-2 bg-gray-600 rounded text-xs" draggable="true" data-type="allah">Membaca Al-Qur'an dengan tartil</div>
                            </div>
                             <div class="grid grid-cols-2 gap-4">
                                <div class="drop-zone p-2 border-2 border-dashed border-sky-400 rounded-lg min-h-[80px]" data-target="allah"><p class="text-center font-bold text-sky-400 text-sm">Kepada Allah</p></div>
                                <div class="drop-zone p-2 border-2 border-dashed border-green-400 rounded-lg min-h-[80px]" data-target="makhluk"><p class="text-center font-bold text-green-400 text-sm">Kepada Makhluk</p></div>
                            </div>
                        </div>
                        
                        <div>
                             <h4 class="font-semibold text-maroon-accent mb-2">Simulasi 2: Prosedur Sembelih Ihsan</h4>
                            <p class="text-sm mb-4">Centang langkah-langkah yang menunjukkan perbuatan Ihsan dalam menyembelih.</p>
                             <div class="bg-gray-800 p-4 rounded-md space-y-3" id="sim4-container">
                                <label class="block p-2 bg-gray-700 rounded cursor-pointer hover:bg-gray-600"><input type="checkbox" data-ihsan="true" class="mr-2"> Menajamkan pisau setajam mungkin.</label>
                                <label class="block p-2 bg-gray-700 rounded cursor-pointer hover:bg-gray-600"><input type="checkbox" data-ihsan="false" class="mr-2"> Menggunakan pisau yang tumpul.</label>
                                <label class="block p-2 bg-gray-700 rounded cursor-pointer hover:bg-gray-600"><input type="checkbox" data-ihsan="true" class="mr-2"> Tidak mengasah pisau di depan hewan.</label>
                                <label class="block p-2 bg-gray-700 rounded cursor-pointer hover:bg-gray-600"><input type="checkbox" data-ihsan="true" class="mr-2"> Membaringkan hewan dengan baik.</label>
                                <label class="block p-2 bg-gray-700 rounded cursor-pointer hover:bg-gray-600"><input type="checkbox" data-ihsan="false" class="mr-2"> Menyembelih perlahan-lahan.</label>
                             </div>
                        </div>
                    </div>
                </div>

                <div class="p-6 quiz-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Latihan Formatif Pertemuan 2</h3>
                    <div id="quiz2" class="space-y-6"></div>
                </div>
            </div>
            
            <!-- =================================================================== -->
            <!-- ==================== KONTEN PERTEMUAN 3 =========================== -->
            <!-- =================================================================== -->
            <div id="pertemuan3" class="tab-pane hidden space-y-8">
                <div class="p-6 bg-maroon-darker rounded-lg shadow-lg">
                    <h2 class="text-2xl font-bold text-maroon-accent mb-1">Pertemuan 3: Hadits #18 - Takwa & Akhlak Mulia</h2>
                    <p class="mb-6 text-maroon-secondary">Mengkaji wasiat emas untuk memadukan hubungan baik dengan Allah dan manusia.</p>
                     
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-maroon-accent pl-3">A. Tujuan Pembelajaran</h3>
                        <ul class="list-disc list-inside space-y-2 pl-2">
                           <li>Santri mampu menghafal matan dan terjemahan Hadits ke-18 Arba'in Nawawi.</li>
                           <li>Santri mampu menjelaskan makna takwa, mengikuti keburukan dengan kebaikan, dan akhlak yang baik.</li>
                           <li>Santri memahami bahwa takwa adalah pondasi utama seorang muslim.</li>
                           <li>Santri memahami bahwa salah satu cara menghapus dosa kecil adalah dengan amal kebaikan.</li>
                           <li>Santri termotivasi untuk senantiasa memperbaiki akhlaknya kepada sesama.</li>
                        </ul>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-maroon-accent pl-3">B. Keterkaitan Nilai Islam</h3>
                        <p class="mb-4">Hadits ini merangkum dua pilar utama kesalehan: hubungan baik dengan Allah (<i class="arabic">حسن العلاقة مع الله</i>) dan hubungan baik dengan sesama manusia (<i class="arabic">حسن العلاقة مع الناس</i>). Takwa adalah representasi dari hubungan vertikal kita dengan Allah, yaitu dengan menjalankan perintah-Nya dan menjauhi larangan-Nya di manapun kita berada. Sementara itu, akhlak yang mulia adalah representasi dari hubungan horizontal kita dengan sesama makhluk. Islam mengajarkan bahwa kesempurnaan iman seseorang tercermin dari akhlaknya. Keduanya tidak dapat dipisahkan; orang yang benar-benar bertakwa pasti akan berakhlak mulia.</p>
                        <div class="p-4 bg-gray-900 rounded-lg text-center">
                            <p class="arabic-text">إِنَّ أَكْرَمَكُمْ عِنْدَ اللَّهِ أَتْقَاكُمْ</p>
                            <p class="mt-2 text-maroon-light">"Sesungguhnya orang yang paling mulia di antara kamu di sisi Allah ialah orang yang paling takwa di antara kamu."</p>
                            <p class="text-sm text-maroon-accent mt-1">(QS. Al-Hujurat: 13)</p>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-maroon-accent pl-3">C. Skenario Pembelajaran (Durasi: 90 Menit)</h3>
                         <div class="space-y-6">
                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">1. Matan Hadits & Makna Global (30 Menit)</h4>
                               <p class="arabic text-center">عَنْ أَبِي ذَرٍّ جُنْدُبِ بْنِ جُنَادَةَ وَأَبِي عَبْدِ الرَّحْمَنِ مُعَاذِ بْنِ جَبَلٍ رَضِيَ اللهُ عَنْهُمَا عَنْ رَسُولِ اللهِ صلى الله عليه وسلم قَالَ: اِتَّقِ اللهَ حَيْثُمَا كُنْتَ، وَأَتْبِعِ السَّيِّئَةَ الْحَسَنَةَ تَمْحُهَا، وَخَالِقِ النَّاسَ بِخُلُقٍ حَسَنٍ</p>
                               <p class="italic">Dari Abu Dzarr Jundub bin Junadah dan Abu 'Abdirrahman Mu'adz bin Jabal radhiyallahu 'anhuma, dari Rasulullah ﷺ, beliau bersabda, "Bertakwalah kepada Allah di mana pun engkau berada. Iringilah perbuatan buruk dengan perbuatan baik, niscaya ia akan menghapusnya. Dan pergaulilah manusia dengan akhlak yang baik." (HR. Tirmidzi)</p>
                            </div>
                            
                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">2. Tiga Wasiat Emas (45 Menit)</h4>
                               <p>Hadits ini berisi tiga wasiat agung:</p>
                               <ol class="list-decimal list-inside mt-2 pl-4 space-y-3">
                                   <li><strong>Takwa di mana saja:</strong> Menjaga ketaatan kepada Allah baik saat ramai maupun saat sendiri. Ini adalah inti dari ihsan dan muraqabah (merasa diawasi Allah).</li>
                                   <li><strong>Obat dari Dosa:</strong> Manusia tidak luput dari kesalahan. Jika terjerumus dalam dosa (terutama dosa kecil), obatnya adalah segera bertaubat dan mengiringinya dengan amal kebaikan seperti shalat, sedekah, atau istighfar. Kebaikan akan menghapus keburukan.</li>
                                   <li><strong>Akhlak Mulia:</strong> Setelah memperbaiki hubungan dengan Allah, perbaiki hubungan dengan manusia. Akhlak mulia mencakup wajah yang berseri, tutur kata yang baik, menahan gangguan, dan suka menolong.</li>
                               </ol>
                               <div class="teacher-note">
                                   <p class="font-bold">Poin Diskusi Guru:</p>
                                   <p>Tanyakan, "Mengapa wasiat takwa disebutkan pertama kali?" Arahkan diskusi pada kesimpulan bahwa takwa adalah pondasi. Tanpa takwa, akhlak baik bisa jadi hanya pencitraan. Namun, jika takwa seseorang benar, pasti akan membuahkan akhlak yang mulia.</p>
                               </div>
                            </div>

                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">3. Rangkuman (15 Menit)</h4>
                               <p>Ulas kembali tiga wasiat: Takwa kepada Allah, menghapus dosa dengan kebaikan, dan berakhlak mulia kepada manusia. Tekankan bahwa ketiganya adalah satu paket kesalehan yang utuh.</p>
                            </div>
                         </div>
                    </div>
                </div>
                
                <div class="p-6 simulation-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Simulasi Interaktif</h3>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h4 class="font-semibold text-maroon-accent mb-2">Simulasi 1: Penghapus Dosa</h4>
                            <p class="text-sm mb-4">Anda tidak sengaja berghibah (dosa kecil). Pilih amal kebaikan yang paling tepat untuk segera menghapusnya.</p>
                            <div id="sim5-options" class="grid grid-cols-2 gap-2">
                               <button class="sim5-option w-full p-3 bg-gray-700 hover:bg-gray-600 rounded">Istighfar & Mendoakan Kebaikan untuknya</button>
                               <button class="sim5-option w-full p-3 bg-gray-700 hover:bg-gray-600 rounded">Tidur Siang</button>
                               <button class="sim5-option w-full p-3 bg-gray-700 hover:bg-gray-600 rounded">Bersedekah</button>
                               <button class="sim5-option w-full p-3 bg-gray-700 hover:bg-gray-600 rounded">Makan Enak</button>
                            </div>
                            <p id="sim5-feedback" class="text-center mt-3 font-bold h-5"></p>
                        </div>
                        
                        <div>
                            <h4 class="font-semibold text-maroon-accent mb-2">Simulasi 2: Timbangan Akhlak</h4>
                            <p class="text-sm mb-4">Seret setiap sifat ke timbangan yang sesuai: Akhlak Baik atau Akhlak Buruk.</p>
                             <div id="sim6-source" class="flex flex-wrap gap-2 mb-3 p-2 bg-gray-900 rounded justify-center">
                               <div class="draggable p-2 bg-gray-600 rounded text-xs" draggable="true" data-type="baik">Jujur</div>
                               <div class="draggable p-2 bg-gray-600 rounded text-xs" draggable="true" data-type="buruk">Dengki</div>
                               <div class="draggable p-2 bg-gray-600 rounded text-xs" draggable="true" data-type="baik">Dermawan</div>
                               <div class="draggable p-2 bg-gray-600 rounded text-xs" draggable="true" data-type="buruk">Sombong</div>
                            </div>
                             <div class="grid grid-cols-2 gap-4">
                                <div class="drop-zone p-2 border-2 border-dashed border-correct rounded-lg min-h-[80px]" data-target="baik"><p class="text-center font-bold text-correct text-sm">Akhlak Baik</p></div>
                                <div class="drop-zone p-2 border-2 border-dashed border-incorrect rounded-lg min-h-[80px]" data-target="buruk"><p class="text-center font-bold text-incorrect text-sm">Akhlak Buruk</p></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="p-6 quiz-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Latihan Formatif Pertemuan 3</h3>
                    <div id="quiz3" class="space-y-6"></div>
                </div>
            </div>

            <!-- =================================================================== -->
            <!-- ==================== KONTEN PERTEMUAN 4 =========================== -->
            <!-- =================================================================== -->
            <div id="pertemuan4" class="tab-pane hidden space-y-8">
                <div class="p-6 bg-maroon-darker rounded-lg shadow-lg">
                    <h2 class="text-2xl font-bold text-maroon-accent mb-1">Pertemuan 4: Hadits #19 & #20 - Penjagaan Allah & Rasa Malu</h2>
                    <p class="mb-6 text-maroon-secondary">Mengkaji dua hadits tentang hubungan hamba dengan Rabb-nya dan pentingnya sifat malu.</p>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-maroon-accent pl-3">A. Tujuan Pembelajaran</h3>
                        <ul class="list-disc list-inside space-y-2 pl-2">
                           <li>Santri mampu menghafal matan Hadits ke-19 dan ke-20 Arba'in Nawawi.</li>
                           <li>Santri mampu menjelaskan makna "Jagalah Allah, niscaya Allah menjagamu".</li>
                           <li>Santri memahami konsep tawakal dan hanya meminta pertolongan kepada Allah.</li>
                           <li>Santri mampu menjelaskan makna hadits tentang rasa malu.</li>
                           <li>Santri mampu membedakan antara malu yang terpuji dan malu yang tercela.</li>
                        </ul>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-maroon-accent pl-3">B. Keterkaitan Nilai Islam</h3>
                        <p class="mb-4">Dua hadits ini menyempurnakan konsep hubungan seorang hamba dengan Tuhannya. Hadits ke-19 menanamkan keyakinan (<i class="arabic">اليقين</i>) dan tawakal (<i class="arabic">التوكل</i>) yang murni, bahwa satu-satunya penjaga dan penolong hakiki adalah Allah. Ini membebaskan hati dari ketergantungan kepada makhluk. Sementara itu, hadits ke-20 menjelaskan tentang rasa malu (<i class="arabic">الحياء</i>) sebagai pengendali internal. Rasa malu kepada Allah akan mencegah seseorang dari berbuat maksiat. Jika kedua sifat ini—tawakal dan rasa malu—tertanam kuat, maka seorang hamba akan berjalan di muka bumi dengan penuh kemuliaan dan penjagaan dari Allah.</p>
                        <div class="p-4 bg-gray-900 rounded-lg text-center">
                            <p class="arabic-text">الْحَيَاءُ لاَ يَأْتِي إِلاَّ بِخَيْرٍ</p>
                            <p class="mt-2 text-maroon-light">"Rasa malu itu tidak mendatangkan kecuali kebaikan."</p>
                            <p class="text-sm text-maroon-accent mt-1">(HR. Bukhari dan Muslim)</p>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-maroon-accent pl-3">C. Skenario Pembelajaran (Durasi: 90 Menit)</h3>
                         <div class="space-y-6">
                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">1. Hadits #19: Penjagaan Allah (40 Menit)</h4>
                               <p class="arabic text-center">عَنِ ابْنِ عَبَّاسٍ رَضِيَ اللهُ عَنْهُمَا قَالَ: كُنْتُ خَلْفَ النَّبِيِّ صلى الله عليه وسلم يَوْماً فَقَالَ: يَا غُلاَمُ! إِنِّي أُعَلِّمُكَ كَلِمَاتٍ: اِحْفَظِ اللهَ يَحْفَظْكَ، اِحْفَظِ اللهَ تَجِدْهُ تُجَاهَكَ، إِذَا سَأَلْتَ فَاسْأَلِ اللهَ، وَإِذَا اسْتَعَنْتَ فَاسْتَعِنْ بِاللهِ...</p>
                               <p class="italic">Dari Ibnu Abbas radhiyallahu 'anhuma, ia berkata: Suatu hari aku berada di belakang Nabi ﷺ, lalu beliau bersabda, "Wahai anak muda, aku akan mengajarkanmu beberapa kalimat: Jagalah Allah, niscaya Dia akan menjagamu. Jagalah Allah, niscaya engkau akan mendapati-Nya di hadapanmu. Jika engkau meminta, mintalah kepada Allah. Jika engkau memohon pertolongan, mohonlah pertolongan kepada Allah..."</p>
                               <p class="mt-2"><strong class="text-maroon-accent">Fawaid:</strong> "Menjaga Allah" berarti menjaga batasan-batasan-Nya (perintah dan larangan). Balasannya adalah Allah akan menjaga kita di dunia (menjaga fisik, keluarga, harta) dan di akhirat (menjaga dari api neraka).</p>
                            </div>
                            
                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">2. Hadits #20: Rasa Malu (35 Menit)</h4>
                               <p class="arabic text-center">عَنْ أَبِي مَسْعُوْدٍ عُقْبَةَ بْنِ عَمْرٍو الْأَنْصَارِيِّ الْبَدْرِيِّ رضي الله عنه قَالَ: قَالَ رَسُولُ اللهِ صلى الله عليه وسلم: إِنَّ مِمَّا أَدْرَكَ النَّاسُ مِنْ كَلاَمِ النُّبُوَّةِ الْأُوْلَى: إِذَا لَمْ تَسْتَحِ فَاصْنَعْ مَا شِئْتَ</p>
                               <p class="italic">Dari Abu Mas'ud 'Uqbah bin 'Amr Al-Anshari Al-Badri radhiyallahu 'anhu, ia berkata: Rasulullah ﷺ bersabda, "Sesungguhnya salah satu perkara yang didapatkan manusia dari perkataan kenabian terdahulu adalah: 'Jika engkau tidak malu, maka berbuatlah sesukamu'."</p>
                               <p class="mt-2"><strong class="text-maroon-accent">Makna:</strong> Hadits ini bisa bermakna 1) Ancaman keras, yaitu jika sudah tidak punya malu, silakan berbuat sesukamu dan tunggulah balasannya. 2) Jika perbuatanmu adalah sesuatu yang secara syariat tidak perlu malu untuk melakukannya, maka lakukanlah.</p>
                               <div class="teacher-note">
                                   <p class="font-bold">Poin Diskusi Guru:</p>
                                   <p>Berikan contoh kasus "malu yang tercela". Misalnya: malu bertanya tentang pelajaran agama, malu untuk shalat di tempat umum, malu menolak ajakan maksiat. Jelaskan bahwa ini bukan malu yang terpuji, melainkan bentuk kelemahan atau kesombongan.</p>
                               </div>
                            </div>
                             
                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">3. Rangkuman & Persiapan Ujian (15 Menit)</h4>
                               <p>Ulas kembali kaitan antara menjaga Allah, tawakal, dan rasa malu. Pastikan santri memahami kedua makna dari hadits ke-20. Siapkan mereka untuk Tes Sumatif.</p>
                            </div>
                         </div>
                    </div>
                </div>

                <div class="p-6 simulation-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Simulasi Interaktif</h3>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h4 class="font-semibold text-maroon-accent mb-2">Simulasi 1: Menjaga Allah</h4>
                            <p class="text-sm mb-4">Manakah di antara perbuatan ini yang termasuk "Menjaga Allah"?</p>
                             <div class="bg-gray-800 p-4 rounded-md space-y-3" id="sim7-container">
                                <label class="block p-2 bg-gray-700 rounded cursor-pointer hover:bg-gray-600"><input type="checkbox" data-jaga="true" class="mr-2"> Menjaga shalat lima waktu.</label>
                                <label class="block p-2 bg-gray-700 rounded cursor-pointer hover:bg-gray-600"><input type="checkbox" data-jaga="true" class="mr-2"> Menundukkan pandangan dari yang haram.</label>
                                <label class="block p-2 bg-gray-700 rounded cursor-pointer hover:bg-gray-600"><input type="checkbox" data-jaga="false" class="mr-2"> Mengikuti tren terbaru.</label>
                                <label class="block p-2 bg-gray-700 rounded cursor-pointer hover:bg-gray-600"><input type="checkbox" data-jaga="true" class="mr-2"> Menjaga lisan dari ghibah.</label>
                                <label class="block p-2 bg-gray-700 rounded cursor-pointer hover:bg-gray-600"><input type="checkbox" data-jaga="false" class="mr-2"> Menjaga image di media sosial.</label>
                             </div>
                        </div>
                        
                        <div>
                             <h4 class="font-semibold text-maroon-accent mb-2">Simulasi 2: Filter Rasa Malu</h4>
                            <p class="text-sm mb-4">Seret setiap jenis rasa malu ke dalam kategori yang tepat.</p>
                             <div id="sim8-source" class="flex flex-wrap gap-2 mb-3 p-2 bg-gray-900 rounded justify-center">
                               <div class="draggable p-2 bg-gray-600 rounded text-xs" draggable="true" data-type="terpuji">Malu berbuat maksiat</div>
                               <div class="draggable p-2 bg-gray-600 rounded text-xs" draggable="true" data-type="tercela">Malu bertanya pelajaran</div>
                               <div class="draggable p-2 bg-gray-600 rounded text-xs" draggable="true" data-type="terpuji">Malu kepada Allah</div>
                               <div class="draggable p-2 bg-gray-600 rounded text-xs" draggable="true" data-type="tercela">Malu shalat di tempat umum</div>
                            </div>
                             <div class="grid grid-cols-2 gap-4">
                                <div class="drop-zone p-2 border-2 border-dashed border-correct rounded-lg min-h-[80px]" data-target="terpuji"><p class="text-center font-bold text-correct text-sm">Malu Terpuji</p></div>
                                <div class="drop-zone p-2 border-2 border-dashed border-incorrect rounded-lg min-h-[80px]" data-target="tercela"><p class="text-center font-bold text-incorrect text-sm">Malu Tercela</p></div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="p-6 quiz-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Latihan Formatif Pertemuan 4</h3>
                    <div id="quiz4" class="space-y-6"></div>
                </div>
            </div>
            
            <!-- =================================================================== -->
            <!-- ======================= KONTEN TES SUMATIF ======================== -->
            <!-- =================================================================== -->
            <div id="tesSumatif" class="tab-pane hidden space-y-6">
                <div class="p-6 bg-red-900/30 border border-red-500 rounded-lg shadow-lg">
                    <h2 class="text-2xl font-bold text-red-300 mb-2">Tes Sumatif: HAD-104</h2>
                    <p class="mb-6 text-red-200">Ujian akhir untuk mengukur hafalan dan pemahaman Anda terhadap Hadits Arba'in #16-20. Bismillah!</p>
                    
                    <div id="sumatif-questions-container"></div>
                    
                    <div id="sumatif-result-container" class="hidden text-center p-6 bg-maroon-darker rounded-lg">
                        <h3 class="text-2xl font-bold text-white">Hasil Tes Sumatif</h3>
                        <p id="sumatif-score" class="text-4xl font-bold text-maroon-accent my-4"></p>
                        <p id="sumatif-feedback" class="text-lg mb-6"></p>
                        <button id="sumatif-retry-btn" class="py-2 px-6 bg-maroon-accent text-white font-semibold rounded-lg hover:bg-maroon-accent-hover transition-colors">Ulangi Tes</button>
                    </div>

                    <button id="sumatif-submit-btn" class="w-full mt-6 py-3 bg-maroon-accent text-white font-bold rounded-lg text-lg hover:bg-maroon-accent-hover transition-colors">Selesaikan Tes</button>
                </div>
            </div>
        </main>
    </div>

<script>
// THIS SCRIPT BLOCK IS MANDATORY AND MUST BE COMPLETE
document.addEventListener('DOMContentLoaded', function() {
    
    // ================== DATA BANK ==================
    const quizData = {
        quiz1: [
            { q: "Wasiat utama yang diulang-ulang oleh Nabi ﷺ dalam hadits ke-16 adalah...", options: ["Jangan berbohong", "Jangan marah", "Jangan sombong", "Jangan kikir"], a: 1, exp: "Benar. Beliau mengulang wasiat 'Jangan marah' beberapa kali." },
            { q: "Orang yang kuat menurut sabda Nabi ﷺ adalah orang yang...", options: ["Badannya kekar", "Bisa mengalahkan lawannya", "Bisa mengendalikan diri saat marah", "Hartanya banyak"], a: 2, exp: "Benar. Kekuatan sejati adalah mampu menahan hawa nafsu saat marah." },
            { q: "Berikut ini adalah cara meredam amarah sesuai sunnah, KECUALI...", options: ["Membaca ta'awudz", "Berwudhu", "Mengubah posisi", "Berteriak untuk melepaskan emosi"], a: 3, exp: "Benar. Berteriak justru melampiaskan amarah, bukan meredamnya." },
            { q: "Sifat marah berasal dari...", options: ["Air", "Tanah", "Api (Setan)", "Udara"], a: 2, exp: "Benar. Oleh karena itu, salah satu cara memadamkannya adalah dengan berwudhu (menggunakan air)." },
            { q: "Apa janji bagi orang yang mampu menahan amarahnya padahal ia mampu melampiaskannya?", options: ["Akan dipanggil di hadapan seluruh makhluk pada hari kiamat", "Mendapat harta", "Menjadi terkenal", "Tidak ada janji apa-apa"], a: 0, exp: "Benar. Ia akan diberi keistimewaan untuk memilih bidadari yang ia sukai." },
            { q: "Periwayat hadits 'Jangan Marah' adalah...", options: ["Umar bin Khattab", "Abu Hurairah", "Ibnu Abbas", "Syaddad bin Aus"], a: 1, exp: "Benar. Diriwayatkan oleh Abu Hurairah radhiyallahu 'anhu." },
            { q: "Marah yang terpuji adalah marah...", options: ["Karena urusan pribadi", "Karena lapar", "Karena syariat Allah dilanggar", "Tanpa sebab yang jelas"], a: 2, exp: "Benar. Marah karena Allah adalah bagian dari cemburu terhadap agama (ghirah)." },
            { q: "Salah satu dampak buruk marah adalah...", options: ["Menjadi lebih sehat", "Mendapat banyak teman", "Merusak hubungan persaudaraan", "Menambah pahala"], a: 2, exp: "Benar. Banyak permusuhan terjadi akibat amarah yang tidak terkendali." },
            { q: "Langkah pertama yang harus diucapkan ketika marah adalah...", options: ["Istighfar", "Tasbih", "Ta'awudz", "Hamdalah"], a: 2, exp: "Benar. Meminta perlindungan kepada Allah dari godaan setan." },
            { q: "Makna 'jangan marah' tidak hanya berarti mencegah timbulnya amarah, tetapi juga...", options: ["Menyimpan dendam", "Tidak melampiaskan amarah jika sudah terjadi", "Marah dalam hati saja", "Melampiaskan kepada benda mati"], a: 1, exp: "Benar. Ini adalah bagian terpenting, yaitu pengendalian setelah amarah itu muncul." }
        ],
        quiz2: [
            { q: "Hadits ke-17 memerintahkan kita untuk berbuat...", options: ["Adil", "Ihsan", "Sabar", "Syukur"], a: 1, exp: "Benar. 'Sesungguhnya Allah telah mewajibkan berlaku ihsan atas segala sesuatu'." },
            { q: "Ihsan dalam beribadah kepada Allah dijelaskan dalam hadits Jibril, yaitu...", options: ["Engkau beribadah seolah-olah melihat Allah, atau merasa diawasi oleh-Nya", "Beribadah secepat mungkin", "Beribadah jika ada yang melihat", "Beribadah hanya di masjid"], a: 0, exp: "Benar. Ini adalah definisi Ihsan yang paling tinggi." },
            { q: "Contoh perbuatan ihsan kepada hewan saat menyembelih adalah...", options: ["Menggunakan pisau tumpul agar hewan tidak cepat mati", "Menajamkan pisau dan menenangkan hewan sembelihan", "Menyembelih di hadapan hewan lainnya", "Mematahkan lehernya terlebih dahulu"], a: 1, exp: "Benar. Ini bertujuan untuk meringankan penderitaan hewan tersebut." },
            { q: "Hukum berbuat ihsan dalam segala sesuatu adalah...", options: ["Sunnah", "Mubah", "Wajib", "Makruh"], a: 2, exp: "Benar. Lafaz haditsnya adalah 'Innallaha kataba' (Sesungguhnya Allah telah mewajibkan)." },
            { q: "Periwayat hadits tentang Ihsan ini adalah...", options: ["Abu Hurairah", "Mu'adz bin Jabal", "Syaddad bin Aus", "Ibnu Abbas"], a: 2, exp: "Benar. Abu Ya'la Syaddad bin Aus radhiyallahu 'anhu." },
            { q: "Jika dalam menyembelih hewan saja kita wajib berbuat ihsan, maka dalam berinteraksi dengan orang tua, sikap kita harus...", options: ["Biasa saja", "Lebih ihsan lagi", "Tergantung suasana hati", "Sama saja"], a: 1, exp: "Benar. Hadits ini menggunakan dalil 'min babil aula' (logika prioritas)." },
            { q: "Ihsan adalah tingkatan beragama yang paling...", options: ["Rendah", "Sedang", "Tinggi", "Asing"], a: 2, exp: "Benar. Tingkatannya adalah Islam, Iman, lalu Ihsan." },
            { q: "Manakah yang BUKAN termasuk perbuatan ihsan?", options: ["Shalat dengan khusyu'", "Jujur saat berdagang", "Memberi makan hewan", "Mencontek saat ujian"], a: 3, exp: "Benar. Mencontek adalah perbuatan khianat, lawan dari ihsan." },
            { q: "Mempertajam pisau sembelihan adalah bentuk ihsan karena...", options: ["Mempercepat proses dan mengurangi rasa sakit", "Agar terlihat profesional", "Agar dagingnya lebih enak", "Perintah dari adat"], a: 0, exp: "Benar. Ini menunjukkan kasih sayang Islam bahkan kepada hewan." },
            { q: "Perintah berlaku ihsan mencakup...", options: ["Hanya kepada sesama muslim", "Hanya kepada manusia", "Hanya dalam ibadah", "Segala sesuatu"], a: 3, exp: "Benar. 'ala kulli syai-in' (atas segala sesuatu)." }
        ],
        quiz3: [
            { q: "Wasiat pertama dalam hadits ke-18 adalah...", options: ["Berakhlak mulia", "Bertakwa kepada Allah di mana pun berada", "Menghapus dosa dengan kebaikan", "Menjaga lisan"], a: 1, exp: "Benar. 'Ittaqillaha haitsuma kunta'." },
            { q: "Makna takwa adalah...", options: ["Menjalankan semua perintah dan menjauhi semua larangan-Nya", "Hanya menjalankan perintah", "Hanya menjauhi larangan", "Rajin ke masjid"], a: 0, exp: "Benar. Takwa adalah perisai antara seorang hamba dengan azab Allah." },
            { q: "Jika seseorang terlanjur berbuat keburukan (dosa kecil), maka yang harus ia lakukan adalah...", options: ["Membiarkannya saja", "Menceritakannya kepada orang lain", "Mengiringinya dengan perbuatan baik", "Melakukan dosa yang lebih besar"], a: 2, exp: "Benar. '...wa atbi'is sayyi-atal hasanata tamhuha'." },
            { q: "Wasiat ketiga dalam hadits ini adalah...", options: ["Bergaul dengan manusia dengan akhlak yang baik", "Menjauhi manusia", "Berdebat dengan manusia", "Meminta-minta kepada manusia"], a: 0, exp: "Benar. '...wa khaaliqin naasa bi khuluqin hasan'." },
            { q: "Berikut ini adalah contoh akhlak yang baik, KECUALI...", options: ["Bermuka manis (ramah)", "Menahan gangguan (sabar)", "Suka menolong", "Suka mencari-cari kesalahan orang lain"], a: 3, exp: "Benar. Mencari-cari kesalahan orang (tajassus) adalah akhlak yang tercela." },
            { q: "Manakah amal kebaikan yang bisa menghapus dosa?", options: ["Shalat lima waktu", "Wudhu", "Sedekah", "Semua jawaban benar"], a: 3, exp: "Benar. Banyak amal kebaikan yang berfungsi sebagai penghapus dosa-dosa kecil." },
            { q: "Wasiat untuk bertakwa 'di mana pun engkau berada' berarti takwa harus dijaga saat...", options: ["Di masjid saja", "Di hadapan guru saja", "Saat ramai dan saat sendiri", "Saat bulan Ramadhan saja"], a: 2, exp: "Benar. Ini adalah inti dari muraqabah, merasa selalu diawasi Allah." },
            { q: "Hadits ini menunjukkan bahwa hubungan seorang muslim harus baik kepada...", options: ["Allah saja", "Manusia saja", "Allah dan sesama manusia", "Diri sendiri saja"], a: 2, exp: "Benar. Ini adalah paket kesalehan yang lengkap (hablun minallah wa hablun minannas)." },
            { q: "Hadits ke-18 ini merupakan wasiat Nabi ﷺ kepada sahabat...", options: ["Abu Hurairah dan Ibnu Abbas", "Umar dan Abu Bakar", "Abu Dzarr dan Mu'adz bin Jabal", "Anas bin Malik dan Aisyah"], a: 2, exp: "Benar. Diriwayatkan dari dua sahabat mulia ini." },
            { q: "Pemberat timbangan amal yang paling utama pada hari kiamat adalah...", options: ["Harta", "Jabatan", "Akhlak yang mulia", "Banyaknya pengikut"], a: 2, exp: "Benar. Sesuai dengan hadits lain yang menyatakan hal tersebut." }
        ],
        quiz4: [
            { q: "Makna dari 'Jagalah Allah' dalam hadits ke-19 adalah...", options: ["Menjaga Allah secara fisik", "Menjaga batasan-batasan syariat Allah", "Menjaga Al-Qur'an di dalam lemari", "Membangun masjid"], a: 1, exp: "Benar. Yaitu dengan menjalankan perintah dan menjauhi larangan-Nya." },
            { q: "Balasan bagi orang yang 'menjaga Allah' adalah...", options: ["Allah akan menjaganya", "Akan mendapat harta", "Akan menjadi penguasa", "Tidak ada balasan"], a: 0, exp: "Benar. '...yahfazhka' (niscaya Dia akan menjagamu)." },
            { q: "Hadits ke-19 mengajarkan kita untuk hanya meminta dan memohon pertolongan kepada...", options: ["Orang pintar", "Orang kaya", "Allah semata", "Malaikat"], a: 2, exp: "Benar. Ini adalah inti dari tauhid dalam hal beribadah dan memohon (tauhid uluhiyyah)." },
            { q: "Hadits 'Jika engkau tidak malu, berbuatlah sesukamu' adalah hadits nomor...", options: ["18", "19", "20", "21"], a: 2, exp: "Benar. Ini adalah hadits ke-20 dari Arba'in An-Nawawiyyah." },
            { q: "Salah satu makna dari hadits 'Jika engkau tidak malu, berbuatlah sesukamu' adalah...", options: ["Perintah untuk bebas berbuat apa saja", "Ancaman keras bagi yang tidak punya malu", "Pujian bagi orang yang pemberani", "Anjuran untuk tidak pemalu"], a: 1, exp: "Benar. Ini adalah makna yang paling umum, yaitu berupa ancaman." },
            { q: "Rasa malu yang terpuji (bagian dari iman) adalah...", options: ["Malu yang menghalangi dari berbuat maksiat", "Malu untuk bertanya tentang ilmu agama", "Malu untuk shalat di tempat umum", "Malu untuk menasihati teman"], a: 0, exp: "Benar. Malu inilah yang mendatangkan kebaikan." },
            { q: "Rasa malu yang tercela adalah...", options: ["Malu saat dipuji", "Malu jika aurat terlihat", "Malu yang menghalangi dari melakukan kebaikan", "Malu berbuat dosa"], a: 2, exp: "Benar. Contohnya malu bertanya pelajaran, ini bukan haya' syar'i tapi kelemahan (khajal)." },
            { q: "Hadits 'Jagalah Allah' adalah wasiat Nabi ﷺ kepada sahabat muda yang bernama...", options: ["Anas bin Malik", "Abdullah bin Abbas", "Mu'adz bin Jabal", "Abu Hurairah"], a: 1, exp: "Benar. Ibnu Abbas, sepupu Nabi ﷺ." },
            { q: "Keyakinan bahwa seluruh makhluk tidak akan bisa memberi manfaat atau mudharat kecuali dengan izin Allah adalah inti dari...", options: ["Syukur", "Sabar", "Tawakal", "Qana'ah"], a: 2, exp: "Benar. Ini membebaskan hati dari ketergantungan pada makhluk." },
            { q: "Menurut hadits ke-20, sifat malu adalah warisan dari...", options: ["Adat istiadat Arab", "Perkataan para nabi terdahulu", "Filsafat Yunani", "Tradisi nenek moyang"], a: 1, exp: "Benar. '...min kalaamin nubuwwatil uulaa' (dari perkataan kenabian yang pertama)." }
        ]
    };

    const sumatifData = [
        ...quizData.quiz1.slice(0, 5), ...quizData.quiz2.slice(0, 5),
        ...quizData.quiz3.slice(0, 5), ...quizData.quiz4.slice(0, 5)
    ].sort(() => Math.random() - 0.5);

    // ================== CORE FUNCTIONS ==================
    const tabs = document.querySelectorAll('.tab-btn');
    const panes = document.querySelectorAll('.tab-pane');
    tabs.forEach(tab => {
        tab.addEventListener('click', () => {
            tabs.forEach(t => t.classList.remove('active'));
            panes.forEach(p => p.classList.add('hidden'));
            tab.classList.add('active');
            document.getElementById(tab.dataset.tab).classList.remove('hidden');
        });
    });

    function createQuiz(quizId, data) {
        const container = document.getElementById(quizId);
        if (!container) return;
        container.innerHTML = '';
        data.forEach((item, index) => {
            const questionBlock = document.createElement('div');
            questionBlock.innerHTML = `
                <p class="mb-3">${index + 1}. ${item.q}</p>
                <div class="space-y-2 options-container">
                    ${item.options.map((option, i) => `
                        <label class="block p-3 bg-gray-800 rounded-lg cursor-pointer hover:bg-gray-700 transition-colors">
                            <input type="radio" name="${quizId}-q${index}" value="${i}" class="mr-3">
                            <span>${option}</span>
                        </label>
                    `).join('')}
                </div>
                <div class="p-3 mt-3 rounded-lg text-sm hidden feedback-box"></div>
            `;
            container.appendChild(questionBlock);

            const optionsContainer = questionBlock.querySelector('.options-container');
            const feedbackBox = questionBlock.querySelector('.feedback-box');
            optionsContainer.addEventListener('change', (e) => {
                const selectedValue = parseInt(e.target.value);
                const isCorrect = selectedValue === item.a;
                
                optionsContainer.querySelectorAll('input[type="radio"]').forEach(radio => {
                    radio.disabled = true;
                    const parentLabel = radio.parentElement;
                    if (parseInt(radio.value) === item.a) {
                        parentLabel.classList.add('bg-correct', 'text-black', 'font-bold');
                    }
                });

                if (!isCorrect) {
                    e.target.parentElement.classList.add('bg-incorrect', 'text-black', 'font-bold');
                }
                
                feedbackBox.innerHTML = item.exp;
                feedbackBox.classList.remove('hidden');
                feedbackBox.classList.add(isCorrect ? 'bg-green-500/20' : 'bg-red-500/20');
            });
        });
    }

    function createSumatifTest() {
        const container = document.getElementById('sumatif-questions-container');
        if (!container) return;
        container.innerHTML = '';
        sumatifData.forEach((item, index) => {
            const questionBlock = document.createElement('div');
            questionBlock.className = 'mb-6 p-4 bg-maroon-dark rounded-lg';
            questionBlock.innerHTML = `
                <p class="mb-3">${index + 1}. ${item.q}</p>
                <div class="space-y-2">
                    ${item.options.map((option, i) => `
                        <label class="block p-3 bg-gray-900 rounded-lg cursor-pointer hover:bg-gray-700 transition-colors">
                            <input type="radio" name="sumatif-q${index}" value="${i}" data-correct="${item.a}" class="mr-3">
                            <span>${option}</span>
                        </label>
                    `).join('')}
                </div>
            `;
            container.appendChild(questionBlock);
        });
    }
    
    // ================== SIMULATION LOGIC ==================
    // Sim 1: Termometer Amarah
    document.querySelectorAll('#sim1-options button').forEach(btn => {
        btn.addEventListener('click', () => {
            const feedback = document.getElementById('sim1-feedback');
            document.querySelectorAll('#sim1-options button').forEach(b => b.disabled = true);
            if (btn.textContent.includes("Membaca ta'awudz lalu duduk")) {
                btn.classList.add('bg-correct', 'text-black');
                feedback.textContent = "Tepat! Ini menggabungkan dua sunnah sekaligus.";
                feedback.className = "text-center mt-3 font-bold h-5 text-correct";
            } else if (btn.textContent.includes("Mengambil air wudhu")) {
                 btn.classList.add('bg-green-500', 'text-black'); // still a good answer
                 feedback.textContent = "Jawaban baik, tapi mengubah posisi lebih dianjurkan sebagai langkah awal.";
                 feedback.className = "text-center mt-3 font-bold h-5 text-green-400";
            } else {
                btn.classList.add('bg-incorrect', 'text-black');
                feedback.textContent = "Kurang Tepat. Ini melampiaskan amarah.";
                feedback.className = "text-center mt-3 font-bold h-5 text-incorrect";
            }
        });
    });

    // Sim 2: Kolektor Kebaikan
    document.querySelectorAll('.sim2-buah').forEach(btn => {
        btn.addEventListener('click', () => {
            const isBenar = btn.dataset.benar === 'true';
            btn.classList.remove('bg-gray-700');
            if(isBenar) {
                btn.classList.add('bg-correct', 'text-black');
            } else {
                btn.classList.add('bg-incorrect', 'text-black');
            }
            btn.style.pointerEvents = 'none';
        });
    });

    // General Drag & Drop Initializer
    function initDragDrop(sourceId, targetClass) {
        const source = document.getElementById(sourceId);
        if (!source) return;
        const draggables = source.querySelectorAll('.draggable');
        const dropZones = document.querySelectorAll(`.${targetClass}`);
        let draggedItem = null;

        draggables.forEach(draggable => {
            draggable.addEventListener('dragstart', () => {
                draggedItem = draggable;
                setTimeout(() => draggable.style.display = 'none', 0);
            });
            draggable.addEventListener('dragend', () => {
                setTimeout(() => {
                    draggedItem.style.display = 'block';
                    draggedItem = null;
                }, 0);
            });
        });

        dropZones.forEach(zone => {
            zone.addEventListener('dragover', e => {
                e.preventDefault();
                zone.classList.add('drag-over');
            });
            zone.addEventListener('dragleave', () => {
                zone.classList.remove('drag-over');
            });
            zone.addEventListener('drop', e => {
                e.preventDefault();
                zone.classList.remove('drag-over');
                if (draggedItem && draggedItem.dataset.type === zone.dataset.target) {
                    zone.appendChild(draggedItem);
                }
            });
        });
    }

    // Sim 3: Klasifikasi Ihsan
    initDragDrop('sim3-source', 'drop-zone');

    // Sim 4: Prosedur Sembelih Ihsan
    document.getElementById('sim4-container')?.addEventListener('change', e => {
        if (e.target.type === 'checkbox') {
            const label = e.target.parentElement;
            const isIhsan = e.target.dataset.ihsan === 'true';
            if (e.target.checked) {
                label.classList.add(isIhsan ? 'bg-correct' : 'bg-incorrect', 'text-black');
            } else {
                label.classList.remove('bg-correct', 'bg-incorrect', 'text-black');
            }
        }
    });

    // Sim 5: Penghapus Dosa
    document.querySelectorAll('#sim5-options button').forEach(btn => {
        btn.addEventListener('click', () => {
            const feedback = document.getElementById('sim5-feedback');
            document.querySelectorAll('#sim5-options button').forEach(b => b.disabled = true);
            if (btn.textContent.includes("Istighfar") || btn.textContent.includes("Bersedekah")) {
                btn.classList.add('bg-correct', 'text-black');
                feedback.textContent = "Benar! Ini adalah amal kebaikan.";
                feedback.className = "text-center mt-3 font-bold h-5 text-correct";
            } else {
                btn.classList.add('bg-incorrect', 'text-black');
                feedback.textContent = "Ini bukan amal kebaikan.";
                feedback.className = "text-center mt-3 font-bold h-5 text-incorrect";
            }
        });
    });

    // Sim 6: Timbangan Akhlak
    initDragDrop('sim6-source', 'drop-zone');

    // Sim 7: Menjaga Allah
     document.getElementById('sim7-container')?.addEventListener('change', e => {
        if (e.target.type === 'checkbox') {
            const label = e.target.parentElement;
            const isJaga = e.target.dataset.jaga === 'true';
            if (e.target.checked) {
                label.classList.add(isJaga ? 'bg-correct' : 'bg-incorrect', 'text-black');
            } else {
                label.classList.remove('bg-correct', 'bg-incorrect', 'text-black');
            }
        }
    });

    // Sim 8: Filter Rasa Malu
    initDragDrop('sim8-source', 'drop-zone');

    // ================== INITIALIZATION ==================
    createQuiz('quiz1', quizData.quiz1);
    createQuiz('quiz2', quizData.quiz2);
    createQuiz('quiz3', quizData.quiz3);
    createQuiz('quiz4', quizData.quiz4);
    createSumatifTest();
    
    const sumatifSubmitBtn = document.getElementById('sumatif-submit-btn');
    const sumatifRetryBtn = document.getElementById('sumatif-retry-btn');
    
    if (sumatifSubmitBtn) {
        sumatifSubmitBtn.addEventListener('click', () => {
            let score = 0;
            const total = sumatifData.length;
            const answers = document.querySelectorAll('#sumatif-questions-container input[type="radio"]:checked');
            answers.forEach(radio => {
                if (parseInt(radio.value) === parseInt(radio.dataset.correct)) { score++; }
            });
            const percentage = (score / total) * 100;
            let feedbackText = '';
            if (percentage >= 85) feedbackText = "Mumtaz! Pemahaman Anda sangat baik. Barakallahu fiik.";
            else if (percentage >= 70) feedbackText = "Jayyid Jiddan. Hasil yang bagus, terus tingkatkan!";
            else if (percentage >= 50) feedbackText = "Jayyid. Cukup baik, muraja'ah lagi materi yang kurang dipahami.";
            else feedbackText = "Perlu belajar lebih giat lagi. Jangan putus asa, ulangi tes setelah muraja'ah.";
            document.getElementById('sumatif-score').textContent = `${score} / ${total}`;
            document.getElementById('sumatif-feedback').textContent = feedbackText;
            document.getElementById('sumatif-questions-container').classList.add('hidden');
            sumatifSubmitBtn.classList.add('hidden');
            document.getElementById('sumatif-result-container').classList.remove('hidden');
        });
    }

    if (sumatifRetryBtn) {
        sumatifRetryBtn.addEventListener('click', () => {
            document.getElementById('sumatif-result-container').classList.add('hidden');
            document.getElementById('sumatif-questions-container').classList.remove('hidden');
            sumatifSubmitBtn.classList.remove('hidden');
            createSumatifTest();
        });
    }
});
</script>
</body>
</html>
