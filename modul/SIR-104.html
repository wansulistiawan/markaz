<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Modul SIR-104: 'Ammul Huzn & Dakwah ke Thaif</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
    tailwind.config = {
        theme: {
            extend: {
                colors: {
                    'sirah-dark': '#2c3e50', // Dark Slate Blue
                    'sirah-darker': '#1f2d3d', // Very Dark Slate Blue
                    'sirah-light': '#ecf0f1', // Light Grayish Blue
                    'sirah-accent': '#3498db', // Bright Blue
                    'sirah-accent-hover': '#2980b9',
                    'sirah-secondary': '#bdc3c7', // Medium Gray for text
                    'correct': '#2ecc71',
                    'incorrect': '#e74c3c',
                },
                fontFamily: {
                    'sans': ['Inter', 'sans-serif'],
                    'arabic': ['"Noto Naskh Arabic"', 'serif']
                }
            }
        }
    }
    </script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Naskh+Arabic:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #1f2d3d;
            color: #ecf0f1;
        }
        .arabic, .arabic-text {
            font-family: 'Noto Naskh Arabic', serif;
            font-size: 1.6rem;
            line-height: 2.8rem;
            direction: rtl;
        }
        .tab-btn.active {
            background-color: #3498db;
            color: #1f2d3d;
            font-weight: 600;
        }
        .teacher-note {
            background-color: rgba(52, 152, 219, 0.1);
            border-left: 4px solid #3498db;
            padding: 1rem;
            margin: 1.5rem 0;
            border-radius: 0 0.5rem 0.5rem 0;
        }
        .simulation-card, .quiz-card {
            background-color: #2c3e50;
            border: 1px solid #4a6fa5;
        }
        .draggable {
            cursor: move;
            user-select: none;
        }
        .drop-zone {
            transition: background-color 0.3s ease;
        }
        .drop-zone.drag-over {
            background-color: #4a6fa5;
        }
        .fade-out {
            transition: opacity 1s ease;
            opacity: 0.2;
        }
    </style>
</head>
<body>

    <div class="container mx-auto p-4 sm:p-6 lg:p-8">
        
        <header class="text-center mb-8 border-b-2 border-sirah-accent pb-4">
            <h1 class="text-3xl md:text-4xl font-bold text-white">Modul Sirah Nabawiyyah</h1>
            <p class="text-xl text-sirah-accent font-semibold mt-1">SIR-104: Tahun Kesedihan & Dakwah ke Thaif</p>
        </header>

        <nav class="flex flex-wrap justify-center mb-8 gap-2">
            <button class="tab-btn active w-full sm:w-auto text-white py-2 px-4 rounded-md transition duration-300 ease-in-out hover:bg-sirah-accent-hover" data-tab="pertemuan1">Pertemuan 1</button>
            <button class="tab-btn w-full sm:w-auto text-white py-2 px-4 rounded-md transition duration-300 ease-in-out hover:bg-sirah-accent-hover" data-tab="pertemuan2">Pertemuan 2</button>
            <button class="tab-btn w-full sm:w-auto text-white py-2 px-4 rounded-md transition duration-300 ease-in-out hover:bg-sirah-accent-hover" data-tab="pertemuan3">Pertemuan 3</button>
            <button class="tab-btn w-full sm:w-auto text-white py-2 px-4 rounded-md transition duration-300 ease-in-out hover:bg-sirah-accent-hover" data-tab="pertemuan4">Pertemuan 4</button>
            <button class="tab-btn w-full sm:w-auto text-white py-2 px-4 rounded-md transition duration-300 ease-in-out bg-red-700 hover:bg-red-600" data-tab="tesSumatif">Tes Sumatif</button>
        </nav>

        <main id="tab-content">
            <!-- =================================================================== -->
            <!-- ==================== KONTEN PERTEMUAN 1 =========================== -->
            <!-- =================================================================== -->
            <div id="pertemuan1" class="tab-pane active space-y-8">
                <div class="p-6 bg-sirah-darker rounded-lg shadow-lg">
                    <h2 class="text-2xl font-bold text-sirah-accent mb-1">Pertemuan 1: Wafatnya Abu Thalib & Khadijah ('Ammul Huzn)</h2>
                    <p class="mb-6 text-sirah-secondary">Mengkaji dua musibah besar yang menimpa Rasulullah ﷺ di tahun ke-10 Kenabian.</p>

                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-sirah-accent pl-3">A. Tujuan Pembelajaran</h3>
                        <ul class="list-disc list-inside space-y-2 pl-2">
                            <li>Santri mampu menceritakan kembali kronologi wafatnya Abu Thalib.</li>
                            <li>Santri mampu menceritakan kembali kronologi wafatnya Khadijah radhiyallahu 'anha.</li>
                            <li>Santri mampu menjelaskan peran vital Abu Thalib sebagai pelindung eksternal dakwah.</li>
                            <li>Santri mampu menjelaskan peran vital Khadijah sebagai pendukung internal dakwah.</li>
                            <li>Santri mampu menjelaskan mengapa tahun tersebut dinamakan 'Ammul Huzn (Tahun Kesedihan).</li>
                        </ul>
                    </div>

                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-sirah-accent pl-3">B. Keterkaitan Nilai Islam</h3>
                        <p class="mb-4">Setiap jiwa pasti akan menghadapi ujian, dan ujian terberat menimpa para Nabi. 'Ammul Huzn adalah bukti nyata dari sunnatullah ini. Kehilangan dua sosok penyokong utama dalam waktu yang berdekatan adalah musibah yang luar biasa. Namun, Rasulullah ﷺ menghadapinya dengan kesabaran (<i class="arabic">الصبر</i>) yang menjadi teladan bagi seluruh umat. Kisah ini mengajarkan bahwa inti dari kesabaran adalah keteguhan hati saat pertama kali ditimpa musibah dan tetap melanjutkan perjuangan dakwah meski dalam keadaan paling sulit sekalipun. Ini adalah manifestasi iman kepada takdir Allah yang baik maupun yang buruk.</p>
                        <div class="p-4 bg-gray-900 rounded-lg text-center">
                            <p class="arabic text-2xl text-white">وَلَنَبْلُوَنَّكُمْ بِشَيْءٍ مِنَ الْخَوْفِ وَالْجُوعِ وَنَقْصٍ مِنَ الْأَمْوَالِ وَالْأَنْفُسِ وَالثَّمَرَاتِ ۗ وَبَشِّرِ الصَّabirinِينَ</p>
                            <p class="mt-2 text-sirah-light">"Dan sungguh akan Kami berikan cobaan kepadamu, dengan sedikit ketakutan, kelaparan, kekurangan harta, jiwa dan buah-buahan. Dan berikanlah berita gembira kepada orang-orang yang sabar."</p>
                            <p class="text-sm text-sirah-accent mt-1">(QS. Al-Baqarah: 155)</p>
                        </div>
                    </div>

                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-sirah-accent pl-3">C. Skenario Pembelajaran (Durasi: 90 Menit)</h3>
                        <div class="space-y-6">
                            <div>
                                <h4 class="font-semibold text-lg text-gray-200">1. Wafatnya Sang Pelindung, Abu Thalib (35 Menit)</h4>
                                <p>Pada tahun ke-10 kenabian, setelah berakhirnya pemboikotan, Abu Thalib jatuh sakit parah. Ia adalah benteng utama yang melindungi Nabi ﷺ dari kekejaman kaum Quraisy. Meskipun ia tidak pernah menyatakan Islam secara lisan, hatinya mencintai dan membela keponakannya. Di akhir hayatnya, Nabi ﷺ terus mendakwahinya untuk mengucapkan syahadat, namun para pembesar Quraisy seperti Abu Jahal terus menghalanginya. Abu Thalib pun wafat di atas agama nenek moyangnya, Abdul Muthalib. Kesedihan Rasulullah ﷺ begitu mendalam atas wafatnya sang paman yang telah merawatnya sejak kecil.</p>
                            </div>
                            
                            <div>
                                <h4 class="font-semibold text-lg text-gray-200">2. Wafatnya Sang Penenang Hati, Khadijah (35 Menit)</h4>
                                <p>Hanya selang beberapa waktu setelah wafatnya Abu Thalib (sekitar 2-3 bulan), istri tercinta Rasulullah ﷺ, Khadijah binti Khuwailid radhiyallahu 'anha, juga wafat. Beliau adalah wanita pertama yang beriman, orang pertama yang menguatkan Nabi ﷺ saat menerima wahyu, dan orang yang mengorbankan seluruh harta dan jiwanya untuk dakwah. Khadijah adalah penenang hati dan penyejuk jiwa bagi Nabi ﷺ. Kehilangannya adalah kehilangan pilar dukungan internal yang tak tergantikan. Beliau wafat pada usia 65 tahun dan dimakamkan di Al-Hajun, Mekkah.</p>
                                
                                <p class="text-xs text-center text-gray-500">Ilustrasi: Pemakaman Al-Hajun (Jannatul Ma'la), tempat Khadijah radhiyallahu 'anha dimakamkan. Sumber: Wikimedia Commons.</p>
                            </div>

                            <div>
                                <h4 class="font-semibold text-lg text-gray-200">3. 'Ammul Huzn: Tahun Penuh Duka (20 Menit)</h4>
                                <p>Dua musibah yang terjadi secara beruntun ini menjadikan tahun tersebut sebagai tahun yang paling menyedihkan bagi Rasulullah ﷺ. Beliau kehilangan benteng pertahanan dari luar (Abu Thalib) dan sumber ketenangan dari dalam (Khadijah). Para sejarawan sirah menamakan tahun ini sebagai <strong class="text-sirah-accent">'Ammul Huzn</strong> atau Tahun Kesedihan. Ini adalah titik balik yang menandai dimulainya fase dakwah yang lebih berat dan penuh tantangan.</p>
                                 <div class="teacher-note">
                                    <p class="font-bold">Poin Diskusi Guru:</p>
                                    <p>Tanyakan, "Apa hikmahnya Allah mengambil dua penyokong utama Nabi ﷺ dalam waktu yang berdekatan?" Arahkan diskusi pada kesimpulan bahwa ini adalah tarbiyah dari Allah agar hati Nabi ﷺ hanya bergantung total kepada-Nya, bukan kepada makhluk. Ini juga merupakan persiapan untuk fase dakwah berikutnya yang lebih berat, yaitu hijrah.</p>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-sirah-accent pl-3">D. Penilaian Modul</h3>
                        <p class="mb-4">Penilaian selama pembelajaran modul ini mencakup tiga aspek utama untuk memastikan pemahaman yang holistik:</p>
                        <div class="grid md:grid-cols-3 gap-4">
                            <div class="p-4 bg-gray-900 rounded"><h4 class="font-semibold text-sirah-accent">1. Sikap / Adab (20%)</h4><p class="text-sm">Meliputi adab dalam mengkaji sirah, meneladani kesabaran Nabi, dan menumbuhkan rasa cinta kepada Nabi dan keluarganya.</p></div>
                            <div class="p-4 bg-gray-900 rounded"><h4 class="font-semibold text-sirah-accent">2. Pengetahuan (50%)</h4><p class="text-sm">Diukur dari hasil Latihan Formatif di setiap pertemuan dan hasil Tes Sumatif di akhir modul. Ini menunjukkan penguasaan alur cerita dan hikmahnya.</p></div>
                            <div class="p-4 bg-gray-900 rounded"><h4 class="font-semibold text-sirah-accent">3. Keterampilan (30%)</h4><p class="text-sm">Dinilai dari partisipasi aktif dalam simulasi, kemampuan mengambil 'ibrah (pelajaran) dari setiap peristiwa, dan kemampuan menceritakan kembali kisah dengan baik.</p></div>
                        </div>
                    </div>
                </div>

                <div class="p-6 simulation-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Simulasi Interaktif</h3>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h4 class="font-semibold text-sirah-accent mb-2">Simulasi 1: Peta Dukungan & Kehilangan</h4>
                            <p class="text-sm mb-4">Klik pada setiap nama untuk melihat peran mereka, lalu klik lagi untuk melihat dampak kehilangannya.</p>
                            <div id="sim1-container" class="space-y-3">
                                <div id="sim1-abu-thalib" class="sim1-tokoh p-3 text-center rounded cursor-pointer bg-gray-700 hover:bg-gray-600 transition-opacity duration-1000">
                                    <h5 class="font-bold">Abu Thalib</h5>
                                    <p class="text-xs italic">"Jangan khawatir, teruslah berdakwah. Selama aku hidup, mereka tak akan menyentuhmu."</p>
                                </div>
                                <div id="sim1-khadijah" class="sim1-tokoh p-3 text-center rounded cursor-pointer bg-gray-700 hover:bg-gray-600 transition-opacity duration-1000">
                                    <h5 class="font-bold">Khadijah radhiyallahu 'anha</h5>
                                    <p class="text-xs italic">"Bergembiralah, demi Allah, Dia tidak akan pernah menghinakanmu selamanya."</p>
                                </div>
                            </div>
                            <p id="sim1-feedback" class="text-center mt-3 text-sm h-5"></p>
                        </div>
                        
                        <div>
                             <h4 class="font-semibold text-sirah-accent mb-2">Simulasi 2: Hikmah di Balik Musibah</h4>
                            <p class="text-sm mb-4">Allah menakdirkan 'Ammul Huzn terjadi. Apa hikmah terbesar di balik ujian ini bagi Rasulullah ﷺ?</p>
                             <div class="bg-gray-800 p-4 rounded-md space-y-2" id="sim2-options">
                                <button class="sim2-option w-full p-3 bg-gray-700 hover:bg-gray-600 rounded text-sm text-left">Agar Nabi ﷺ berhenti berdakwah untuk sementara.</button>
                                <button class="sim2-option w-full p-3 bg-gray-700 hover:bg-gray-600 rounded text-sm text-left">Agar hati Nabi ﷺ bergantung total hanya kepada Allah.</button>
                                <button class="sim2-option w-full p-3 bg-gray-700 hover:bg-gray-600 rounded text-sm text-left">Untuk menunjukkan kepada Quraisy bahwa Nabi ﷺ lemah.</button>
                             </div>
                             <p id="sim2-feedback" class="text-center mt-3 font-bold h-5"></p>
                        </div>
                    </div>
                </div>

                <div class="p-6 quiz-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Latihan Formatif Pertemuan 1</h3>
                    <div id="quiz1" class="space-y-6"></div>
                </div>
            </div>

            <!-- =================================================================== -->
            <!-- ==================== KONTEN PERTEMUAN 2 =========================== -->
            <!-- =================================================================== -->
            <div id="pertemuan2" class="tab-pane hidden space-y-8">
                <div class="p-6 bg-sirah-darker rounded-lg shadow-lg">
                    <h2 class="text-2xl font-bold text-sirah-accent mb-1">Pertemuan 2: Eskalasi Gangguan & Mencari Suaka</h2>
                    <p class="mb-6 text-sirah-secondary">Mempelajari meningkatnya persekusi Quraisy dan upaya Nabi ﷺ mencari basis dakwah baru.</p>
                     
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-sirah-accent pl-3">A. Tujuan Pembelajaran</h3>
                        <ul class="list-disc list-inside space-y-2 pl-2">
                           <li>Santri mampu menjelaskan dampak wafatnya Abu Thalib terhadap sikap kaum Quraisy.</li>
                           <li>Santri dapat menyebutkan minimal dua contoh gangguan fisik yang dialami Nabi ﷺ setelah 'Ammul Huzn.</li>
                           <li>Santri mampu menjelaskan alasan strategis mengapa Nabi ﷺ mulai berdakwah ke kabilah di luar Mekkah.</li>
                           <li>Santri memahami perbedaan antara dakwah kepada individu dan dakwah kepada kabilah (pemegang kekuasaan).</li>
                           <li>Santri meneladani sikap istiqamah Nabi ﷺ dalam berdakwah meski menghadapi rintangan berat.</li>
                        </ul>
                    </div>

                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-sirah-accent pl-3">B. Keterkaitan Nilai Islam</h3>
                        <p class="mb-4">Jalan dakwah tidak pernah mulus. Setelah wafatnya Abu Thalib, benteng perlindungan seakan runtuh dan gangguan kaum musyrikin semakin menjadi-jadi. Namun, Nabi ﷺ tidak pernah surut langkah. Beliau tetap teguh dan lurus dalam menyampaikan risalah. Inilah hakikat dari istiqamah (<i class="arabic">الإستقامة</i>), yaitu konsisten dan kokoh di atas jalan kebenaran apapun rintangannya. Istiqamah adalah karamah terbesar bagi seorang mukmin. Ketika satu pintu tertutup, seorang dai yang istiqamah akan mencari pintu lain untuk menyebarkan kebaikan, sebagaimana yang dicontohkan Nabi ﷺ dengan mulai berdakwah ke kabilah-kabilah lain.</p>
                        <div class="p-4 bg-gray-900 rounded-lg text-center">
                            <p class="arabic-text">فَاسْتَقِمْ كَمَا أُمِرْتَ وَمَنْ تَابَ مَعَكَ وَلَا تَطْغَوْا</p>
                            <p class="mt-2 text-sirah-light">"Maka tetaplah kamu pada jalan yang benar, sebagaimana diperintahkan kepadamu dan (juga) orang yang telah taubat beserta kamu dan janganlah kamu melampaui batas."</p>
                            <p class="text-sm text-sirah-accent mt-1">(QS. Hud: 112)</p>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-sirah-accent pl-3">C. Skenario Pembelajaran (Durasi: 90 Menit)</h3>
                         <div class="space-y-6">
                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">1. Keberanian Kaum Quraisy (40 Menit)</h4>
                               <p>Wafatnya Abu Thalib adalah angin segar bagi kaum Quraisy. Tidak ada lagi sosok sepuh yang disegani yang dapat menghalangi mereka. Gangguan yang tadinya lebih bersifat psikologis dan verbal, kini mulai meningkat menjadi gangguan fisik secara terang-terangan.</p>
                               <ul class="list-disc list-inside pl-4 mt-2 space-y-2">
                                   <li><strong>Insiden Tanah di Kepala:</strong> Seorang musyrik dengan lancang menaburkan tanah ke atas kepala Nabi ﷺ saat beliau berjalan. Beliau pulang ke rumah dengan kepala penuh tanah, lalu putrinya (Fathimah) membersihkannya sambil menangis. Nabi ﷺ menenangkannya, "Jangan menangis wahai putriku, sesungguhnya Allah akan memenangkan ayahmu."</li>
                                   <li><strong>Insiden Usus Unta:</strong> Meskipun ini terjadi sebelum 'Ammul Huzn, intensitas gangguan serupa semakin meningkat. Mereka semakin berani melemparkan kotoran dan najis ke arah beliau atau ke depan pintu rumah beliau.</li>
                               </ul>
                               <p class="mt-2">Nabi ﷺ bersabda, "Dahulu kaum Quraisy tidak bisa berbuat seenaknya kepadaku sampai Abu Thalib meninggal."</p>
                            </div>
                            
                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">2. Strategi Dakwah Baru: Mencari Suaka (35 Menit)</h4>
                               <p>Melihat kondisi di Mekkah yang semakin sulit dan hampir tidak ada harapan, Nabi ﷺ mulai mengubah strategi. Beliau tidak hanya berdakwah kepada perorangan, tetapi juga mulai mendatangi kabilah-kabilah Arab yang datang ke Mekkah saat musim haji.</p>
                               <p class="mt-2 font-semibold">Tujuannya adalah:</p>
                               <ul class="list-decimal list-inside pl-4 mt-1">
                                   <li>Menyampaikan risalah Islam secara lebih luas.</li>
                                   <li>Mencari suaka dan perlindungan (<em class="text-sirah-accent">himayah</em>).</li>
                                   <li>Mencari basis baru (<em class="text-sirah-accent">daulah</em>) di mana Islam bisa diterapkan secara kaffah.</li>
                               </ul>
                               <p>Beliau mendatangi banyak kabilah seperti Bani Kindah, Bani Kalb, Bani Hanifah, namun semuanya menolak. Salah satu upaya terbesar dalam strategi ini adalah perjalanan beliau ke Thaif.</p>
                               <div class="teacher-note">
                                   <p class="font-bold">Poin Diskusi Guru:</p>
                                   <p>Diskusikan: "Apa perbedaan antara sekadar dilindungi (seperti oleh Abu Thalib) dengan diterima oleh suatu kabilah sebagai pemimpin? Mengapa Nabi ﷺ mencari yang kedua?" Arahkan bahwa perlindungan personal hanya menjaga individu, tapi penerimaan oleh kabilah akan menjadikan risalah Islam sebagai sistem yang melindungi seluruh umat.</p>
                               </div>
                            </div>

                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">2. Rangkuman (15 Menit)</h4>
                               <p>Ulas kembali bagaimana wafatnya Abu Thalib meningkatkan gangguan Quraisy. Tekankan bahwa kesulitan ini justru mendorong Nabi ﷺ untuk berpikir lebih strategis dan memperluas cakupan dakwahnya ke luar Mekkah, sebuah langkah awal menuju terbentuknya negara Islam.</p>
                            </div>
                         </div>
                    </div>
                </div>

                <div class="p-6 simulation-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Simulasi Interaktif</h3>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h4 class="font-semibold text-sirah-accent mb-2">Simulasi 1: Timeline Eskalasi</h4>
                            <p class="text-sm mb-4">Urutkan peristiwa berikut sesuai kronologinya untuk melihat eskalasi gangguan.</p>
                             <div class="bg-gray-800 p-4 rounded-md">
                                 <div id="sim3-target" class="space-y-2 p-2 bg-gray-900 rounded min-h-[150px] border border-dashed border-gray-600"></div>
                                 <div id="sim3-source" class="flex flex-wrap gap-2 mt-2">
                                    <div class="draggable p-2 bg-gray-600 rounded text-sm" draggable="true" data-order="2">Wafatnya Abu Thalib</div>
                                    <div class="draggable p-2 bg-gray-600 rounded text-sm" draggable="true" data-order="1">Pemboikotan di Syi'ib Abi Thalib</div>
                                    <div class="draggable p-2 bg-gray-600 rounded text-sm" draggable="true" data-order="3">Penaburan tanah di kepala Nabi ﷺ</div>
                                 </div>
                                 <button id="sim3-check" class="w-full mt-2 py-1 bg-sirah-secondary text-sirah-darker rounded">Cek Urutan</button>
                                 <p id="sim3-feedback" class="text-center mt-2 font-bold h-5"></p>
                             </div>
                        </div>
                        
                        <div>
                             <h4 class="font-semibold text-sirah-accent mb-2">Simulasi 2: Pemetaan Dakwah</h4>
                            <p class="text-sm mb-4">Setelah di Mekkah semakin sulit, ke kota manakah Nabi ﷺ melakukan perjalanan dakwah pertamanya yang paling monumental?</p>
                             <div class="bg-gray-800 p-4 rounded-md text-center">
                                <!-- Simple SVG Map -->
                                <svg viewBox="0 0 200 100" class="mx-auto w-full h-auto max-w-xs bg-gray-700 rounded">
                                    <text x="50" y="55" font-size="10" fill="#ecf0f1" class="font-bold">Mekkah</text>
                                    <circle cx="50" cy="45" r="5" fill="#e74c3c"/>
                                    <path d="M 55 45 Q 100 20 150 55" stroke="#bdc3c7" stroke-dasharray="2,2" fill="none"/>
                                    
                                    <g class="sim4-city cursor-pointer" data-correct="false">
                                      <circle cx="20" cy="20" r="5" fill="#ecf0f1"/>
                                      <text x="20" y="32" font-size="8" fill="#ecf0f1" text-anchor="middle">Madinah</text>
                                    </g>
                                    <g class="sim4-city cursor-pointer" data-correct="true">
                                      <circle cx="150" cy="60" r="5" fill="#ecf0f1"/>
                                      <text x="150" y="72" font-size="8" fill="#ecf0f1" text-anchor="middle">Thaif</text>
                                    </g>
                                     <g class="sim4-city cursor-pointer" data-correct="false">
                                      <circle cx="180" cy="25" r="5" fill="#ecf0f1"/>
                                      <text x="180" y="18" font-size="8" fill="#ecf0f1" text-anchor="middle">Syam</text>
                                    </g>
                                </svg>
                                <p id="sim4-feedback" class="text-center mt-3 font-bold h-5"></p>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="p-6 quiz-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Latihan Formatif Pertemuan 2</h3>
                    <div id="quiz2" class="space-y-6"></div>
                </div>
            </div>
            
            <!-- =================================================================== -->
            <!-- ==================== KONTEN PERTEMUAN 3 =========================== -->
            <!-- =================================================================== -->
            <div id="pertemuan3" class="tab-pane hidden space-y-8">
                <div class="p-6 bg-sirah-darker rounded-lg shadow-lg">
                    <h2 class="text-2xl font-bold text-sirah-accent mb-1">Pertemuan 3: Perjalanan & Dakwah di Thaif</h2>
                    <p class="mb-6 text-sirah-secondary">Mengkaji salah satu episode paling memilukan dalam sejarah dakwah Rasulullah ﷺ.</p>
                     
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-sirah-accent pl-3">A. Tujuan Pembelajaran</h3>
                        <ul class="list-disc list-inside space-y-2 pl-2">
                           <li>Santri mampu menceritakan perjalanan Nabi ﷺ ke Thaif bersama Zaid bin Haritsah.</li>
                           <li>Santri mampu menyebutkan nama kabilah yang berkuasa di Thaif (Bani Tsaqif).</li>
                           <li>Santri dapat menjelaskan bagaimana respons para pemimpin Thaif terhadap dakwah Nabi ﷺ.</li>
                           <li>Santri dapat menggambarkan perlakuan keji penduduk Thaif kepada Nabi ﷺ.</li>
                           <li>Santri meneladani keikhlasan Nabi ﷺ yang tetap berdakwah meski ditolak dan disakiti.</li>
                        </ul>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-sirah-accent pl-3">B. Keterkaitan Nilai Islam</h3>
                        <p class="mb-4">Tujuan seorang dai bukanlah tepuk tangan atau penerimaan dari manusia, melainkan ridha Allah semata. Inilah puncak keikhlasan (<i class="arabic">الإخلاص</i>) yang diajarkan dalam perjalanan ke Thaif. Rasulullah ﷺ menempuh perjalanan jauh dan berat, menyampaikan kebenaran dengan cara terbaik, namun yang beliau dapatkan adalah cemoohan dan lemparan batu. Tidak ada pamrih duniawi sama sekali. Satu-satunya tujuan beliau adalah agar kaumnya mendapat hidayah. Keikhlasan inilah yang membuat doa beliau mustajab dan membuat perjuangannya tetap bernilai agung di sisi Allah, meskipun secara kasat mata dakwah di Thaif saat itu gagal.</p>
                        <div class="p-4 bg-gray-900 rounded-lg text-center">
                            <p class="arabic-text">وَمَا أُمِرُوا إِلَّا لِيَعْبُدُوا اللَّهَ مُخْلِصِينَ لَهُ الدِّينَ حُنَفَاءَ</p>
                            <p class="mt-2 text-sirah-light">"Padahal mereka tidak disuruh kecuali supaya menyembah Allah dengan memurnikan ketaatan kepada-Nya dalam (menjalankan) agama yang lurus..."</p>
                            <p class="text-sm text-sirah-accent mt-1">(QS. Al-Bayyinah: 5)</p>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-sirah-accent pl-3">C. Skenario Pembelajaran (Durasi: 90 Menit)</h3>
                         <div class="space-y-6">
                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">1. Perjalanan Penuh Harapan (25 Menit)</h4>
                               <p>Setelah pintu dakwah di Mekkah terasa buntu, Nabi ﷺ berjalan kaki menuju Thaif, sebuah kota subur yang berjarak sekitar 100 km dari Mekkah. Beliau pergi secara sembunyi-sembunyi agar tidak diketahui kaum Quraisy, ditemani oleh anak angkatnya yang setia, Zaid bin Haritsah. Harapan beliau besar, karena di Thaif berdiam kabilah besar Bani Tsaqif, yang diharapkan bisa menerima Islam dan menjadi basis baru dakwah.</p>
                            </div>
                            
                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">2. Penolakan Pahit dari Pemimpin Thaif (30 Menit)</h4>
                               <p>Nabi ﷺ mendatangi tiga bersaudara yang merupakan pemimpin Bani Tsaqif: Abdu Yalil, Mas'ud, dan Habib, anak-anak dari 'Amr bin 'Umair. Beliau mengajak mereka kepada Allah dan meminta pertolongan mereka untuk Islam. Namun, jawaban mereka sungguh menyakitkan:</p>
                               <ul class="list-disc list-inside mt-2 pl-4 space-y-2 italic">
                                   <li>Yang pertama berkata, "Aku akan merobek kain Ka'bah jika benar Allah yang mengutusmu!"</li>
                                   <li>Yang kedua berkata, "Apakah Allah tidak menemukan orang lain selain dirimu untuk diutus?"</li>
                                   <li>Yang ketiga berkata, "Aku tidak akan berbicara denganmu selamanya. Jika kau benar seorang Rasul, kau terlalu agung untuk kujawab. Jika kau pendusta, aku tak pantas bicara denganmu."</li>
                               </ul>
                            </div>

                             <div>
                               <h4 class="font-semibold text-lg text-gray-200">3. Pengusiran yang Keji (35 Menit)</h4>
                               <p>Tidak cukup dengan penolakan, mereka justru menghasut orang-orang bodoh, para budak, dan anak-anak untuk mengganggu Nabi ﷺ. Mereka membentuk dua barisan di sepanjang jalan keluar kota, lalu mencaci maki dan melempari Nabi ﷺ dan Zaid dengan batu. Batu-batu itu mengenai kaki dan tubuh mulia Rasulullah ﷺ hingga beliau terluka parah dan sandalnya berlumuran darah. Zaid bin Haritsah berusaha melindungi beliau dengan tubuhnya hingga kepalanya pun terluka. Pengusiran keji ini terus berlanjut hingga mereka berdua keluar dari Thaif dan berlindung di sebuah kebun.</p>
                               <div class="teacher-note">
                                   <p class="font-bold">Poin Diskusi Guru:</p>
                                   <p>Ajak santri merenung: "Bayangkan perasaan Rasulullah ﷺ saat itu. Sudah yatim piatu, baru ditinggal paman dan istri tercinta, diusir dari kampung halaman, lalu di kota harapan pun dilempari batu. Ujian seberat apa lagi yang bisa menimpa seseorang? Ini menunjukkan betapa besar pengorbanan beliau untuk kita umatnya."</p>
                               </div>
                            </div>
                         </div>
                    </div>
                </div>
                
                <div class="p-6 simulation-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Simulasi Interaktif</h3>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h4 class="font-semibold text-sirah-accent mb-2">Simulasi 1: Dialog Penolakan</h4>
                            <p class="text-sm mb-4">Anda adalah Rasulullah ﷺ. Anda menyampaikan dakwah tauhid. Lihatlah bagaimana respons para pemimpin Thaif.</p>
                            <div class="bg-gray-800 p-4 rounded-md">
                                <p class="mb-3 text-center bg-gray-900 p-2 rounded">"Sembahlah Allah saja & tolonglah agama ini."</p>
                                <div id="sim5-responses" class="space-y-2">
                                    <div class="p-2 bg-gray-700 rounded text-sm italic opacity-50">"Akan kurobek kain Ka'bah jika Allah mengutusmu!"</div>
                                    <div class="p-2 bg-gray-700 rounded text-sm italic opacity-50">"Apa Allah tidak menemukan orang lain selain kau?"</div>
                                    <div class="p-2 bg-gray-700 rounded text-sm italic opacity-50">"Aku tak mau bicara denganmu, entah kau Rasul atau pendusta."</div>
                                </div>
                                <button id="sim5-reveal" class="w-full mt-3 py-1 bg-sirah-accent text-sirah-darker rounded">Tampilkan Respons</button>
                            </div>
                        </div>
                        
                        <div>
                            <h4 class="font-semibold text-sirah-accent mb-2">Simulasi 2: Jalur Penderitaan</h4>
                            <p class="text-sm mb-4">Penduduk Thaif berbaris di sepanjang jalan keluar. Apa yang mereka lakukan kepada Nabi ﷺ?</p>
                             <div class="bg-gray-800 p-4 rounded-md space-y-3" id="sim6-container">
                                <label class="block p-2 bg-gray-700 rounded cursor-pointer hover:bg-gray-600"><input type="checkbox" data-benar="false" class="mr-2"> Memberi hadiah dan makanan.</label>
                                <label class="block p-2 bg-gray-700 rounded cursor-pointer hover:bg-gray-600"><input type="checkbox" data-benar="true" class="mr-2"> Mencaci maki dan menghina.</label>
                                <label class="block p-2 bg-gray-700 rounded cursor-pointer hover:bg-gray-600"><input type="checkbox" data-benar="true" class="mr-2"> Melempari dengan batu.</label>
                                <label class="block p-2 bg-gray-700 rounded cursor-pointer hover:bg-gray-600"><input type="checkbox" data-benar="false" class="mr-2"> Meminta maaf dan beriman.</label>
                                <label class="block p-2 bg-gray-700 rounded cursor-pointer hover:bg-gray-600"><input type="checkbox" data-benar="true" class="mr-2"> Mengusir hingga keluar kota.</label>
                             </div>
                        </div>
                    </div>
                </div>
                
                <div class="p-6 quiz-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Latihan Formatif Pertemuan 3</h3>
                    <div id="quiz3" class="space-y-6"></div>
                </div>
            </div>

            <!-- =================================================================== -->
            <!-- ==================== KONTEN PERTEMUAN 4 =========================== -->
            <!-- =================================================================== -->
            <div id="pertemuan4" class="tab-pane hidden space-y-8">
                <div class="p-6 bg-sirah-darker rounded-lg shadow-lg">
                    <h2 class="text-2xl font-bold text-sirah-accent mb-1">Pertemuan 4: Doa Mustajab & Pertolongan Allah</h2>
                    <p class="mb-6 text-sirah-secondary">Mengkaji momen-momen pertolongan Allah setelah kesulitan di Thaif.</p>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-sirah-accent pl-3">A. Tujuan Pembelajaran</h3>
                        <ul class="list-disc list-inside space-y-2 pl-2">
                           <li>Santri mampu menceritakan momen saat Nabi ﷺ berlindung di kebun dan memanjatkan doa.</li>
                           <li>Santri dapat menyebutkan isi dari doa mustajab Nabi ﷺ di Thaif.</li>
                           <li>Santri dapat menceritakan kisah datangnya Malaikat Penjaga Gunung dan jawaban Nabi ﷺ.</li>
                           <li>Santri dapat menceritakan kisah keimanan Addas, si budak Nasrani.</li>
                           <li>Santri memahami bahwa puncak rahmat Nabi ﷺ terlihat saat beliau menolak azab bagi kaum Thaif.</li>
                        </ul>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-sirah-accent pl-3">B. Keterkaitan Nilai Islam</h3>
                        <p class="mb-4">Pada titik terendah dalam hidupnya, saat semua pertolongan dari manusia seakan sirna, Nabi ﷺ menunjukkan hakikat tawakal (<i class="arabic">التوكل</i>) yang paling murni. Beliau tidak mengeluh kepada manusia, melainkan mengadu hanya kepada Allah. Doa yang beliau panjatkan menunjukkan puncak penghambaan dan penyandaran diri. Dan pertolongan Allah pun datang. Kisah ini mengajarkan bahwa seberat apapun ujian, pintu langit selalu terbuka. Selama seorang hamba bergantung dan berharap hanya kepada Allah, pertolongan-Nya pasti akan datang dari arah yang tak disangka-sangka.</p>
                        <div class="p-4 bg-gray-900 rounded-lg text-center">
                            <p class="arabic-text">وَمَنْ يَتَوَكَّلْ عَلَى اللَّهِ فَهُوَ حَسْبُهُ</p>
                            <p class="mt-2 text-sirah-light">"...Dan barangsiapa yang bertawakkal kepada Allah niscaya Allah akan mencukupkan (keperluan)nya."</p>
                            <p class="text-sm text-sirah-accent mt-1">(QS. Ath-Thalaq: 3)</p>
                        </div>
                    </div>
                    
                    <div class="mb-6">
                        <h3 class="text-xl font-semibold text-white mb-3 border-l-4 border-sirah-accent pl-3">C. Skenario Pembelajaran (Durasi: 90 Menit)</h3>
                         <div class="space-y-6">
                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">1. Doa di Bawah Pohon Anggur (35 Menit)</h4>
                               <p>Setelah terluka parah, Nabi ﷺ dan Zaid berlindung di sebuah kebun anggur milik 'Utbah dan Syaibah bin Rabi'ah, dua tokoh Quraisy. Di sanalah, dalam puncak kelemahan dan kesedihan, beliau mengangkat tangan dan memanjatkan doa yang sangat indah dan menyentuh:</p>
                               <p class="arabic text-xl text-center bg-gray-900 p-3 rounded my-2">اللَّهُمَّ إِلَيْكَ أَشْكُو ضَعْفَ قُوَّتِي، وَقِلَّةَ حِيلَتِي، وَهَوَانِي عَلَى النَّاسِ...</p>
                               <p class="text-center text-sm italic">"Ya Allah, kepada-Mu aku mengadukan kelemahan kekuatanku, dan kekurangan siasatku, dan kehinaanku di hadapan manusia..."</p>
                               <p>Beliau menutup doanya dengan, "...Asalkan Engkau tidak murka kepadaku, maka aku tidak peduli." Ini menunjukkan puncak keikhlasan.</p>
                            </div>
                            
                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">2. Tawaran Malaikat dan Iman Addas (40 Menit)</h4>
                               <p>Mendengar doa itu, Jibril 'alaihissalam datang bersama Malaikat Penjaga Gunung dan berkata, "Wahai Muhammad, perintahkanlah apa yang kau mau. Jika kau mau, aku bisa menimpakan dua gunung ini kepada mereka."</p>
                               <p class="mt-2">Namun apa jawaban Nabi yang penuh rahmat? "Tidak, bahkan aku berharap semoga Allah mengeluarkan dari tulang sulbi mereka keturunan yang akan menyembah Allah saja dan tidak menyekutukan-Nya."</p>
                               <p class="mt-2">Kemudian, pemilik kebun merasa iba dan mengutus budak mereka bernama Addas untuk memberi setangkai anggur. Ketika Nabi ﷺ mengambilnya sambil membaca "Bismillah", Addas terkejut. Setelah berdialog singkat, Addas yang seorang Nasrani dari Ninawa (negeri Nabi Yunus) mengenali tanda kenabian dan langsung mencium tangan dan kaki Nabi ﷺ, lalu beriman.</p>
                               <div class="teacher-note">
                                   <p class="font-bold">Poin Diskusi Guru:</p>
                                   <p>Bandingkan: "Nabi Yunus pernah meninggalkan kaumnya karena marah. Sementara Nabi Muhammad ﷺ, meski disakiti lebih parah, justru mendoakan kebaikan bagi keturunan kaumnya. Ini menunjukkan maqam (kedudukan) dan kesabaran Rasulullah ﷺ yang luar biasa dan statusnya sebagai Rahmatan lil 'Alamin."</p>
                               </div>
                            </div>
                             
                            <div>
                               <h4 class="font-semibold text-lg text-gray-200">3. Kembali ke Mekkah (15 Menit)</h4>
                               <p>Setelah beristirahat, Nabi ﷺ kembali ke Mekkah. Karena tidak bisa masuk begitu saja, beliau mengirim pesan meminta perlindungan. Akhirnya, Mut'im bin 'Adi (seorang musyrik yang masih punya muru'ah/harga diri) bersedia melindunginya. Nabi ﷺ pun masuk ke Mekkah dikawal oleh Mut'im dan anak-anaknya dengan pedang terhunus.</p>
                            </div>
                         </div>
                    </div>
                </div>

                <div class="p-6 simulation-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Simulasi Interaktif</h3>
                    <div class="grid md:grid-cols-2 gap-8">
                        <div>
                            <h4 class="font-semibold text-sirah-accent mb-2">Simulasi 1: Pilihan Sang Rahmatan lil 'Alamin</h4>
                            <p class="text-sm mb-4">Malaikat Penjaga Gunung menawarkan untuk menghancurkan penduduk Thaif. Jika Anda berada di posisi Nabi ﷺ yang baru saja disakiti, pilihan mana yang akan Anda ambil?</p>
                             <div class="bg-gray-800 p-4 rounded-md space-y-2" id="sim7-options">
                                <button class="sim7-option w-full p-3 bg-gray-700 hover:bg-gray-600 rounded text-sm text-left">Menerima tawaran dan membinasakan mereka.</button>
                                <button class="sim7-option w-full p-3 bg-gray-700 hover:bg-gray-600 rounded text-sm text-left">Menolak tawaran dan mendoakan kebaikan bagi keturunan mereka.</button>
                                <button class="sim7-option w-full p-3 bg-gray-700 hover:bg-gray-600 rounded text-sm text-left">Meminta waktu untuk berpikir.</button>
                             </div>
                             <p id="sim7-feedback" class="text-center mt-3 font-bold h-5"></p>
                        </div>
                        
                        <div>
                             <h4 class="font-semibold text-sirah-accent mb-2">Simulasi 2: Penyusun Doa Mustajab</h4>
                            <p class="text-sm mb-4">Susun potongan doa Nabi ﷺ di Thaif ini menjadi urutan yang benar.</p>
                             <div class="bg-gray-800 p-4 rounded-md">
                                 <div id="sim8-target" class="space-y-2 p-2 bg-gray-900 rounded min-h-[100px] border border-dashed border-gray-600 arabic text-center"></div>
                                 <div id="sim8-source" class="flex flex-wrap gap-2 mt-2">
                                    <div class="draggable p-1 bg-gray-600 rounded text-sm arabic" draggable="true" data-order="2">وَقِلَّةَ حِيلَتِي</div>
                                    <div class="draggable p-1 bg-gray-600 rounded text-sm arabic" draggable="true" data-order="3">وَهَوَانِي عَلَى النَّاسِ</div>
                                    <div class="draggable p-1 bg-gray-600 rounded text-sm arabic" draggable="true" data-order="1">اللَّهُمَّ إِلَيْكَ أَشْكُو ضَعْفَ قُوَّتِي</div>
                                 </div>
                                 <button id="sim8-check" class="w-full mt-2 py-1 bg-sirah-secondary text-sirah-darker rounded">Cek Urutan</button>
                                 <p id="sim8-feedback" class="text-center mt-2 font-bold h-5"></p>
                             </div>
                        </div>
                    </div>
                </div>
                
                <div class="p-6 quiz-card rounded-lg shadow-lg">
                    <h3 class="text-xl font-semibold text-white mb-4">Latihan Formatif Pertemuan 4</h3>
                    <div id="quiz4" class="space-y-6"></div>
                </div>
            </div>
            
            <!-- =================================================================== -->
            <!-- ======================= KONTEN TES SUMATIF ======================== -->
            <!-- =================================================================== -->
            <div id="tesSumatif" class="tab-pane hidden space-y-6">
                <div class="p-6 bg-red-900/30 border border-red-500 rounded-lg shadow-lg">
                    <h2 class="text-2xl font-bold text-red-300 mb-2">Tes Sumatif: SIR-104</h2>
                    <p class="mb-6 text-red-200">Ujian akhir untuk mengukur pemahaman Anda tentang peristiwa 'Ammul Huzn dan dakwah ke Thaif. Bismillah!</p>
                    
                    <div id="sumatif-questions-container"></div>
                    
                    <div id="sumatif-result-container" class="hidden text-center p-6 bg-sirah-darker rounded-lg">
                        <h3 class="text-2xl font-bold text-white">Hasil Tes Sumatif</h3>
                        <p id="sumatif-score" class="text-4xl font-bold text-sirah-accent my-4"></p>
                        <p id="sumatif-feedback" class="text-lg mb-6"></p>
                        <button id="sumatif-retry-btn" class="py-2 px-6 bg-sirah-accent text-white font-semibold rounded-lg hover:bg-sirah-accent-hover transition-colors">Ulangi Tes</button>
                    </div>

                    <button id="sumatif-submit-btn" class="w-full mt-6 py-3 bg-sirah-accent text-white font-bold rounded-lg text-lg hover:bg-sirah-accent-hover transition-colors">Selesaikan Tes</button>
                </div>
            </div>
        </main>
    </div>

<script>
// THIS SCRIPT BLOCK IS MANDATORY AND MUST BE COMPLETE
document.addEventListener('DOMContentLoaded', function() {
    
    // ================== DATA BANK ==================
    const quizData = {
        quiz1: [
            { q: "Apa arti dari 'Ammul Huzn'?", options: ["Tahun Kemenangan", "Tahun Kesedihan", "Tahun Kelaparan", "Tahun Hijrah"], a: 1, exp: "Benar. 'Ammul Huzn berarti Tahun Kesedihan karena wafatnya dua sosok penting bagi Nabi ﷺ." },
            { q: "Siapakah paman Nabi ﷺ yang selalu melindunginya dari gangguan Quraisy meskipun tidak masuk Islam?", options: ["Hamzah bin Abdul Muthalib", "Abbas bin Abdul Muthalib", "Abu Thalib bin Abdul Muthalib", "Abu Lahab bin Abdul Muthalib"], a: 2, exp: "Benar. Abu Thalib adalah pelindung utama dakwah Nabi ﷺ dari sisi eksternal." },
            { q: "Siapakah istri Nabi ﷺ yang menjadi pendukung utama dakwah dari sisi internal dan wafat pada 'Ammul Huzn'?", options: ["Aisyah", "Fathimah", "Khadijah", "Hafsah"], a: 2, exp: "Benar. Khadijah radhiyallahu 'anha adalah orang pertama yang beriman dan sumber ketenangan bagi Nabi ﷺ." },
            { q: "Kapan 'Ammul Huzn' terjadi?", options: ["Tahun pertama kenabian", "Tahun ke-5 kenabian", "Tahun ke-10 kenabian", "Tahun pertama hijrah"], a: 2, exp: "Benar. Peristiwa ini terjadi pada tahun ke-10 setelah kenabian." },
            { q: "Apa kalimat terakhir yang diucapkan Abu Thalib sebelum wafat?", options: ["Laa ilaaha illallah", "Di atas agama Abdul Muthalib", "Muhammad adalah utusan Allah", "Aku akan melindungimu"], a: 1, exp: "Benar. Meskipun Nabi ﷺ terus memintanya bersyahadat, ia memilih tetap di atas agama nenek moyangnya." },
            { q: "Peran utama Khadijah radhiyallahu 'anha bagi dakwah adalah sebagai...", options: ["Pelindung dari serangan fisik", "Sumber dana, dukungan moril, dan penenang hati", "Panglima perang", "Negosiator dengan kabilah lain"], a: 1, exp: "Benar. Beliau adalah pilar dukungan internal yang sangat kokoh." },
            { q: "Wafatnya Abu Thalib dan Khadijah terjadi...", options: ["Secara bersamaan di hari yang sama", "Dalam satu pekan", "Dalam waktu yang berdekatan di tahun yang sama", "Dengan selisih waktu 5 tahun"], a: 2, exp: "Benar. Kedua musibah ini terjadi dalam rentang waktu yang sangat singkat." },
            { q: "Di mana Khadijah radhiyallahu 'anha dimakamkan?", options: ["Di Baqi', Madinah", "Di Al-Hajun, Mekkah", "Di Thaif", "Di samping Ka'bah"], a: 1, exp: "Benar. Pemakaman Al-Hajun atau Jannatul Ma'la adalah tempat peristirahatan terakhir beliau." },
            { q: "Apa dampak terbesar dari wafatnya Abu Thalib?", options: ["Kaum muslimin menjadi kaya raya", "Gangguan kaum Quraisy kepada Nabi ﷺ semakin menjadi-jadi", "Kaum Quraisy langsung beriman", "Nabi ﷺ berhenti berdakwah"], a: 1, exp: "Benar. Tidak ada lagi sosok yang disegani yang dapat menghalangi mereka." },
            { q: "Hikmah terbesar dari peristiwa 'Ammul Huzn' adalah...", options: ["Agar Nabi ﷺ beristirahat", "Agar hati Nabi ﷺ hanya bergantung total kepada Allah", "Agar kaum Quraisy merasa kasihan", "Agar Nabi ﷺ bisa menikah lagi"], a: 1, exp: "Benar. Ini adalah tarbiyah (pendidikan) dari Allah untuk memurnikan tawakal Rasul-Nya." }
        ],
        quiz2: [
            { q: "Setelah wafatnya Abu Thalib, gangguan kaum Quraisy kepada Nabi ﷺ meningkat dari verbal menjadi...", options: ["Perdebatan ilmiah", "Gangguan fisik", "Perjanjian damai", "Tidak ada gangguan lagi"], a: 1, exp: "Benar. Mereka semakin berani menyakiti Nabi ﷺ secara fisik." },
            { q: "Salah satu contoh gangguan fisik yang dialami Nabi ﷺ adalah ketika seorang musyrik...", options: ["Memberinya hadiah", "Menaburkan tanah ke atas kepala beliau", "Mengajaknya makan", "Memujinya"], a: 1, exp: "Benar. Ini adalah salah satu insiden yang menunjukkan betapa hinanya perlakuan mereka." },
            { q: "Melihat kondisi Mekkah yang semakin sulit, strategi baru Nabi ﷺ adalah...", options: ["Membalas kekerasan dengan kekerasan", "Bersembunyi di dalam rumah", "Mulai berdakwah ke kabilah-kabilah di luar Mekkah", "Pindah ke Habasyah"], a: 2, exp: "Benar. Beliau mulai mencari basis baru untuk dakwah dan perlindungan." },
            { q: "Kapan biasanya Nabi ﷺ mendatangi kabilah-kabilah Arab untuk berdakwah?", options: ["Saat musim panas", "Saat musim dingin", "Saat musim haji", "Setiap hari"], a: 2, exp: "Benar. Musim haji adalah saat di mana banyak kabilah dari seluruh Jazirah Arab berkumpul di Mekkah." },
            { q: "Tujuan utama Nabi ﷺ mencari suaka ke kabilah lain adalah...", options: ["Untuk mencari kekayaan", "Untuk mendapatkan perlindungan dan mendirikan basis dakwah Islam", "Untuk berwisata", "Untuk melupakan kesedihan"], a: 1, exp: "Benar. Beliau mencari tempat di mana Islam bisa tegak sebagai sebuah sistem." },
            { q: "Sikap Nabi ﷺ yang tetap teguh berdakwah meskipun rintangan semakin berat menunjukkan sifat...", options: ["Keputusasaan", "Keras kepala", "Istiqamah", "Sombong"], a: 2, exp: "Benar. Istiqamah adalah teguh dan konsisten di atas jalan kebenaran." },
            { q: "Ucapan Nabi ﷺ, 'Dahulu kaum Quraisy tidak bisa berbuat seenaknya kepadaku sampai ... meninggal', merujuk pada wafatnya?", options: ["Khadijah", "Hamzah", "Abu Thalib", "Abdullah (ayahnya)"], a: 2, exp: "Benar. Ini menunjukkan betapa besar peran Abu Thalib dalam melindungi dakwah." },
            { q: "Di antara kabilah-kabilah yang didatangi Nabi ﷺ namun menolak dakwahnya adalah...", options: ["Bani Kindah dan Bani Hanifah", "Aus dan Khazraj", "Bani Hasyim", "Semua kabilah menerima"], a: 0, exp: "Benar. Banyak sekali kabilah yang menolak dakwah beliau sebelum akhirnya diterima oleh Aus dan Khazraj dari Madinah." },
            { q: "Upaya dakwah ke luar Mekkah yang pertama kali dan paling monumental dilakukan Nabi ﷺ ke kota...", options: ["Madinah (Yatsrib)", "Thaif", "Syam", "Yaman"], a: 1, exp: "Benar. Perjalanan ke Thaif adalah upaya besar pertama mencari suaka di luar Mekkah." },
            { q: "Apa yang dilakukan Fathimah radhiyallahu 'anha ketika melihat ayahnya pulang dengan kepala penuh tanah?", options: ["Tertawa", "Memarahinya", "Membersihkannya sambil menangis", "Membiarkannya"], a: 2, exp: "Benar. Ini menunjukkan betapa berat penderitaan yang dilihat oleh keluarga beliau." }
        ],
        quiz3: [
            { q: "Siapakah yang menemani Rasulullah ﷺ dalam perjalanan dakwah ke Thaif?", options: ["Abu Bakar Ash-Shiddiq", "Umar bin Khattab", "Zaid bin Haritsah", "Ali bin Abi Thalib"], a: 2, exp: "Benar. Zaid bin Haritsah, anak angkat yang sangat beliau cintai." },
            { q: "Kabilah besar yang menguasai kota Thaif adalah...", options: ["Bani Hasyim", "Bani Umayyah", "Bani Tsaqif", "Bani Makhzum"], a: 2, exp: "Benar. Nabi ﷺ berharap besar pada kabilah Bani Tsaqif." },
            { q: "Bagaimana respons tiga bersaudara pemimpin Thaif terhadap dakwah Nabi ﷺ?", options: ["Mereka langsung beriman", "Mereka meminta waktu untuk berpikir", "Mereka menolak dengan kasar dan cemoohan", "Mereka diam saja"], a: 2, exp: "Benar. Jawaban mereka semua menunjukkan penolakan yang sangat menyakitkan." },
            { q: "Setelah para pemimpin menolak, apa yang mereka lakukan selanjutnya?", options: ["Memberi hadiah sebagai permintaan maaf", "Menghasut penduduk untuk mengusir dan melempari Nabi ﷺ", "Mengadakan jamuan makan", "Meminta Nabi ﷺ untuk pergi baik-baik"], a: 1, exp: "Benar. Mereka tidak hanya menolak, tetapi juga memprovokasi penduduk." },
            { q: "Siapakah yang berusaha melindungi Nabi ﷺ dari lemparan batu dengan tubuhnya hingga kepalanya terluka?", options: ["Abu Bakar", "Zaid bin Haritsah", "Nabi ﷺ seorang diri", "Malaikat Jibril"], a: 1, exp: "Benar. Zaid menunjukkan kesetiaan yang luar biasa dalam melindungi Rasulullah ﷺ." },
            { q: "Bagian tubuh Nabi ﷺ yang paling parah terluka akibat lemparan batu adalah...", options: ["Tangan beliau", "Punggung beliau", "Kepala beliau", "Kaki beliau hingga sandalnya berlumuran darah"], a: 3, exp: "Benar. Luka di kaki beliau sangat parah hingga sulit berjalan." },
            { q: "Di manakah Nabi ﷺ dan Zaid berlindung setelah diusir dari Thaif?", options: ["Di sebuah gua", "Di sebuah kebun anggur", "Di rumah penduduk", "Kembali ke Mekkah"], a: 1, exp: "Benar. Mereka berlindung di kebun milik 'Utbah dan Syaibah bin Rabi'ah." },
            { q: "Jarak antara Mekkah dan Thaif yang ditempuh Nabi ﷺ dengan berjalan kaki adalah sekitar...", options: ["10 km", "25 km", "100 km", "500 km"], a: 2, exp: "Benar. Ini menunjukkan betapa beratnya perjuangan fisik yang beliau lakukan." },
            { q: "Tujuan utama Nabi ﷺ pergi ke Thaif adalah...", options: ["Berdagang", "Berlibur", "Berharap dakwahnya diterima dan mendapat perlindungan", "Mengunjungi kerabat"], a: 2, exp: "Benar. Beliau mencari harapan baru setelah kondisi di Mekkah semakin sulit." },
            { q: "Peristiwa di Thaif menunjukkan puncak sifat ... dari Rasulullah ﷺ.", options: ["Kekayaan", "Kekuasaan", "Kesabaran dan keikhlasan", "Kemarahan"], a: 2, exp: "Benar. Meskipun disakiti sedemikian rupa, beliau tetap sabar dan ikhlas." }
        ],
        quiz4: [
            { q: "Di dalam kebun anggur, Nabi ﷺ memanjatkan doa yang menunjukkan puncak...", options: ["Kemarahan dan kutukan", "Keputusasaan", "Penghambaan dan pengaduan hanya kepada Allah", "Permintaan kekayaan"], a: 2, exp: "Benar. Doa tersebut adalah contoh tawakal dan penghambaan yang paling murni." },
            { q: "Siapakah yang datang bersama Jibril dan menawarkan untuk menghancurkan penduduk Thaif?", options: ["Malaikat Mikail", "Malaikat Israfil", "Malaikat Penjaga Gunung", "Malaikat Maut"], a: 2, exp: "Benar. Malaikat Penjaga Gunung menawarkan untuk menimpakan dua gunung kepada mereka." },
            { q: "Bagaimana jawaban Nabi ﷺ terhadap tawaran Malaikat Penjaga Gunung?", options: ["Beliau langsung menerima tawaran itu", "Beliau menolak dan berharap dari keturunan mereka akan lahir generasi yang bertauhid", "Beliau meminta agar hanya para pemimpinnya yang dihancurkan", "Beliau meminta waktu untuk istikharah"], a: 1, exp: "Benar. Ini menunjukkan sifat rahmatan lil 'alamin beliau." },
            { q: "Siapakah nama budak Nasrani yang memberi anggur dan akhirnya beriman kepada Nabi ﷺ?", options: ["Salman", "Bilal", "Suhayb", "Addas"], a: 3, exp: "Benar. Addas adalah satu-satunya 'hasil' dakwah di Thaif saat itu." },
            { q: "Dari kota manakah Addas berasal, yang juga merupakan kota asal Nabi Yunus 'alaihissalam?", options: ["Yerusalem", "Damaskus", "Ninawa", "Babilonia"], a: 2, exp: "Benar. Ketika Nabi ﷺ menyebut nama Nabi Yunus, Addas langsung mengenali tanda kenabian." },
            { q: "Inti dari doa Nabi ﷺ di Thaif adalah, 'Asalkan Engkau tidak murka kepadaku, maka...'", options: ["Aku akan membalas mereka", "Aku tidak peduli (dengan penderitaan ini)", "Berilah aku kemenangan", "Aku akan berhenti berdakwah"], a: 1, exp: "Benar. Ridha Allah adalah tujuan utama, bukan keselamatan atau kenyamanan pribadi." },
            { q: "Setelah dari Thaif, bagaimana cara Nabi ﷺ bisa masuk kembali ke kota Mekkah?", options: ["Dengan menyamar", "Dengan berperang", "Dengan mendapat perlindungan (jiwar) dari Mut'im bin 'Adi", "Melalui pintu rahasia"], a: 2, exp: "Benar. Beliau masuk di bawah perlindungan seorang tokoh musyrik yang masih memiliki harga diri." },
            { q: "Apa yang membuat Addas yakin bahwa Nabi Muhammad ﷺ adalah seorang Nabi?", options: ["Karena beliau orang Arab", "Karena ucapan 'Bismillah' dan pengetahuan beliau tentang Nabi Yunus", "Karena beliau tampan", "Karena beliau membawa banyak pengikut"], a: 1, exp: "Benar. Hal-hal ini tidak diketahui kecuali oleh seorang Nabi." },
            { q: "Kisah Addas menunjukkan bahwa...", options: ["Semua penduduk Thaif jahat", "Hidayah bisa datang kepada siapa saja yang Allah kehendaki, bahkan di saat paling sulit", "Orang Nasrani lebih mudah beriman", "Nabi ﷺ hanya berdakwah kepada orang Arab"], a: 1, exp: "Benar. Keimanan Addas menjadi setitik cahaya di tengah kegelapan penolakan." },
            { q: "Peristiwa Thaif terjadi sebelum peristiwa...", options: ["Isra' Mi'raj", "Hijrah ke Habasyah", "Wafatnya Abu Thalib", "Perang Badar"], a: 0, exp: "Benar. Isra' Mi'raj adalah hiburan dari Allah untuk Nabi ﷺ setelah kesedihan di 'Ammul Huzn dan Thaif." }
        ]
    };

    const sumatifData = [
        ...quizData.quiz1.slice(0, 5), ...quizData.quiz2.slice(0, 5),
        ...quizData.quiz3.slice(0, 5), ...quizData.quiz4.slice(0, 5)
    ].sort(() => Math.random() - 0.5);

    // ================== CORE FUNCTIONS ==================
    const tabs = document.querySelectorAll('.tab-btn');
    const panes = document.querySelectorAll('.tab-pane');
    tabs.forEach(tab => {
        tab.addEventListener('click', () => {
            tabs.forEach(t => t.classList.remove('active'));
            panes.forEach(p => p.classList.add('hidden'));
            tab.classList.add('active');
            document.getElementById(tab.dataset.tab).classList.remove('hidden');
        });
    });

    function createQuiz(quizId, data) {
        const container = document.getElementById(quizId);
        if (!container) return;
        container.innerHTML = '';
        data.forEach((item, index) => {
            const questionBlock = document.createElement('div');
            questionBlock.innerHTML = `
                <p class="mb-3">${index + 1}. ${item.q}</p>
                <div class="space-y-2 options-container">
                    ${item.options.map((option, i) => `
                        <label class="block p-3 bg-gray-800/50 rounded-lg cursor-pointer hover:bg-gray-700/50 transition-colors">
                            <input type="radio" name="${quizId}-q${index}" value="${i}" class="sr-only">
                            <span>${option}</span>
                        </label>
                    `).join('')}
                </div>
                <div class="p-3 mt-3 rounded-lg text-sm hidden feedback-box"></div>
            `;
            container.appendChild(questionBlock);

            const optionsContainer = questionBlock.querySelector('.options-container');
            const feedbackBox = questionBlock.querySelector('.feedback-box');
            optionsContainer.addEventListener('change', (e) => {
                const selectedValue = parseInt(e.target.value);
                const isCorrect = selectedValue === item.a;
                
                optionsContainer.querySelectorAll('label').forEach((label, i) => {
                    const radio = label.querySelector('input');
                    radio.disabled = true;
                    if (i === item.a) {
                        label.classList.add('bg-correct', 'text-white', 'font-bold');
                    }
                });

                if (!isCorrect) {
                     e.target.parentElement.classList.add('bg-incorrect', 'text-white', 'font-bold');
                }
                
                feedbackBox.innerHTML = item.exp;
                feedbackBox.classList.remove('hidden');
                feedbackBox.classList.add(isCorrect ? 'bg-green-500/20' : 'bg-red-500/20');
            });
        });
    }

    function createSumatifTest() {
        const container = document.getElementById('sumatif-questions-container');
        if (!container) return;
        container.innerHTML = '';
        sumatifData.forEach((item, index) => {
            const questionBlock = document.createElement('div');
            questionBlock.className = 'mb-6 p-4 bg-sirah-dark rounded-lg';
            questionBlock.innerHTML = `
                <p class="mb-3">${index + 1}. ${item.q}</p>
                <div class="space-y-2">
                     ${item.options.map((option, i) => `
                        <label class="block p-3 bg-gray-800/50 rounded-lg cursor-pointer hover:bg-gray-700/50 transition-colors">
                            <input type="radio" name="sumatif-q${index}" value="${i}" data-correct="${item.a}" class="sr-only">
                            <span>${option}</span>
                        </label>
                    `).join('')}
                </div>
            `;
            container.appendChild(questionBlock);
        });
    }
    
    // ================== SIMULATION LOGIC ==================
    // Sim 1: Peta Dukungan & Kehilangan
    document.querySelectorAll('.sim1-tokoh').forEach(tokoh => {
        let clicks = 0;
        tokoh.addEventListener('click', () => {
            clicks++;
            const feedback = document.getElementById('sim1-feedback');
            if (clicks === 1) {
                if (tokoh.id.includes('abu-thalib')) {
                    feedback.textContent = "Abu Thalib adalah benteng perlindungan eksternal bagi dakwah.";
                } else {
                    feedback.textContent = "Khadijah adalah pilar dukungan dan ketenangan internal bagi Nabi ﷺ.";
                }
            } else if (clicks === 2) {
                tokoh.classList.add('fade-out');
                 if (tokoh.id.includes('abu-thalib')) {
                    feedback.textContent = "Kehilangan Abu Thalib membuat Quraisy semakin berani.";
                } else {
                    feedback.textContent = "Kehilangan Khadijah adalah duka yang mendalam bagi Nabi ﷺ.";
                }
            }
        });
    });

    // Sim 2: Hikmah di Balik Musibah
    document.querySelectorAll('.sim2-option').forEach(btn => {
        btn.addEventListener('click', () => {
            const feedback = document.getElementById('sim2-feedback');
            document.querySelectorAll('.sim2-option').forEach(b => b.disabled = true);
            if (btn.textContent.includes("bergantung total hanya kepada Allah")) {
                btn.classList.add('bg-correct', 'text-white');
                feedback.textContent = "Benar! Ini adalah tarbiyah untuk memurnikan tawakal.";
                feedback.className = "text-center mt-3 font-bold h-5 text-correct";
            } else {
                btn.classList.add('bg-incorrect', 'text-white');
                feedback.textContent = "Kurang Tepat.";
                feedback.className = "text-center mt-3 font-bold h-5 text-incorrect";
            }
        });
    });

    // Sim 3: Timeline Eskalasi (Sequence)
    function initSequenceChecker(sourceId, targetId, checkBtnId, feedbackId) {
        const target = document.getElementById(targetId);
        const source = document.getElementById(sourceId);
        const checkBtn = document.getElementById(checkBtnId);
        const feedback = document.getElementById(feedbackId);

        let draggedItem = null;
        const setupDrag = (container) => {
            container.addEventListener('dragstart', e => { if (e.target.classList.contains('draggable')) draggedItem = e.target; });
            container.addEventListener('dragover', e => e.preventDefault());
            container.addEventListener('drop', e => { if (draggedItem) container.appendChild(draggedItem); });
        };
        setupDrag(target);
        setupDrag(source);
        document.body.addEventListener('dragend', () => { draggedItem = null; });
        
        checkBtn.addEventListener('click', () => {
            const items = Array.from(target.children);
            let isCorrect = true;
            if (items.length !== 3) { isCorrect = false; } 
            else {
                for(let i=0; i<items.length; i++) {
                    if (parseInt(items[i].dataset.order) !== i + 1) {
                        isCorrect = false;
                        break;
                    }
                }
            }
            if (isCorrect) {
                feedback.textContent = "Urutan Benar! Mumtaz!";
                feedback.className = "text-center mt-2 font-bold h-5 text-correct";
            } else {
                feedback.textContent = "Urutan belum tepat. Coba lagi.";
                feedback.className = "text-center mt-2 font-bold h-5 text-incorrect";
            }
        });
    }
    initSequenceChecker('sim3-source', 'sim3-target', 'sim3-check', 'sim3-feedback');

    // Sim 4: Pemetaan Dakwah
    document.querySelectorAll('.sim4-city').forEach(city => {
        city.addEventListener('click', () => {
            const feedback = document.getElementById('sim4-feedback');
            const isCorrect = city.dataset.correct === 'true';
            if(isCorrect) {
                feedback.textContent = "Benar! Thaif adalah tujuan pertama.";
                feedback.className = "text-center mt-3 font-bold h-5 text-correct";
                city.querySelector('circle').style.fill = '#2ecc71';
            } else {
                feedback.textContent = "Kurang tepat. Coba lagi.";
                feedback.className = "text-center mt-3 font-bold h-5 text-incorrect";
                 city.querySelector('circle').style.fill = '#e74c3c';
            }
        });
    });

    // Sim 5: Dialog Penolakan
    document.getElementById('sim5-reveal').addEventListener('click', (e) => {
        document.querySelectorAll('#sim5-responses > div').forEach(div => {
            div.style.opacity = '1';
        });
        e.target.style.display = 'none';
    });

    // Sim 6: Jalur Penderitaan
    document.getElementById('sim6-container')?.addEventListener('change', e => {
        if (e.target.type === 'checkbox') {
            const label = e.target.parentElement;
            const isBenar = e.target.dataset.benar === 'true';
            if (e.target.checked) {
                label.classList.add(isBenar ? 'bg-correct' : 'bg-incorrect', 'text-white');
            } else {
                label.classList.remove('bg-correct', 'bg-incorrect', 'text-white');
            }
        }
    });

    // Sim 7: Pilihan Sang Rahmatan
    document.querySelectorAll('.sim7-option').forEach(btn => {
        btn.addEventListener('click', () => {
            const feedback = document.getElementById('sim7-feedback');
            document.querySelectorAll('.sim7-option').forEach(b => b.disabled = true);
            if (btn.textContent.includes("Menolak tawaran")) {
                btn.classList.add('bg-correct', 'text-white');
                feedback.textContent = "Benar! Inilah akhlak Sang Nabi Rahmat.";
                feedback.className = "text-center mt-3 font-bold h-5 text-correct";
            } else {
                btn.classList.add('bg-incorrect', 'text-white');
                feedback.textContent = "Kurang Tepat.";
                feedback.className = "text-center mt-3 font-bold h-5 text-incorrect";
            }
        });
    });

    // Sim 8: Penyusun Doa
    initSequenceChecker('sim8-source', 'sim8-target', 'sim8-check', 'sim8-feedback');

    // ================== INITIALIZATION ==================
    createQuiz('quiz1', quizData.quiz1);
    createQuiz('quiz2', quizData.quiz2);
    createQuiz('quiz3', quizData.quiz3);
    createQuiz('quiz4', quizData.quiz4);
    createSumatifTest();
    
    const sumatifSubmitBtn = document.getElementById('sumatif-submit-btn');
    const sumatifRetryBtn = document.getElementById('sumatif-retry-btn');
    
    if (sumatifSubmitBtn) {
        sumatifSubmitBtn.addEventListener('click', () => {
            let score = 0;
            const total = sumatifData.length;
            const answers = document.querySelectorAll('#sumatif-questions-container input[type="radio"]:checked');
            answers.forEach(radio => {
                const label = radio.parentElement;
                if (parseInt(radio.value) === parseInt(radio.dataset.correct)) { 
                    score++; 
                    label.classList.add('bg-correct', 'text-white');
                } else {
                    label.classList.add('bg-incorrect', 'text-white');
                }
            });

            const percentage = (score / total) * 100;
            let feedbackText = '';
            if (percentage >= 85) feedbackText = "Mumtaz! Pemahaman Anda tentang sirah ini sangat baik. Barakallahu fiik.";
            else if (percentage >= 70) feedbackText = "Jayyid Jiddan. Hasil yang bagus, terus tingkatkan!";
            else if (percentage >= 50) feedbackText = "Jayyid. Cukup baik, muraja'ah lagi peristiwa yang kurang dipahami.";
            else feedbackText = "Perlu belajar lebih giat lagi. Jangan putus asa, ulangi tes setelah muraja'ah.";
            document.getElementById('sumatif-score').textContent = `${score} / ${total}`;
            document.getElementById('sumatif-feedback').textContent = feedbackText;
            document.getElementById('sumatif-questions-container').classList.add('hidden');
            sumatifSubmitBtn.classList.add('hidden');
            document.getElementById('sumatif-result-container').classList.remove('hidden');
        });
    }

    if (sumatifRetryBtn) {
        sumatifRetryBtn.addEventListener('click', () => {
            document.getElementById('sumatif-result-container').classList.add('hidden');
            document.getElementById('sumatif-questions-container').classList.remove('hidden');
            sumatifSubmitBtn.classList.remove('hidden');
            createSumatifTest();
        });
    }
});
</script>
</body>
</html>
